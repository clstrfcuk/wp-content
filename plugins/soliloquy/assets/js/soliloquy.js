function soliloquyIsMobile(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function soliloquyYouTubeVids(e,t,i,s,n,o){o("#"+n).show().css({display:"block","z-index":"1210"}),YT.Player&&(soliloquy_youtube[t]=new YT.Player(n,{videoId:t,playerVars:e,events:{onStateChange:soliloquyYouTubeOnStateChange}}))}function soliloquyYouTubeOnStateChange(e){var t=jQuery(e.target.getIframe()).data("soliloquy-slider-id");(e.data===YT.PlayerState.PAUSED||e.data===YT.PlayerState.ENDED)&&soliloquy_slider[t]&&soliloquy_slider[t].getSetting("auto")&&soliloquy_slider[t].startAuto(),e.data===YT.PlayerState.PLAYING&&soliloquy_slider[t]&&soliloquy_slider[t].stopAuto()}function onYouTubeIframeAPIReady(){}function soliloquyVimeoVids(e,t,i,s,n,o){if(o("#"+n).show().css({display:"block","z-index":"1210"}),$f){var l={};o.each(o("#"+n)[0].attributes,function(e,t){l[t.nodeName]=t.nodeValue}),e.player_id=n,l.src="//player.vimeo.com/video/"+t+"?"+o.param(e),l.frameborder=0,o("#"+n).replaceWith(function(){return o("<iframe />",l).append(o(this).contents())}),soliloquy_vimeo[t]=$f(o("#"+n)[0]),soliloquy_vimeo[t].addEvent("ready",function(){soliloquy_vimeo[t].addEvent("play",soliloquyVimeoSliderPause),soliloquy_vimeo[t].addEvent("pause",soliloquyVimeoSliderStart),soliloquy_vimeo[t].addEvent("finish",soliloquyVimeoSliderStart)})}}function soliloquyVimeoSliderPause(e){var t=jQuery("#"+e).data("soliloquy-slider-id");soliloquy_slider[t]&&soliloquy_slider[t].stopAuto()}function soliloquyVimeoSliderStart(e){var t=jQuery("#"+e).data("soliloquy-slider-id");soliloquy_slider[t]&&soliloquy_slider[t].getSetting("auto")&&soliloquy_slider[t].startAuto()}function soliloquyWistiaVids(e,t,i,s,n,o){if(o("#"+n).show().css({display:"block","z-index":"1210"}),wistiaEmbeds){var l={};o.each(o("#"+n)[0].attributes,function(e,t){l[t.nodeName]=t.nodeValue}),e.container=n,l.src="//fast.wistia.net/embed/iframe/"+t+"?"+o.param(e),l.frameborder=0,o("#"+n).replaceWith(function(){return o("<iframe />",l).addClass("wistia_embed").append(o(this).contents())}),wistiaEmbeds.onFind(function(e){t==e.hashedId()&&(soliloquy_wistia[t]=e,soliloquy_wistia[t].bind("play",function(){var e=o(this.container).data("soliloquy-slider-id");soliloquy_slider[e]&&soliloquy_slider[e].stopAuto()}),soliloquy_wistia[t].bind("pause",function(){var e=o(this.container).data("soliloquy-slider-id");soliloquy_slider[e]&&soliloquy_slider[e].getSetting("auto")&&soliloquy_slider[e].startAuto()}),soliloquy_wistia[t].bind("end",function(){var e=o(this.container).data("soliloquy-slider-id");soliloquy_slider[e]&&soliloquy_slider[e].getSetting("auto")&&soliloquy_slider[e].startAuto()}),e.play())})}}!function(e){var t={},s={keyboard:!1,mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"soliloquy-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.soliloquy=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).soliloquy(n)}),this;var o={},l=this;t.el=this;var a=e(window).width(),r=e(window).height(),d=function(){o.settings=e.extend({},s,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=l.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),l.data("origStyle",l.attr("style")),l.children(o.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c()},c=function(){l.wrap('<div class="'+o.settings.wrapperClass+'"><div class="soliloquy-viewport"></div></div>'),o.viewport=l.parent(),o.loader=e('<div class="soliloquy-loading" />'),o.viewport.prepend(o.loader),l.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?l.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");m();o.viewport.css({width:"100%",position:"relative"}),"fade"!=o.settings.mode&&o.viewport.css({overflow:"hidden"}),o.viewport.parent().css({maxWidth:h()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"left",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({zIndex:0,display:"none",marginRight:"-100%",width:"100%"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=e('<div class="soliloquy-controls" />'),o.settings.captions&&k(),o.active.last=o.settings.startSlide==f()-1;var t=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(t=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&b(),o.settings.controls&&q(),o.settings.auto&&o.settings.autoControls&&T(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(t,u)},g=function(t,i){var s=t.find("img, iframe").length;if(0==s)return void i();var n=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++n==s&&i()}).each(function(){this.complete&&e(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("soliloquy-clone"),s=o.children.slice(-t).clone().addClass("soliloquy-clone");l.append(i).prepend(s)}o.loader.remove(),x(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),l.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&e(window).bind("resize",O),o.settings.auto&&o.settings.autoStart&&(f()>1||o.settings.autoSlideForOnePage)&&W(),o.settings.ticker&&Y(),o.settings.pager&&M(o.settings.startSlide),o.settings.controls&&D(),o.settings.touchEnabled&&!o.settings.ticker&&V(),o.settings.keyboard&&!o.settings.ticker&&e(document).on("keydown",function(e){return 39==e.keyCode?(C(e),!1):37==e.keyCode?(E(e),!1):void 0})},p=function(){var t=0,s=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var n=1==o.settings.moveSlides?o.active.index:o.active.index*S();for(s=o.children.eq(n),i=1;i<=o.settings.maxSlides-1;i++)s=s.add(n+i>=o.children.length?o.children.eq(i-1):o.children.eq(n+i))}else s=o.children.eq(o.active.index);else s=o.children;return"vertical"==o.settings.mode?(s.each(function(){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,s.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),t},h=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),"fade"==o.settings.mode?"100%":e},v=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||t<o.minThreshold&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),"fade"==o.settings.mode?"100%":e},m=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width()+o.settings.slideMargin;e=Math.floor((o.viewport.width()+o.settings.slideMargin)/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},f=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=Math.ceil(o.children.length/S());else for(var t=0,i=0;t<o.children.length;)++e,t=i+m(),i+=o.settings.moveSlides<=m()?o.settings.moveSlides:m();else e=Math.ceil(o.children.length/m());return e},S=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=m()?o.settings.moveSlides:m()},x=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();y(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();y(-t.top,"reset",0)}}else{var t=o.children.eq(o.active.index*S()).position();o.active.index==f()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?y(-t.left,"reset",0):"vertical"==o.settings.mode&&y(-t.top,"reset",0))}},y=function(e,t,i,s){if(o.usingCSS){var n="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";l.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(l.css(o.animProp,n),l.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){l.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),_()})):"reset"==t?l.css(o.animProp,n):"ticker"==t&&(l.css("-"+o.cssPrefix+"-transition-timing-function","linear"),l.css(o.animProp,n),l.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){l.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(s.resetValue,"reset",0),H()}))}else{var a={};a[o.animProp]=e,"slide"==t?l.animate(a,i,o.settings.easing,function(){_()}):"reset"==t?l.css(o.animProp,e):"ticker"==t&&l.animate(a,speed,"linear",function(){y(s.resetValue,"reset",0),H()})}},w=function(){for(var t="",i=f(),s=0;i>s;s++){var n="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(n=o.settings.buildPager(s),o.pagerEl.addClass("soliloquy-custom-pager")):(n=s+1,o.pagerEl.addClass("soliloquy-default-pager")),t+='<div class="soliloquy-pager-item"><a href="" data-slide-index="'+s+'" class="soliloquy-pager-link"><span>'+n+"</span></a></div>"}o.pagerEl.html(t)},b=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="soliloquy-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("soliloquy-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click","a",I)},q=function(){o.controls.next=e('<a class="soliloquy-next" href=""><span>'+o.settings.nextText+"</span></a>"),o.controls.prev=e('<a class="soliloquy-prev" href=""><span>'+o.settings.prevText+"</span></a>"),o.controls.next.bind("click",C),o.controls.prev.bind("click",E),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="soliloquy-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("soliloquy-has-controls-direction").append(o.controls.directionEl))},T=function(){o.controls.start=e('<div class="soliloquy-controls-auto-item"><a class="soliloquy-start" href=""><span>'+o.settings.startText+"</span></a></div>"),o.controls.stop=e('<div class="soliloquy-controls-auto-item"><a class="soliloquy-stop" href=""><span>'+o.settings.stopText+"</span></a></div>"),o.controls.autoEl=e('<div class="soliloquy-controls-auto" />'),o.controls.autoEl.on("click",".soliloquy-start",P),o.controls.autoEl.on("click",".soliloquy-stop",z),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("soliloquy-has-controls-auto").append(o.controls.autoEl),A(o.settings.autoStart?"stop":"start")},k=function(){o.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="soliloquy-caption"><span>'+t+"</span></div>")})},C=function(e){o.settings.auto&&l.stopAuto(),l.goToNextSlide(),e.preventDefault()},E=function(e){o.settings.auto&&l.stopAuto(),l.goToPrevSlide(),e.preventDefault()},P=function(e){l.startAuto(),e.preventDefault()},z=function(e){l.stopAuto(),e.preventDefault()},I=function(t){o.settings.auto&&l.stopAuto();var i=e(t.currentTarget);if(void 0!==i.attr("data-slide-index")){var s=parseInt(i.attr("data-slide-index"));s!=o.active.index&&l.goToSlide(s),t.preventDefault()}},M=function(t){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(t+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,s){e(s).find("a").eq(t).addClass("active")}))},_=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==f()-1&&o.carousel?e=o.children.eq((f()-1)*S()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),e&&("horizontal"==o.settings.mode?y(-e.left,"reset",0):"vertical"==o.settings.mode&&y(-e.top,"reset",0))}o.working=!1,"fade"==o.settings.mode&&o.viewport.css({overflow:""}),o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},A=function(e){o.settings.autoControlsCombine?o.controls.autoEl&&o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.soliloquy-"+e+")").addClass("active"))},D=function(){1==f()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==f()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},W=function(){if(o.settings.autoDelay>0){setTimeout(l.startAuto,o.settings.autoDelay)}else l.startAuto();o.settings.autoHover&&l.hover(function(){o.interval&&(l.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(l.startAuto(!0),o.autoPaused=null)})},Y=function(){var t=0;if("next"==o.settings.autoDirection)l.append(o.children.clone().addClass("soliloquy-clone"));else{l.prepend(o.children.clone().addClass("soliloquy-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}y(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){l.stop()},function(){var t=0;o.children.each(function(){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,s="horizontal"==o.settings.mode?"left":"top",n=i*(t-Math.abs(parseInt(l.css(s))));H(n)}),H()},H=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=l.find(".soliloquy-clone").first().position():i=o.children.first().position();var s="horizontal"==o.settings.mode?-t.left:-t.top,n="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:n};y(s,"ticker",speed,a)},V=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",L)},L=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=l.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",N),o.viewport.bind("touchend",F)}},N=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),s=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>s&&o.settings.preventDefaultSwipeX?e.preventDefault():3*s>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var n=0;if("horizontal"==o.settings.mode){var l=t.changedTouches[0].pageX-o.touch.start.x;n=o.touch.originalPos.left+l}else{var l=t.changedTouches[0].pageY-o.touch.start.y;n=o.touch.originalPos.top+l}y(n,"reset",0)}},F=function(e){o.viewport.unbind("touchmove",N);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var s=Math.abs(o.touch.start.x-o.touch.end.x);s>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?l.goToNextSlide():l.goToPrevSlide(),l.stopAuto())}else{var s=0;"horizontal"==o.settings.mode?(s=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&s>0||o.active.last&&0>s)?y(i,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(0>s?l.goToNextSlide():l.goToPrevSlide(),l.stopAuto()):y(i,"reset",200)}o.viewport.unbind("touchend",F)},O=function(){if(o.initialized){var t=e(window).width(),i=e(window).height();(a!=t||r!=i)&&(a=t,r=i,l.redrawSlider(),o.settings.onSliderResize.call(l,o.active.index))}};return l.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?f()-1:t>=f()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=f()-1,o.settings.pager&&M(o.active.index),o.settings.controls&&D(),"fade"==o.settings.mode)o.viewport.css({overflow:"hidden"}),o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){e(this).css("zIndex",o.settings.slideZIndex),_()});else{o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed);var s=0,n={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);n=a.position(),s=o.viewport.width()-a.outerWidth()}else{var r=o.children.length-o.settings.minSlides;n=o.children.eq(r).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-S():(f()-1)*S()-(o.children.length-o.settings.maxSlides),a=l.children(".soliloquy-clone").eq(d);n=a.position()}else if("next"==i&&0==o.active.index)n=l.find("> .soliloquy-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var c=t*S();n=o.children.eq(c).position()}if("undefined"!=typeof n){var g="horizontal"==o.settings.mode?-(n.left-s):-n.top;y(g,"slide",o.settings.speed)}}},l.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;l.goToSlide(e,"next")}},l.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;l.goToSlide(e,"prev")}},l.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?l.goToNextSlide():l.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&A("stop"))},l.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&A("start"))},l.getCurrentSlide=function(){return o.active.index},l.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},l.getSlideCount=function(){return o.children.length},l.redrawSlider=function(){o.children.add(l.find(".soliloquy-clone")).width(v()),o.viewport.css("height",p()),o.settings.ticker||x(),o.active.last&&(o.active.index=f()-1),o.active.index>=f()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),M(o.active.index))},l.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".soliloquy-clone",this).remove(),o.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),e(".soliloquy-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&e(window).unbind("resize",O))},l.reloadSlider=function(e){void 0!=e&&(n=e),l.destroySlider(),d()},l.getSetting=function(e){return o.settings[e]?o.settings[e]:!1},d(),this}}(jQuery);