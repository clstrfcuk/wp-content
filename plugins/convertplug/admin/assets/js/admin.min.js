function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function hideLoading(a){jQuery(document).trigger("iframe_load",[a]);var b=jQuery(".customize").data("style");setTimeout(function(){jQuery(".edit-screen-overlay").fadeOut(),jQuery("#smile_design_iframe").css("visibility","visible"),jQuery(".design-area-loading").hide(),jQuery("#button-save-"+b+" > span").trigger("click")},500)}function smileHandleDependencies(){var a=jQuery(".active-customizer").find(".smile-element-container");jQuery.each(a,function(a,b){var c=jQuery(this),d=c.data("name"),e=c.data("operator"),f=c.data("value"),b=c.data("element");if(b=jQuery(this).parents(".content").find("#smile_"+b),"undefined"!=typeof d){var g=jQuery(this).parents(".content").find("#smile_"+d),h=g.val(),i=g.closest(".smile-element-container").css("display");switch(c.hide(),e){case"=":(h=f&&"block"==i)?c.show():c.hide();break;case">":h>f&&"block"==i?c.show():c.hide();break;case">=":h>=f&&"block"==i?c.show():c.hide();break;case"<":f>h&&"block"==i?c.show():c.hide();break;case"<=":f>=h&&"block"==i?c.show():c.hide();break;case"==":h==f&&"block"==i?c.show():c.hide();break;case"!=":h!=f&&"block"==i?c.show():c.hide();break;case"!==":h!==f&&"block"==i?c.show():c.hide();break;case"is_contain":h.indexOf(f)>=0&&"block"==i?c.show():c.hide()}c.hasClass("hide-for-default")&&c.hide()}})}!function(a,b,c,d){"use strict";typeof Color.fn.toString!==d&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(a.length<6)for(var b=6-a.length-1;b>=0;b--)a="0"+a;return"#"+a}),a.cs_ParseColorValue=function(a){var b=a.replace(/\s+/g,""),c=-1!==b.indexOf("rgba")?parseFloat(100*b.replace(/^.*,(.+)\)/,"$1")):100,d=100>c?!0:!1;return{value:b,alpha:c,rgba:d}},a.fn.cs_wpColorPicker=function(){return this.each(function(){var b=a(this);if(b.data("rgba")!==!1){var c=a.cs_ParseColorValue(b.val());b.wpColorPicker({clear:function(){b.trigger("keyup")},change:function(a,c){var d=c.color.toString();b.closest(".wp-picker-container").find(".cs-alpha-slider-offset").css("background-color",d),b.val(d).trigger("change")},create:function(){var d=b.data("a8cIris"),e=b.closest(".wp-picker-container"),f=a('<div class="cs-alpha-wrap"><div class="cs-alpha-slider"></div><div class="cs-alpha-slider-offset"></div><div class="cs-alpha-text"></div></div>').appendTo(e.find(".wp-picker-holder")),g=f.find(".cs-alpha-slider"),h=f.find(".cs-alpha-text"),i=f.find(".cs-alpha-slider-offset");g.slider({slide:function(a,c){var e=parseFloat(c.value/100);d._color._alpha=e,b.wpColorPicker("color",d._color.toString()),h.text(1>e?e:"")},create:function(){var j=parseFloat(c.alpha/100),k=1>j?j:"";h.text(k),i.css("background-color",c.value),e.on("click",".wp-picker-clear",function(){d._color._alpha=1,h.text(""),g.slider("option","value",100).trigger("slide")}),e.on("click",".wp-picker-default",function(){var c=a.cs_ParseColorValue(b.data("default-color")),e=parseFloat(c.alpha/100),f=1>e?e:"";d._color._alpha=e,h.text(f),g.slider("option","value",c.alpha).trigger("slide")}),e.on("click",".wp-color-result",function(){f.toggle()}),a("body").on("click.wpcolorpicker",function(){f.hide()})},value:c.alpha,step:1,min:1,max:100})}})}else b.wpColorPicker({clear:function(){b.trigger("keyup")},change:function(a,c){b.val(c.color.toString()).trigger("change")}})})},a(c).ready(function(){a(".cs-wp-color-picker").cs_wpColorPicker()})}(jQuery,window,document),$=jQuery;var smile_panel_id="";jQuery(document).on("smile_panel_loaded",function(a,b,c){function d(a){this.htmlCode=jQuery("#accordion-"+smile_panel_id+" .smile-input-gfonts")}function e(a,b,c){var d=a.closest(".smile-element-container").find(".smile-input-gfonts"),e=d.val()||"",f="",g=[];if("false"==c){if(""!=e){var h=e.split("|"),i=h[0].split(":");f=i[1],""==f&&(f="default")}else f="default";a.find("option").each(function(a,b){var c=jQuery(b).val();"undefined"!=typeof c&&null!=c&&""!=c&&g.push(c)})}else{var f=a.find("option:selected").val();f.replace(/\s+/g,"+")}"editor"==d.data("use-in")&&d.val(g)}function f(){jQuery(".ultimate_google_font_param_block select").each(function(a,b){$select=jQuery(this);var c=Math.floor(1e7*Math.random()+a);e($select,c,change="false")})}smile_panel_id=b,d.prototype.refresh=function(){var a=this.htmlCode.val(),b=this.htmlCode.data("use-in");if("editor"==b){if("undefined"!=typeof a&&null!=a){var c=a.split("|"),d=c[0],e=c[1],a=d+"|"+e+"|";jQuery(this).closest(".smile-element-container").find(".smile-input-gfonts").val(a),this.htmlCode.html(a),this.htmlCode.trigger("change")}}else{var f=jQuery(this).closest(".smile-element-container").find(".smile-input-gfonts"),g=jQuery(this).find("option:selected").val();f.val(g),f.trigger("change")}},d.prototype.update=function(a,b){var c=a.data("use-in");"editor"!=c&&"undefined"!=typeof b&&null!=b&&(a.val(b),a.trigger("change"))},d=new d,d.refresh(),f(),jQuery(".ultimate_google_font_param_block  select").each(function(a,b){jQuery(this).change(function(){var a=jQuery(this).closest(".smile-element-container").find(".smile-input-gfonts"),b=jQuery(this).find("option:selected").val();d.update(a,b)})})}),jQuery(document).ready(function(a){a(".smile-upload-media").click(function(b){_wpPluploadSettings.defaults.multipart_params.admin_page="customizer";var c=a(this),d="smile_"+c.attr("id"),e=c.data("uid"),f="remove_"+c.attr("id"),g=c.attr("id")+"_container",h=wp.media.frames.file_frame=wp.media({title:"Select or Upload Image",button:{text:"Choose Image"},library:{type:"image"},multiple:!1});return h.on("select",function(b,i){i=h.state().get("selection").first().toJSON();var j=(i.id+"|"+i.url,a(".cp-media-"+e).val()),k=i.id+"|"+j;a("#"+d).val(k),a("#"+d).attr("value",k),a(".cp-media-"+e).attr("data-id",i.id),a(".cp-media-"+e).parents(".cp-media-sizes").removeClass("hide-for-default"),a("."+g).html('<img src="'+i.url+'"/>'),a("#"+f).show(),c.text("Change Image"),a("#"+d).trigger("change")}),h.open(c),!1}),a(".smile-remove-media").on("click",function(b){b.preventDefault();var c=a(this),d=c.attr("id").replace("remove_","smile_"),e=c.attr("id").replace("remove_",""),f=c.attr("id").replace("remove_","")+"_container";a("#"+d).attr("value","");var g='<p class="description">No Image Selected</p>';a("."+f).html(g),c.hide(),a("#"+e).text("Select Image"),a("#"+d).trigger("change")}),a(".smile-default-media").on("click",function(b){b.preventDefault();var c=a(this),d=c.attr("id").replace("default_","smile_"),e=(c.attr("id").replace("default_",""),c.attr("id").replace("default_","")+"_container"),f=a(this).parents(".content"),g=a(this).data("default");a("#"+d).attr("value",g);a("."+e).html('<img src="'+g+'"/>'),a("#"+d).trigger("change"),f.find(".cp-media-sizes").hide().addClass("hide-for-default")}),a(".cp-media-size").on("change",function(b){var c=a(this).attr("data-id"),d="smile_"+a(this).parents(".cp-media-sizes").data("name"),e="";""!==c&&(e=c+"|"+a(this).val()),a("#"+d).val(e),a("#"+d).attr("value",e)})}),jQuery(document).ready(function(){var a=jQuery(".smile-radio-image-holder");a.click(function(){var b=jQuery(this);jQuery.each(a,function(a,b){jQuery(this).removeClass("selected")}),b.addClass("selected"),b.find("input.smile-radio-image").trigger("change")})}),jQuery(document).ready(function(a){var b=a(".smile-slider");a.each(b,function(b,c){var d=a(this),e=d.attr("id").replace("smile_","slider_"),f=d.attr("id"),g=d.val(),h=d.data("min"),i=d.data("max"),j=d.data("step");a("#"+f).on("keyup change",function(){value=a(this).val(),a("#"+e).slider("value",value);var b=a("#"+e).find(".ui-slider-handle").css("left");a("#"+e).find(".range-quantity").css("width",b)}),a("#"+e).slider({value:g,min:h,max:i,step:j,slide:function(b,c){a("#"+f).val(c.value).keyup();var d=a("#"+e).find(".ui-slider-handle").css("left");a("#"+e).find(".range-quantity").css("width",d)}}),a("#"+f).val(a("#"+e).slider("value"));var k=a("#"+e).find(".ui-slider-handle").css("left");a("#"+e).find(".range-quantity").css("width",k)})}),jQuery(document).ready(function(){var a=jQuery(".smile-switch-btn");a.click(function(a){var b=jQuery(this).data("id"),c=jQuery(this).parents(".switch-wrapper").find("#"+b).val();1==c||"1"==c?jQuery(this).parents(".switch-wrapper").find("#"+b).attr("value","0"):jQuery(this).parents(".switch-wrapper").find("#"+b).attr("value","1"),jQuery(this).parents(".switch-wrapper").find(".smile-switch-input").trigger("change")})}),!function(a,b,c){"use strict";!function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(d){var e,f,g,h,i=function(a){return a&&a.__esModule?a:{"default":a}},j=d("./modules/handle-dom"),k=d("./modules/utils"),l=d("./modules/handle-swal-dom"),m=d("./modules/handle-click"),n=d("./modules/handle-key"),o=i(n),p=d("./modules/default-params"),q=i(p),r=d("./modules/set-params"),s=i(r);g=h=function(){function d(a){var b=g;return b[a]===c?q["default"][a]:b[a]}var g=arguments[0];if(j.addClass(b.body,"stop-scrolling"),l.resetInput(),g===c)return k.logStr("SweetAlert expects at least 1 attribute!"),!1;var i=k.extend({},q["default"]);switch(typeof g){case"string":i.title=g,i.text=arguments[1]||"",i.type=arguments[2]||"";break;case"object":if(g.title===c)return k.logStr('Missing "title" argument!'),!1;i.title=g.title;for(var n in q["default"])i[n]=d(n);i.confirmButtonText=i.showCancelButton?"Confirm":q["default"].confirmButtonText,i.confirmButtonText=d("confirmButtonText"),i.doneFunction=arguments[1]||null;break;default:return k.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof g),!1}s["default"](i),l.fixVerticalPosition(),l.openModal(arguments[1]);for(var p=l.getModal(),r=p.querySelectorAll("button"),t=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],u=function(a){return m.handleButton(a,i,p)},v=0;v<r.length;v++)for(var w=0;w<t.length;w++){var x=t[w];r[v][x]=u}l.getOverlay().onclick=u,e=a.onkeydown;var y=function(a){return o["default"](a,i,p)};a.onkeydown=y,a.onfocus=function(){setTimeout(function(){f!==c&&(f.focus(),f=c)},0)},h.enableButtons()},g.setDefaults=h.setDefaults=function(a){if(!a)throw new Error("userParams is required");if("object"!=typeof a)throw new Error("userParams has to be a object");k.extend(q["default"],a)},g.close=h.close=function(){var d=l.getModal();j.fadeOut(l.getOverlay(),5),j.fadeOut(d,5),j.removeClass(d,"showSweetAlert"),j.addClass(d,"hideSweetAlert"),j.removeClass(d,"visible");var g=d.querySelector(".sa-icon.sa-success");j.removeClass(g,"animate"),j.removeClass(g.querySelector(".sa-tip"),"animateSuccessTip"),j.removeClass(g.querySelector(".sa-long"),"animateSuccessLong");var h=d.querySelector(".sa-icon.sa-error");j.removeClass(h,"animateErrorIcon"),j.removeClass(h.querySelector(".sa-x-mark"),"animateXMark");var i=d.querySelector(".sa-icon.sa-warning");return j.removeClass(i,"pulseWarning"),j.removeClass(i.querySelector(".sa-body"),"pulseWarningIns"),j.removeClass(i.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var a=d.getAttribute("data-custom-class");j.removeClass(d,a)},300),j.removeClass(b.body,"stop-scrolling"),a.onkeydown=e,a.previousActiveElement&&a.previousActiveElement.focus(),f=c,clearTimeout(d.timeout),!0},g.showInputError=h.showInputError=function(a){var b=l.getModal(),c=b.querySelector(".sa-input-error");j.addClass(c,"show");var d=b.querySelector(".sa-error-container");j.addClass(d,"show"),d.querySelector("p").innerHTML=a,setTimeout(function(){g.enableButtons()},1),b.querySelector("input").focus()},g.resetInputError=h.resetInputError=function(a){if(a&&13===a.keyCode)return!1;var b=l.getModal(),c=b.querySelector(".sa-input-error");j.removeClass(c,"show");var d=b.querySelector(".sa-error-container");j.removeClass(d,"show")},g.disableButtons=h.disableButtons=function(){var a=l.getModal(),b=a.querySelector("button.confirm"),c=a.querySelector("button.cancel");b.disabled=!0,c.disabled=!0},g.enableButtons=h.enableButtons=function(){var a=l.getModal(),b=a.querySelector("button.confirm"),c=a.querySelector("button.cancel");b.disabled=!1,c.disabled=!1},"undefined"!=typeof a?a.sweetAlert=a.swal=g:k.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};c["default"]=d,b.exports=c["default"]},{}],3:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});var e=b("./utils"),f=(b("./handle-swal-dom"),b("./handle-dom")),g=function(b,c,d){function g(a){o&&c.confirmButtonColor&&(n.style.backgroundColor=a)}var j,k,l,m=b||a.event,n=m.target||m.srcElement,o=-1!==n.className.indexOf("confirm"),p=-1!==n.className.indexOf("sweet-overlay"),q=f.hasClass(d,"visible"),r=c.doneFunction&&"true"===d.getAttribute("data-has-done-function");switch(o&&c.confirmButtonColor&&(j=c.confirmButtonColor,k=e.colorLuminance(j,-.04),l=e.colorLuminance(j,-.14)),m.type){case"mouseover":g(k);break;case"mouseout":g(j);break;case"mousedown":g(l);break;case"mouseup":g(k);break;case"focus":var s=d.querySelector("button.confirm"),t=d.querySelector("button.cancel");o?t.style.boxShadow="none":s.style.boxShadow="none";break;case"click":var u=d===n,v=f.isDescendant(d,n);if(!u&&!v&&q&&!c.allowOutsideClick)break;o&&r&&q?h(d,c):r&&q||p?i(d,c):f.isDescendant(d,n)&&"BUTTON"===n.tagName&&sweetAlert.close()}},h=function(a,b){var c=!0;f.hasClass(a,"show-input")&&(c=a.querySelector("input").value,c||(c="")),b.doneFunction(c),b.closeOnConfirm&&sweetAlert.close(),b.showLoaderOnConfirm&&sweetAlert.disableButtons()},i=function(a,b){var c=String(b.doneFunction).replace(/\s/g,""),d="function("===c.substring(0,9)&&")"!==c.substring(9,10);d&&b.doneFunction(!1),b.closeOnCancel&&sweetAlert.close()};d["default"]={handleButton:g,handleConfirm:h,handleCancel:i},c.exports=d["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(c,d,e){Object.defineProperty(e,"__esModule",{value:!0});var f=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},g=function(a,b){f(a,b)||(a.className+=" "+b)},h=function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(f(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}},i=function(a){var c=b.createElement("div");return c.appendChild(b.createTextNode(a)),c.innerHTML},j=function(a){a.style.opacity="",a.style.display="block"},k=function(a){if(a&&!a.length)return j(a);for(var b=0;b<a.length;++b)j(a[b])},l=function(a){a.style.opacity="",a.style.display="none"},m=function(a){if(a&&!a.length)return l(a);for(var b=0;b<a.length;++b)l(a[b])},n=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1},o=function(a){a.style.left="-9999px",a.style.display="block";var b,c=a.clientHeight;return b="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(a).getPropertyValue("padding-top"),10):parseInt(a.currentStyle.padding),a.style.left="",a.style.display="none","-"+parseInt((c+b)/2)+"px"},p=function(a,b){if(+a.style.opacity<1){b=b||16,a.style.opacity=0,a.style.display="block";var c=+new Date,d=function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){a.style.opacity=+a.style.opacity+(new Date-c)/100,c=+new Date,+a.style.opacity<1&&setTimeout(d,b)});d()}a.style.display="block"},q=function(a,b){b=b||16,a.style.opacity=1;var c=+new Date,d=function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){a.style.opacity=+a.style.opacity-(new Date-c)/100,c=+new Date,+a.style.opacity>0?setTimeout(d,b):a.style.display="none"});d()},r=function(c){if("function"==typeof MouseEvent){var d=new MouseEvent("click",{view:a,bubbles:!1,cancelable:!0});c.dispatchEvent(d)}else if(b.createEvent){var e=b.createEvent("MouseEvents");e.initEvent("click",!1,!1),c.dispatchEvent(e)}else b.createEventObject?c.fireEvent("onclick"):"function"==typeof c.onclick&&c.onclick()},s=function(b){"function"==typeof b.stopPropagation?(b.stopPropagation(),b.preventDefault()):a.event&&a.event.hasOwnProperty("cancelBubble")&&(a.event.cancelBubble=!0)};e.hasClass=f,e.addClass=g,e.removeClass=h,e.escapeHtml=i,e._show=j,e.show=k,e._hide=l,e.hide=m,e.isDescendant=n,e.getTopMargin=o,e.fadeIn=p,e.fadeOut=q,e.fireClick=r,e.stopEventPropagation=s},{}],5:[function(b,d,e){Object.defineProperty(e,"__esModule",{value:!0});var f=b("./handle-dom"),g=b("./handle-swal-dom"),h=function(b,d,e){var h=b||a.event,i=h.keyCode||h.which,j=e.querySelector("button.confirm"),k=e.querySelector("button.cancel"),l=e.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(i)){for(var m=h.target||h.srcElement,n=-1,o=0;o<l.length;o++)if(m===l[o]){n=o;break}9===i?(m=-1===n?j:n===l.length-1?l[0]:l[n+1],f.stopEventPropagation(h),m.focus(),d.confirmButtonColor&&g.setFocusStyle(m,d.confirmButtonColor)):13===i?("INPUT"===m.tagName&&(m=j,j.focus()),m=-1===n?j:c):27===i&&d.allowEscapeKey===!0?(m=k,f.fireClick(m,h)):m=c}};e["default"]=h,d.exports=e["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(c,d,e){var f=function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(e,"__esModule",{value:!0});var g=c("./utils"),h=c("./handle-dom"),i=c("./default-params"),j=f(i),k=c("./injected-html"),l=f(k),m=".sweet-alert",n=".sweet-overlay",o=function(){var a=b.createElement("div");for(a.innerHTML=l["default"];a.firstChild;)b.body.appendChild(a.firstChild)},p=function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){var a=b.querySelector(m);return a||(o(),a=p()),a}),q=function(){var a=p();return a?a.querySelector("input"):void 0},r=function(){return b.querySelector(n)},s=function(a,b){var c=g.hexToRgb(b);a.style.boxShadow="0 0 2px rgba("+c+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},t=function(c){var d=p();h.fadeIn(r(),10),h.show(d),h.addClass(d,"showSweetAlert"),h.removeClass(d,"hideSweetAlert"),a.previousActiveElement=b.activeElement;var e=d.querySelector("button.confirm");e.focus(),setTimeout(function(){h.addClass(d,"visible")},500);var f=d.getAttribute("data-timer");if("null"!==f&&""!==f){var g=c;d.timeout=setTimeout(function(){var a=(g||null)&&"true"===d.getAttribute("data-has-done-function");a?g(null):sweetAlert.close()},f)}},u=function(){var a=p(),b=q();h.removeClass(a,"show-input"),b.value=j["default"].inputValue,b.setAttribute("type",j["default"].inputType),b.setAttribute("placeholder",j["default"].inputPlaceholder),v()},v=function(a){if(a&&13===a.keyCode)return!1;var b=p(),c=b.querySelector(".sa-input-error");h.removeClass(c,"show");var d=b.querySelector(".sa-error-container");h.removeClass(d,"show")},w=function(){var a=p();a.style.marginTop=h.getTopMargin(p())};e.sweetAlertInitialize=o,e.getModal=p,e.getOverlay=r,e.getInput=q,e.setFocusStyle=s,e.openModal=t,e.resetInput=u,e.resetInputError=v,e.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';c["default"]=d,b.exports=c["default"]},{}],8:[function(a,b,d){Object.defineProperty(d,"__esModule",{value:!0});var e=a("./utils"),f=a("./handle-swal-dom"),g=a("./handle-dom"),h=["error","warning","info","success","input","prompt"],i=function(a){var b=f.getModal(),d=b.querySelector("h2"),i=b.querySelector("p"),j=b.querySelector("button.cancel"),k=b.querySelector("button.confirm");if(d.innerHTML=a.html?a.title:g.escapeHtml(a.title).split("\n").join("<br>"),i.innerHTML=a.html?a.text:g.escapeHtml(a.text||"").split("\n").join("<br>"),a.text&&g.show(i),a.customClass)g.addClass(b,a.customClass),b.setAttribute("data-custom-class",a.customClass);else{var l=b.getAttribute("data-custom-class");g.removeClass(b,l),b.setAttribute("data-custom-class","")}if(g.hide(b.querySelectorAll(".sa-icon")),a.type&&!e.isIE8()){var m=function(){for(var d=!1,e=0;e<h.length;e++)if(a.type===h[e]){d=!0;break}if(!d)return logStr("Unknown alert type: "+a.type),{v:!1};var i=["success","error","warning","info"],j=c;-1!==i.indexOf(a.type)&&(j=b.querySelector(".sa-icon.sa-"+a.type),g.show(j));var k=f.getInput();switch(a.type){case"success":g.addClass(j,"animate"),g.addClass(j.querySelector(".sa-tip"),"animateSuccessTip"),g.addClass(j.querySelector(".sa-long"),"animateSuccessLong");break;case"error":g.addClass(j,"animateErrorIcon"),g.addClass(j.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":g.addClass(j,"pulseWarning"),g.addClass(j.querySelector(".sa-body"),"pulseWarningIns"),g.addClass(j.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":k.setAttribute("type",a.inputType),k.value=a.inputValue,k.setAttribute("placeholder",a.inputPlaceholder),g.addClass(b,"show-input"),setTimeout(function(){k.focus(),k.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof m)return m.v}if(a.imageUrl){var n=b.querySelector(".sa-icon.sa-custom");n.style.backgroundImage="url("+a.imageUrl+")",g.show(n);var o=80,p=80;if(a.imageSize){var q=a.imageSize.toString().split("x"),r=q[0],s=q[1];r&&s?(o=r,p=s):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+a.imageSize)}n.setAttribute("style",n.getAttribute("style")+"width:"+o+"px; height:"+p+"px")}b.setAttribute("data-has-cancel-button",a.showCancelButton),a.showCancelButton?j.style.display="inline-block":g.hide(j),b.setAttribute("data-has-confirm-button",a.showConfirmButton),a.showConfirmButton?k.style.display="inline-block":g.hide(k),a.cancelButtonText&&(j.innerHTML=g.escapeHtml(a.cancelButtonText)),a.confirmButtonText&&(k.innerHTML=g.escapeHtml(a.confirmButtonText)),a.confirmButtonColor&&(k.style.backgroundColor=a.confirmButtonColor,k.style.borderLeftColor=a.confirmLoadingButtonColor,k.style.borderRightColor=a.confirmLoadingButtonColor,f.setFocusStyle(k,a.confirmButtonColor)),b.setAttribute("data-allow-outside-click",a.allowOutsideClick);var t=a.doneFunction?!0:!1;b.setAttribute("data-has-done-function",t),a.animation?"string"==typeof a.animation?b.setAttribute("data-animation",a.animation):b.setAttribute("data-animation","pop"):b.setAttribute("data-animation","none"),b.setAttribute("data-timer",a.timer)};d["default"]=i,b.exports=d["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});var e=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},f=function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16):null},g=function(){return a.attachEvent&&!a.addEventListener},h=function(b){a.console&&a.console.log("SweetAlert: "+b)},i=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e};d.extend=e,d.hexToRgb=f,d.isIE8=g,d.logStr=h,d.colorLuminance=i},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(a,b,c,d){function e(b,c){this.anchor=b,this.$anchor=a(b),this.options=a.extend({},g,c,this.$anchor.data()),this._defaults=g,this._name=f,this.init()}var f="frosty",g={attribute:"title",className:"tip",content:"",delay:0,hasArrow:!0,html:!1,offset:30,position:"left",removeTitle:!0,selector:!1,trigger:"hover,focus",onHidden:function(){},onShown:function(){}};e.prototype={init:function(){this._createTip(),this._bindEvents()},show:function(){var a=this,b="object"==typeof this.options.delay?parseInt(this.options.delay.show):parseInt(this.options.delay);clearTimeout(this.timeout),this.timeout=0===b?this._setState("visible"):setTimeout(function(){a._setState("visible")},b)},hide:function(){var a=this;delay="object"==typeof this.options.delay?parseInt(this.options.delay.hide):parseInt(this.options.delay),clearTimeout(this.timeout),this.timeout=0===delay?this._setState("hidden"):setTimeout(function(){a._setState("hidden")},delay)},toggle:function(){"visible"===this.state?this.hide():this.show()},addClass:function(a){console.log("in"),"string"==typeof a&&this.$el.addClass(a)},removeClass:function(a){"string"==typeof a&&this.$el.removeClass(a)},_setState:function(a){switch(this.state=a,a){case"visible":this.$el.appendTo("body"),this._checkContent(),this._setPosition(),this.options.onShown.call(this),this.$anchor.trigger("shown");break;case"hidden":this.$el.detach(),this.options.onHidden.call(this),this.$anchor.trigger("hidden")}},_checkContent:function(){this.options.selector&&(this.tipContent=a(this.options.selector).html(),this.$el.html(this.tipContent))},_createTip:function(){this.options.html?this.tipContent=this.options.content:this.options.selector?this.tipContent=a(this.options.selector).html():(this.tipContent=this.$anchor.attr(this.options.attribute),"title"===this.options.attribute&&this.options.removeTitle&&(this.$anchor.attr("data-original-title",this.tipContent),this.$anchor.removeAttr("title"))),this.$el=a("<div />",{"class":this.options.className,html:'<span class="cp_tooltip_text">'+this.tipContent+"</span>"}).css({"z-index":"9999999999",left:"-9999px",position:"absolute"}),this.$el.appendTo("body");var b=this.getPosition();this.$el.detach().css(b),this.options.hasArrow&&this._addArrowClass()},_addArrowClass:function(){switch(this.options.position){case"left":this.$el.addClass("arrow-right");break;case"right":this.$el.addClass("arrow-left");break;case"bottom":this.$el.addClass("arrow-top");break;default:this.$el.addClass("arrow-bottom")}},_bindEvents:function(){switch(this.options.trigger){case"click":this.$anchor.click(a.proxy(this.toggle,this));break;case"manual":break;case"focus":this.$anchor.focus(a.proxy(this.show,this)),this.$anchor.blur(a.proxy(this.hide,this));break;default:this.$anchor.hover(a.proxy(this.show,this),a.proxy(this.hide,this))}},getPosition:function(){var a=this.$anchor.offset();switch(this.options.position){case"left":a.left=a.left-this.$el.outerWidth()-this.options.offset,a.top=a.top+this.$anchor.outerHeight()/2-this.$el.outerHeight()/2;break;case"right":a.left=a.left+this.$anchor.outerWidth()+this.options.offset,a.top=a.top+this.$anchor.outerHeight()/2-this.$el.outerHeight()/2;break;case"bottom":a.top=a.top+this.$anchor.outerHeight()+this.options.offset,a.left=a.left+this.$anchor.outerWidth()/2-this.$el.outerWidth()/2;break;default:a.top=a.top-this.$el.outerHeight()-this.options.offset;var b=a.left+this.$anchor.outerWidth()/2-this.$el.outerWidth()/2;0>b&&(b=0),a.left=b}return a},_setPosition:function(){this.$el.css(this.getPosition())}},a.fn[f]=function(b,c){if("string"==typeof b)switch(b){case"show":this.each(function(){a.data(this,"plugin_"+f).show()});break;case"hide":this.each(function(){a.data(this,"plugin_"+f).hide()});break;case"toggle":this.each(function(){a.data(this,"plugin_"+f).toggle()});break;case"addClass":this.each(function(){a.data(this,"plugin_"+f).addClass(c)});break;case"removeClass":this.each(function(){a.data(this,"plugin_"+f).removeClass(c)})}return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,
this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){jQuery.widget("metro.accordion",{version:"1.0.0",options:{closeAny:!0,open:function(a){},action:function(a){}},_frames:{},_create:function(){var a=this.element;void 0!=a.data("closeany")&&(this.options.closeAny=a.data("closeany")),this.init()},init:function(){var a=this;a.element.on("click",".accordion-frame > .heading",function(b){if(b.preventDefault(),b.stopPropagation(),!jQuery(this).attr("disabled")&&"none"!=jQuery(this).data("action")){a.options.closeAny&&a._closeFrames();var c=jQuery(this).parent(),d=c.children(".content");jQuery(d).is(":hidden")?(jQuery(d).slideDown(),jQuery(this).removeClass("collapsed"),a._trigger("frame",b,{frame:c}),a.options.open(c)):(jQuery(d).slideUp(),jQuery(this).addClass("collapsed")),a.options.action(c)}});var b=this.element.children(".accordion-frame");b.each(function(){var a=this,b=jQuery(this).children(".heading"),c=jQuery(this).children(".content");jQuery(a).hasClass("active")&&!jQuery(a).attr("disabled")&&"none"!=jQuery(a).data("action")?(jQuery(c).show(),jQuery(b).removeClass("collapsed")):jQuery(b).addClass("collapsed")})},_closeFrames:function(){var a=this.element.find(".accordion-frame");jQuery.each(a,function(){var a=jQuery(this);a.find(".heading").addClass("collapsed"),a.find(".content").slideUp()})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})}(jQuery);var smile_panel="",data_id="";jQuery.extend({getUrlVars:function(){for(var a,b=[],c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),d=0;d<c.length;d++)a=c[d].split("="),b.push(a[0]),b[a[0]]=a[1];return b},getUrlVar:function(a){return jQuery.getUrlVars()[a]}}),$.fn.bgColorFade=function(a){var b=$.extend({start:"#fff79f",end:"#fff",time:2e3},a||{});return $(this).css({backgroundColor:b.start}).animate({backgroundColor:b.end},b.time),this},window.createCookie=function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},window.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},window.removeCookie=function(a){createCookie(a,!1,-1)},jQuery(document).on("iframe_load",function(a,b){var c=jQuery(".customize").data("style");jQuery("#button-save-"+c+" > span").trigger("click"),setTimeout(function(){jQuery("#button-save-"+c).trigger("click"),jQuery(".cp-section").first().trigger("click")},1e3)}),jQuery(document).ready(function(){var a=(jQuery.getUrlVar("theme"),jQuery(".customize")),b=jQuery(".customizer-collapse"),c=(jQuery(".close-button"),jQuery(".copy-style-icon")),d=jQuery(".trash-style-icon"),e=jQuery(".update-title"),f=jQuery(".cancel-title"),g=jQuery("a.change-status");jQuery("body").on("keyup","#style-title",function(a){jQuery(this).removeAttr("style")});var h=jQuery("#smile_custom_html_form"),i="xml",j=jQuery("<div>",{position:"absolute",width:300,height:300,"class":h.attr("class")}).insertBefore(h);if(h.length>0){h.css("visibility","hidden");var k=ace.edit(j[0]);k.renderer.setShowGutter(!0),k.getSession().setValue(h.val()),k.getSession().setMode("ace/mode/"+i),k.getSession().setUseWrapMode(!0),k.on("change",function(){h.val(k.getSession().getValue())})}var l=jQuery("#smile_custom_css"),i="css",j=jQuery("<div>",{position:"absolute",width:300,height:300,"class":h.attr("class")}).insertBefore(l);if(l.length>0){j.attr("id","editor"),l.css("visibility","hidden");var m=ace.edit(j[0]);m.renderer.setShowGutter(!0),m.getSession().setValue(l.val()),m.getSession().setMode("ace/mode/"+i),m.getSession().setUseWrapMode(!0),m.on("change",function(){l.val(m.getSession().getValue())})}jQuery("body").on("click",".style-title",function(a){a.preventDefault();var b=jQuery(this);jQuery(".style-title").unbind("click");var c=b.parent(".smile-slug"),d=b.parents("td").find(".button"),e=b.parents("tbody").find("tr"),f=b.parents("tr").index(),g=b.text();g=jQuery.trim(g);var h=!1;jQuery.each(e,function(a,b){a!==f&&jQuery(this).addClass("inline-editing")});var i=jQuery(this).parents("tr").attr("class");h=i.indexOf("inline-editing")>0?!1:!0,h&&(c.html('<input type="text" id="rename-title" value="'+g+'"/>'),d.show())}),jQuery(".cp-website-link, .cp-dashboard-link, .close-button").click(function(a){a.preventDefault();var b=(jQuery("#cp_style_title").val(),jQuery(this).attr("target")),c=getCookie("cp-unsaved-changes"),d=jQuery(this).data("redirect"),e=jQuery(".customize").data("style"),f=(jQuery(this),!1),g=!0;console.log(c);var h=jQuery("#smile_live").val(),i=jQuery(".customize").data("module");if(""==h||"0"==h||0==h)var f=!1,j="Publish & Set This "+i+" Live?",k="Yes, Let's Publish It.",l="No, Keep it Pause!",g=!1;else if(c)var j="Some changes are not saved yet!",k="Save it!",l="Close without saving changes";else removeCookie("cp-unsaved-changes"),"_blank"==b?window.open(d):window.location=d;return swal({title:j,text:'<span class="cp-discard-popup" style="position: absolute;top: 0;right: 0;"><i class="connects-icon-cross"></i></span>',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:k,cancelButtonText:l,closeOnConfirm:!1,closeOnCancel:f,showLoaderOnConfirm:g,customClass:"cp-switch-theme",html:!0},function(a){if(a){if(""==h||"0"==h||0==h){jQuery("#smile_live").attr("value",1);var f=jQuery(".cp-section.active");jQuery("#button-save-"+e+" > span").trigger("click"),jQuery("#button-save-"+e).trigger("click");var g=jQuery(".customize").data("module");f.trigger("click"),c?swal("Saved & Published!","","success"):swal("Saved & Published!","Your "+g+" is live now.","success"),setTimeout(function(){removeCookie("cp-unsaved-changes"),"_blank"==b?window.open(d):window.location=d},500)}else if(c){var f=jQuery(".cp-section.active");jQuery("#button-save-"+e+" > span").trigger("click"),jQuery("#button-save-"+e).trigger("click"),f.trigger("click"),setTimeout(function(){removeCookie("cp-unsaved-changes"),"_blank"==b?window.open(d):window.location=d},500)}}else c?"No, Keep it Pause!"==l?swal({title:"Some changes are not saved yet!",text:'<span class="cp-discard-popup" style="position: absolute;top: 0;right: 0;"><i class="connects-icon-cross"></i></span>',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Save it!",cancelButtonText:"Close without saving changes",closeOnConfirm:!1,closeOnCancel:!1,showLoaderOnConfirm:!1,customClass:"cp-switch-theme",html:!0},function(a){if(a){var c=jQuery(".cp-section.active");jQuery("#button-save-"+e+" > span").trigger("click"),jQuery("#button-save-"+e).trigger("click"),c.trigger("click"),setTimeout(function(){removeCookie("cp-unsaved-changes"),jQuery(".cp-discard-popup").trigger("click"),"_blank"==b?window.open(d):window.location=d},500)}else removeCookie("cp-unsaved-changes"),jQuery(".cp-discard-popup").trigger("click"),"_blank"==b?window.open(d):window.location=d}):(removeCookie("cp-unsaved-changes"),jQuery(".cp-discard-popup").trigger("click"),"_blank"==b?window.open(d):window.location=d):(jQuery(".cp-discard-popup").trigger("click"),removeCookie("cp-unsaved-changes"),"_blank"==b?window.open(d):window.location=d)}),jQuery(".cp-switch-theme").prev().css("background-color","rgba(0,0,0,.9)"),jQuery("body").on("click",".cp-switch-theme .cp-discard-popup",function(a){a.preventDefault(),jQuery(".sweet-overlay, .sweet-alert").fadeOut("slow").remove()}),a.preventDefault(),!1}),b.click(function(a){a.preventDefault(),a.stopPropagation();var b=jQuery(this).parents(".customizer-wrapper"),c=(b.find(".design-form"),b.find(".design-content"),b.find(".customize-footer-actions")),d=jQuery(".cp-section.active");b.toggleClass("collapsed"),c.toggleClass("collapsed"),c.hasClass("collapsed")||d.trigger("click")}),e.click(function(a){a.preventDefault();var b=jQuery(this).parents("td").find(".smile-slug"),c=jQuery("#rename-title").val(),d=jQuery(this).data("style"),e=jQuery(this).data("option"),f="smile_rename_style",g={action:f,style_name:c,style_id:d,option:e},h=(jQuery(".message"),jQuery(this).parents("td").find(".button"));jQuery.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:g,success:function(a){"renamed"==a.message&&(h.hide(),b.html('<span class="style-title" href="#" title="Click to rename">'+c+"</span>"),swal("Renamed!","Style has been renamed.","success"),setTimeout(function(){window.location=window.location},500))}})}),f.click(function(a){var b=jQuery(this).parents("td").find(".smile-slug"),c=jQuery(this).data("style"),d=jQuery(this).parents("td").find(".button");b.html('<span class="style-title" href="#" title="Click to rename">'+c+"</span>"),d.hide(),jQuery.each(jQuery(this).parents("tbody").find("tr"),function(){jQuery(this).removeClass("inline-editing")})}),c.click(function(a){a.preventDefault();var b=jQuery(this).data("style"),c="smile_duplicate_style",d=jQuery(this).data("option"),e=jQuery(this).data("module"),f=jQuery(this).data("variant-style"),g=jQuery(this).data("stylescreen"),h={action:c,module:e,style_id:b,variant_id:f,option:d,stylescreen:g},e=(jQuery(".message"),jQuery(this).find(".action-tooltip").html().replace("Duplicate",""));e=jQuery.trim(e),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:h,success:function(a){"copied"==a.message&&(swal({title:"Duplicated!",text:e+" you have selected has been duplicated.",type:"success",timer:2e3,showConfirmButton:!1}),setTimeout(function(){window.location=window.location},500))}})}),d.click(function(a){a.preventDefault();var b=jQuery(this),c=jQuery(this).find(".action-tooltip").html().replace("Delete","");c=jQuery.trim(c),swal({title:"Are you sure?",text:"You will not be able to recover this "+c+"!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel it!",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(a){a&&jQuery(document).trigger("deleteStyle",[b,!0])})}),jQuery(document).on("deleteStyle",function(a,b,c){var d=!0;if(d){var e=b.data("style"),f="smile_delete_style",g=b.data("option"),h=b.data("variantoption"),i=b.data("delete"),j={action:f,style_id:e,option:g,variant_option:h,deleteMethod:i};jQuery(".message");jQuery.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:j,success:function(a){"Deleted"==a.message&&(swal({title:"Deleted!",text:"Style you have selected has been deleted.",type:"success",timer:2e3,showConfirmButton:!1}),c&&setTimeout(function(){window.location=window.location},500))}})}}),a.each(function(a,b){var c=jQuery(this).data("style");jQuery("#accordion-"+c).accordion({closeAny:!0})}),a.click(function(a){a.preventDefault(),a.stopPropagation();var b=jQuery(this).data("view"),c=jQuery("#style-title").val();if("new"==b){var d=jQuery(this).attr("href");if(""!==c){var e=jQuery.getUrlVar("variant-style");"undefined"!=typeof e&&(d+="&style-name="+c),window.location=d}else jQuery("#style-title").addClass("smile-new-list-required"),jQuery("#style-title").focus();return!1}if(a.preventDefault(),""!==c){var f=jQuery(this).data("style");smile_panel=f,jQuery(".theme").removeClass("active"),jQuery(this).parents(".theme").addClass("active");var g=jQuery(this).data("id");data_id=jQuery(this).data("id");var h=jQuery("#style-title"),i=jQuery("#form-"+g+" #new_style"),j=h.val();i.attr("value",j);var k=jQuery("."+f),l=k.find(".design-content"),m=l.find(".live-design-area"),n=l.data("iframe-url"),o=l.data("demo-id"),p=l.data("module"),q=l.data("class"),r=l.data("js-url");k.fadeIn("fast"),k.addClass("active-customizer"),jQuery("html").css("overflow","hidden");var s="",s={action:"framework_update_preview_data",demo_id:o,module:p,cls:q};jQuery.ajax({url:ajaxurl,data:s,type:"POST",dataType:"HTML",data:s,success:function(a){var b='<div class="design-area-loading"><div class="smile-absolute-loader" style="visibility: visible;"> <div class="smile-loader"><div class="smile-loading-bar"></div><div class="smile-loading-bar"></div><div class="smile-loading-bar"></div><div class="smile-loading-bar"></div></div></div></div><iframe id="smile_design_iframe" src="'+n+'" data-js="'+r+'" onload="hideLoading(data_id);"></iframe>';m.html(b)}}),jQuery(document).trigger("smile_panel_loaded",[smile_panel,g]),smileHandleDependencies()}else jQuery("#style-title").addClass("smile-new-list-required"),jQuery("#style-title").focus()}),g.unbind().click(function(a){a.preventDefault();var b=jQuery(this),c=b.attr("data-style-id"),d=b.attr("data-live"),e=b.attr("data-option"),f=b.attr("data-variant"),g="smile_update_status",h=jQuery(".cp-schedular-overlay"),i=b.attr("data-schedule"),j=jQuery(this).parents("td").find("span.cp-status");if("undefined"!=typeof i&&1==i)h.fadeIn(),a.stopPropagation(),jQuery(".cp-schedule-btn").unbind().click(function(a){a.preventDefault();var h=jQuery(".cp_start").val(),i=jQuery(".cp_end").val();if(""!==h&&""!==i){var k={action:g,status:d,style_id:c,option:e,variant:f,cp_start:h,cp_end:i};jQuery(document).trigger("changeStatus",[b,k,j,d])}else""==h?jQuery(".cp_start").focus():jQuery(".cp_end").focus()});else{var k={action:g,status:d,style_id:c,option:e,variant:f},j=jQuery(this).parents("td").find("span.cp-status");jQuery(document).trigger("changeStatus",[b,k,j,d])}}),jQuery(document).on("changeStatus",function(a,b,c,d,e){var f=(jQuery(".message"),d.attr("data-live"));jQuery(d).addClass("cp-status-loader"),jQuery.ajax({url:ajaxurl,data:c,type:"POST",dataType:"JSON",success:function(a){return"status changed"==a.message&&(jQuery(document).trigger("dismissPopup"),jQuery(d).removeClass("cp-status-loader"),jQuery(d).css("color","rgb(46, 204, 113)"),0==e?(jQuery(d).html('<i class="connects-icon-pause"></i><span>Pause</span>'),jQuery(d).attr("data-live",0)):1==e?(jQuery(d).html('<i class="connects-icon-play"></i><span>Live</span>'),jQuery(d).attr("data-live",1)):(jQuery(d).html('<i class="connects-icon-clock"></i><span>Scheduled</span>'),jQuery(d).attr("data-live",2)),0==f?(b.html('<i class="connects-icon-pause"></i><span>Pause</span>'),b.attr("data-live",0),b.removeAttr("data-schedule")):1==f?(b.html('<i class="connects-icon-play"></i><span>Live</span>'),b.attr("data-live",1),b.removeAttr("data-schedule")):(b.html('<i class="connects-icon-clock"></i><span>Scheduled</span>'),b.attr("data-live",2),b.attr("data-schedule",1)),setTimeout(function(){jQuery(d).removeAttr("style")},2e3)),!1}})}),jQuery("span.change-status").click(function(a){a.stopPropagation(),a.preventDefault()}),jQuery(".cp-scheduler-close").on("click",function(a){jQuery(document).trigger("dismissPopup")}),jQuery(".cp-scheduler-popup").on("click",function(a){a.preventDefault(),a.stopPropagation()}),jQuery(document).on("dismissPopup",function(a){var b=jQuery(".cp-schedular-overlay");jQuery("span.cp-status").removeClass("cp-status-loader"),b.fadeOut()}),jQuery(".cp-resp-bar-icon").click(function(){jQuery(".cp-resp-bar-icon").removeClass("cp-resp-active"),jQuery(this).addClass("cp-resp-active");var a=jQuery(this).data("res-class");jQuery(".live-design-area").attr("class","live-design-area "+a)}),jQuery(".cp-section").first().trigger("click"),jQuery(".cp-section").click(function(a){a.preventDefault();var b=jQuery(".customizer-collapse"),c=b.parents(".customizer-wrapper"),d=(c.find(".design-form"),c.find(".design-content"),c.find(".customize-footer-actions")),e=jQuery(this).data("section-id");c.hasClass("collapsed")&&(c.toggleClass("collapsed"),d.toggleClass("collapsed"));var f=jQuery("#"+e).find(".accordion-frame").length,g=jQuery("span.theme-name.site-title"),h=jQuery(this).find(".has-tip").data("original-title");if(g.html(h),1==f){var i=jQuery("#"+e).find(".accordion-frame .content"),j=jQuery("#"+e).find(".accordion-frame > a");i.show(),j.remove()}});var n=0;jQuery(".cp-section").click(function(a){a.preventDefault(),n++,jQuery(".accordion-frame").find("a.heading").each(function(a){jQuery(this).hasClass("collapsed")||n>1&&(jQuery(this).addClass("collapsed"),jQuery(this).parents(".accordion-frame").find(".content").css({display:"none"}),jQuery(".ps-scrollbar-y-rail ").find(".ps-scrollbar-y").css({top:"0px",height:"0px"}),jQuery(".ps-scrollbar-y-rail ").css({top:"0px",height:"0px"}))})}),jQuery(".cp-customize-section").click(function(a){var b=jQuery(this).data("section-id");jQuery("#"+b+" .content").show()}),jQuery(".accordion-frame a.heading").click(function(){var a=jQuery(this);setTimeout(function(){var b=a.position().top;jQuery(".design-form").animate({scrollTop:b},1e3),jQuery(".ps-scrollbar-y-rail ").find(".ps-scrollbar-y").css({top:"0px",height:"0px"}),jQuery(".ps-scrollbar-y-rail ").css({top:"0px",height:"0px"})},400)}),jQuery(window).bind("keydown",function(a){var b=jQuery(".cp-section.active"),c=jQuery(".customize").data("style");if(83==a.which&&(a.ctrlKey||a.metaKey)||18==a.which)switch(String.fromCharCode(a.which).toLowerCase()){case"s":a.preventDefault(),n=0,jQuery("#button-save-"+c+" > span").trigger("click"),b.trigger("click")}return!0})}),window.onload=function(){function a(a){a.preventDefault(),a.stopPropagation();var b=jQuery("#button-save-"+d);b.addClass("cp-save-loader");var c="form-"+jQuery(this).data("style"),e=jQuery("#"+c).serialize().replace(/\+/g,"%20"),f=jQuery("#"+c).data("action"),g=JSON.stringify(e),h=jQuery(this).parents(".customizer-wrapper"),i=h.find(".design-content"),j=i.data("iframe-url"),k=document.getElementById("smile_design_iframe").contentWindow;k.postMessage(g,j),jQuery.ajax({url:ajaxurl,data:{action:f,style_settings:e},type:"POST",dataType:"HTML",success:function(a){var c=jQuery("#new_style"),d=jQuery("#style-title"),e=d.val();""==e&&(c.val(a),d.val(a),d.attr("disabled","true")),b.removeClass("cp-save-loader");var f=getCookie("cp-unsaved-changes");f&&swal({title:"Settings Saved!",text:"",type:"success",timer:2e3,showConfirmButton:!1}),removeCookie("cp-unsaved-changes")},error:function(a){console.log(a)}})}function b(a){smileHandleDependencies(),a.preventDefault();var b=(jQuery("#button-save-"+d),jQuery(this).parents("form").attr("id")),c=jQuery("#"+b).serialize().replace(/\+/g,"%20"),e=JSON.stringify(c),f=jQuery(this).parents(".customizer-wrapper"),g=f.find(".design-content"),h=g.data("iframe-url"),i=document.getElementById("smile_design_iframe");if(i){var j=i.contentWindow;j.postMessage(e,h);var k="cp-unsaved-changes";createCookie(k,!0,1)}}var c=jQuery.getUrlVar("theme"),d=jQuery(".customize").data("style"),e=jQuery(".customize");"undefined"!=typeof c&&setTimeout(function(){e.hasClass("variant-test")||e.trigger("click")},500),jQuery(document).on("smile_panel_loaded",function(c,d,e){var f=document.getElementById("button-save-"+d),g="form-"+e,h=jQuery("#"+g+" .smile-input");jQuery.each(h,function(a,c){jQuery(this).trigger("change"),jQuery(this).on("change",b),jQuery(this).on("keyup",b)}),f&&f.addEventListener("click",a)}),jQuery(document).on("click",".cp-vertical-nav a",function(){var a=jQuery(this).attr("href");jQuery(".cp-vertical-nav a").removeClass("active"),jQuery(this).addClass("active"),jQuery(".cp-customizer-tab").hide(),jQuery(a).fadeIn(300)})},jQuery(document).ready(function(){removeCookie("cp-unsaved-changes");var a=jQuery("a.mailer-stage"),b=jQuery("div.stage-content"),c=jQuery("a.mailer-stage-internal");a.click(function(c){c.preventDefault();var d=jQuery(this).attr("href");a.removeClass("active-stage"),b.removeClass("active-stage"),jQuery(this).addClass("active-stage"),jQuery(d).addClass("active-stage")}),c.click(function(c){c.preventDefault();var d=jQuery(this).attr("href"),e=d.replace("#","");a.removeClass("active-stage"),b.removeClass("active-stage"),jQuery("."+e+" > a").addClass("active-stage"),jQuery(d).addClass("active-stage")}),jQuery(".has-tip").frosty({offset:10}),jQuery("a[href='#top']").click(function(){return jQuery("html, body").animate({scrollTop:0},"1000"),!1}),jQuery(".cp-action-link.customize").click(function(){var a=jQuery(this).parent().attr("href");window.location.href=a})}),jQuery(document).on("customize_loaded",function(){var a=jQuery(".customize").data("style");jQuery("#button-save-"+a+" > span").trigger("click"),jQuery("#button-save-"+a).trigger("click")}),jQuery(document).on("click",".cp-behavior-settings",function(){var a=jQuery(this).data("settings");swal({title:"",text:a,animation:"slide-from-top",html:!0,customClass:"cp-behavior-alert",allowEscapeKey:!0,allowOutsideClick:!0})}),jQuery(document).keyup(function(a){if(27==a.keyCode){var b=jQuery.getUrlVar("style-view");if("edit"==b){a.preventDefault();var c="cp-unsaved-changes";createCookie(c,!0,1);window.location="#"}}}),window.Modernizr=function(a,b,c){function d(a){s.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&s[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+v.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+w.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.6.2",n={},o=!0,p=b.documentElement,q="modernizr",r=b.createElement(q),s=r.style,t=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={},y=[],z=y.slice,A=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:q+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',q,'">',a,"</style>"].join(""),j.id=q,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=p.style.overflow,p.style.overflow="hidden",p.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),p.style.overflow=i),!!g},B={}.hasOwnProperty;l=e(B,"undefined")||e(B.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return B.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=z.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(z.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(z.call(arguments)))};return d}),x.csstransforms=function(){return!!i("transform")},x.csstransforms3d=function(){var a=!!i("perspective");return a&&"webkitPerspective"in p.style&&A("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},x.csstransitions=function(){return i("transition")};for(var C in x)l(x,C)&&(k=C.toLowerCase(),n[k]=x[C](),y.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof o&&o&&(p.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),r=j=null,n._version=m,n._prefixes=t,n._domPrefixes=w,n._cssomPrefixes=v,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=A,n.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(o?" js "+y.join(" "):""),n}(this,this.document),function(a){"function"==typeof define&&define.amd?define(["jquery","modernizr"],a):"object"==typeof exports?module.exports=a(require("jquery"),window.Modernizr):window.Shuffle=a(window.jQuery,window.Modernizr)}(function(a,b,c){"use strict";function d(a){return a?a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function e(b,c,d){var e,f,g,h=null,i=0;d=d||{};var j=function(){i=d.leading===!1?0:a.now(),h=null,g=b.apply(e,f),e=f=null};return function(){var k=a.now();i||d.leading!==!1||(i=k);var l=c-(k-i);return e=this,f=arguments,0>=l||l>c?(clearTimeout(h),h=null,i=k,g=b.apply(e,f),e=f=null):h||d.trailing===!1||(h=setTimeout(j,l)),g}}function f(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)==={})return}function g(b,c,d){return setTimeout(a.proxy(b,c),d)}function h(a){return Math.max.apply(Math,a)}function i(a){return Math.min.apply(Math,a)}function j(b){return a.isNumeric(b)?b:0}function k(a){var b,c,d=a.length;if(!d)return a;for(;--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a}if("object"!=typeof b)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var l=b.prefixed("transition"),m=b.prefixed("transitionDelay"),n=b.prefixed("transitionDuration"),o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[l],p=b.prefixed("transform"),q=d(p),r=b.csstransforms&&b.csstransitions,s=b.csstransforms3d,t=!!window.getComputedStyle,u="shuffle",v="all",w="groups",x=1,y=.001,z=window.getComputedStyle||function(){},A=function(a,b){this.x=j(a),this.y=j(b)};A.equals=function(a,b){return a.x===b.x&&a.y===b.y};var B=function(){if(!t)return!1;var a=document.body||document.documentElement,b=document.createElement("div");b.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",a.appendChild(b);var c=z(b,null).width,d="10px"===c;return a.removeChild(b),d}(),C=0,D=a(window),E=function(b,c){c=c||{},a.extend(this,E.options,c,E.settings),this.$el=a(b),this.element=b,this.unique="shuffle_"+C++,this._fire(E.EventType.LOADING),this._init(),g(function(){this.initialized=!0,this._fire(E.EventType.DONE)},this,16)};return E.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},E.ClassName={BASE:u,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},E.options={group:v,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:t?.01:.1,initialSort:null,throttle:e,throttleTime:300,sequentialFadeDelay:150,supported:r},E.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:v,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},E.Point=A,E._getItemTransformString=function(a,b){return s?"translate3d("+a.x+"px, "+a.y+"px, 0) scale3d("+b+", "+b+", 1)":"translate("+a.x+"px, "+a.y+"px) scale("+b+")"},E._getNumberStyle=function(b,c,d){if(t){d=d||z(b,null);var e=E._getFloat(d[c]);return B||"width"!==c?B||"height"!==c||(e+=E._getFloat(d.paddingTop)+E._getFloat(d.paddingBottom)+E._getFloat(d.borderTopWidth)+E._getFloat(d.borderBottomWidth)):e+=E._getFloat(d.paddingLeft)+E._getFloat(d.paddingRight)+E._getFloat(d.borderLeftWidth)+E._getFloat(d.borderRightWidth),e}return E._getFloat(a(b).css(c))},E._getFloat=function(a){return j(parseFloat(a))},E._getOuterWidth=function(a,b){var c=z(a,null),d=E._getNumberStyle(a,"width",c);if(b){var e=E._getNumberStyle(a,"marginLeft",c),f=E._getNumberStyle(a,"marginRight",c);d+=e+f}return d},E._getOuterHeight=function(a,b){var c=z(a,null),d=E._getNumberStyle(a,"height",c);if(b){var e=E._getNumberStyle(a,"marginTop",c),f=E._getNumberStyle(a,"marginBottom",c);d+=e+f}return d},E._skipTransition=function(a,b,c){var d=a.style[n];a.style[n]="0ms",b.call(c);var e=a.offsetWidth;e=null,a.style[n]=d},E.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(E.ClassName.BASE),this._initItems(),D.on("resize."+u+"."+this.unique,this._getResizeFunction());var a=this.$el.css(["position","overflow"]),b=E._getOuterWidth(this.element);this._validateStyles(a),this._setColumns(b),this.shuffle(this.group,this.initialSort),this.supported&&g(function(){this._setTransitions(),this.element.style[l]="height "+this.speed+"ms "+this.easing},this)},E.prototype._getResizeFunction=function(){var b=a.proxy(this._onResize,this);return this.throttle?this.throttle(b,this.throttleTime):b},E.prototype._getElementOption=function(a){return"string"==typeof a?this.$el.find(a)[0]||null:a&&a.nodeType&&1===a.nodeType?a:a&&a.jquery?a[0]:null},E.prototype._validateStyles=function(a){
"static"===a.position&&(this.element.style.position="relative"),"hidden"!==a.overflow&&(this.element.style.overflow="hidden")},E.prototype._filter=function(a,b){a=a||this.lastFilter,b=b||this.$items;var c=this._getFilteredSets(a,b);return this._toggleFilterClasses(c.filtered,c.concealed),this.lastFilter=a,"string"==typeof a&&(this.group=a),c.filtered},E.prototype._getFilteredSets=function(b,c){var d=a(),e=a();return b===v?d=c:f(c,function(c){var f=a(c);this._doesPassFilter(b,f)?d=d.add(f):e=e.add(f)},this),{filtered:d,concealed:e}},E.prototype._doesPassFilter=function(b,c){if(a.isFunction(b))return b.call(c[0],c,this);var d=c.data(w),e=this.delimeter&&!a.isArray(d)?d.split(this.delimeter):d;return a.inArray(b,e)>-1},E.prototype._toggleFilterClasses=function(a,b){a.removeClass(E.ClassName.CONCEALED).addClass(E.ClassName.FILTERED),b.removeClass(E.ClassName.FILTERED).addClass(E.ClassName.CONCEALED)},E.prototype._initItems=function(a){a=a||this.$items,a.addClass([E.ClassName.SHUFFLE_ITEM,E.ClassName.FILTERED].join(" ")),a.css(this.itemCss).data("point",new A).data("scale",x)},E.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},E.prototype._setTransition=function(a){a.style[l]=q+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},E.prototype._setTransitions=function(a){a=a||this.$items,f(a,function(a){this._setTransition(a)},this)},E.prototype._setSequentialDelay=function(a){this.supported&&f(a,function(a,b){a.style[m]="0ms,"+(b+1)*this.sequentialFadeDelay+"ms"},this)},E.prototype._getItems=function(){return this.$el.children(this.itemSelector)},E.prototype._getFilteredItems=function(){return this.$items.filter("."+E.ClassName.FILTERED)},E.prototype._getConcealedItems=function(){return this.$items.filter("."+E.ClassName.CONCEALED)},E.prototype._getColumnSize=function(b,c){var d;return d=a.isFunction(this.columnWidth)?this.columnWidth(b):this.useSizer?E._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?E._getOuterWidth(this.$items[0],!0):b,0===d&&(d=b),d+c},E.prototype._getGutterSize=function(b){var c;return c=a.isFunction(this.gutterWidth)?this.gutterWidth(b):this.useSizer?E._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},E.prototype._setColumns=function(a){var b=a||E._getOuterWidth(this.element),c=this._getGutterSize(b),d=this._getColumnSize(b,c),e=(b+c)/d;Math.abs(Math.round(e)-e)<this.columnThreshold&&(e=Math.round(e)),this.cols=Math.max(Math.floor(e),1),this.containerWidth=b,this.colWidth=d},E.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},E.prototype._getContainerSize=function(){return h(this.positions)},E.prototype._fire=function(a,b){this.$el.trigger(a+"."+u,b&&b.length?b:[this])},E.prototype._resetCols=function(){var a=this.cols;for(this.positions=[];a--;)this.positions.push(0)},E.prototype._layout=function(a,b){f(a,function(a){this._layoutItem(a,!!b)},this),this._processStyleQueue(),this._setContainerSize()},E.prototype._layoutItem=function(b,c){var d=a(b),e=d.data(),f=e.point,g=e.scale,h={width:E._getOuterWidth(b,!0),height:E._getOuterHeight(b,!0)},i=this._getItemPosition(h);A.equals(f,i)&&g===x||(e.point=i,e.scale=x,this.styleQueue.push({$item:d,point:i,scale:x,opacity:c?0:1,skipTransition:c||0===this.speed,callfront:function(){c||d.css("visibility","visible")},callback:function(){c&&d.css("visibility","hidden")}}))},E.prototype._getItemPosition=function(a){for(var b=this._getColumnSpan(a.width,this.colWidth,this.cols),c=this._getColumnSet(b,this.cols),d=this._getShortColumn(c,this.buffer),e=new A(Math.round(this.colWidth*d),Math.round(c[d])),f=c[d]+a.height,g=this.cols+1-c.length,h=0;g>h;h++)this.positions[d+h]=f;return e},E.prototype._getColumnSpan=function(a,b,c){var d=a/b;return Math.abs(Math.round(d)-d)<this.columnThreshold&&(d=Math.round(d)),Math.min(Math.ceil(d),c)},E.prototype._getColumnSet=function(a,b){if(1===a)return this.positions;for(var c=b+1-a,d=[],e=0;c>e;e++)d[e]=h(this.positions.slice(e,e+a));return d},E.prototype._getShortColumn=function(a,b){for(var c=i(a),d=0,e=a.length;e>d;d++)if(a[d]>=c-b&&a[d]<=c+b)return d;return 0},E.prototype._shrink=function(b){var c=b||this._getConcealedItems();f(c,function(b){var c=a(b),d=c.data();d.scale!==y&&(d.scale=y,this.styleQueue.push({$item:c,point:d.point,scale:y,opacity:0,callback:function(){c.css("visibility","hidden")}}))},this)},E.prototype._onResize=function(){if(this.enabled&&!this.destroyed){var a=E._getOuterWidth(this.element);a!==this.containerWidth&&this.update()}},E.prototype._getStylesForTransition=function(a){var b={opacity:a.opacity};return this.supported?b[p]=E._getItemTransformString(a.point,a.scale):(b.left=a.point.x,b.top=a.point.y),b},E.prototype._transition=function(b){var c=this._getStylesForTransition(b);this._startItemAnimation(b.$item,c,b.callfront||a.noop,b.callback||a.noop)},E.prototype._startItemAnimation=function(b,c,d,e){function f(b){b.target===b.currentTarget&&(a(b.target).off(o,f),g._removeTransitionReference(h),e())}var g=this,h={$element:b,handler:f};if(d(),!this.initialized)return b.css(c),void e();if(this.supported)b.css(c),b.on(o,f),this._transitions.push(h);else{var i=b.stop(!0).animate(c,this.speed,"swing",e);this._animations.push(i.promise())}},E.prototype._processStyleQueue=function(b){this.isTransitioning&&this._cancelMovement();var c=a();f(this.styleQueue,function(a){a.skipTransition?this._styleImmediately(a):(c=c.add(a.$item),this._transition(a))},this),c.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(c,o,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):b||g(this._layoutEnd,this),this.styleQueue.length=0},E.prototype._cancelMovement=function(){this.supported?f(this._transitions,function(a){a.$element.off(o,a.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},E.prototype._removeTransitionReference=function(b){var c=a.inArray(b,this._transitions);c>-1&&this._transitions.splice(c,1)},E.prototype._styleImmediately=function(a){E._skipTransition(a.$item[0],function(){a.$item.css(this._getStylesForTransition(a))},this)},E.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},E.prototype._layoutEnd=function(){this._fire(E.EventType.LAYOUT)},E.prototype._addItems=function(a,b,c){this._initItems(a),this._setTransitions(a),this.$items=this._getItems(),this._shrink(a),f(this.styleQueue,function(a){a.skipTransition=!0}),this._processStyleQueue(!0),b?this._addItemsToEnd(a,c):this.shuffle(this.lastFilter)},E.prototype._addItemsToEnd=function(a,b){var c=this._filter(null,a),d=c.get();this._updateItemCount(),this._layout(d,!0),b&&this.supported&&this._setSequentialDelay(d),this._revealAppended(d)},E.prototype._revealAppended=function(b){g(function(){f(b,function(b){var c=a(b);this._transition({$item:c,opacity:1,point:c.data("point"),scale:x})},this),this._whenCollectionDone(a(b),o,function(){a(b).css(m,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},E.prototype._whenCollectionDone=function(b,c,d){function e(b){b.target===b.currentTarget&&(a(b.target).off(c,e),f++,f===g&&(h._removeTransitionReference(i),d.call(h)))}var f=0,g=b.length,h=this,i={$element:b,handler:e};b.on(c,e),this._transitions.push(i)},E.prototype._whenAnimationsDone=function(b){a.when.apply(null,this._animations).always(a.proxy(function(){this._animations.length=0,this._isMovementCanceled||b.call(this)},this))},E.prototype.shuffle=function(a,b){this.enabled&&(a||(a=v),this._filter(a),this._updateItemCount(),this._shrink(),this.sort(b))},E.prototype.sort=function(a){if(this.enabled){this._resetCols();var b=a||this.lastSort,c=this._getFilteredItems().sorted(b);this._layout(c),this.lastSort=b}},E.prototype.update=function(a){this.enabled&&(a||this._setColumns(),this.sort())},E.prototype.layout=function(){this.update(!0)},E.prototype.appended=function(a,b,c){this._addItems(a,b===!0,c!==!1)},E.prototype.disable=function(){this.enabled=!1},E.prototype.enable=function(a){this.enabled=!0,a!==!1&&this.update()},E.prototype.remove=function(b){function c(){b.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(E.EventType.REMOVED,[b,this]),b=null}b.length&&b.jquery&&(this._toggleFilterClasses(a(),b),this._shrink(b),this.sort(),this.$el.one(E.EventType.LAYOUT+"."+u,a.proxy(c,this)))},E.prototype.destroy=function(){D.off("."+this.unique),this.$el.removeClass(u).removeAttr("style").removeData(u),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([E.ClassName.CONCEALED,E.ClassName.FILTERED,E.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},a.fn.shuffle=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data(u);e?"string"==typeof b&&e[b]&&e[b].apply(e,c):(e=new E(this,b),d.data(u,e))})},a.fn.sorted=function(b){var d=a.extend({},a.fn.sorted.defaults,b),e=this.get(),f=!1;return e.length?d.randomize?k(e):(a.isFunction(d.by)&&e.sort(function(b,e){if(f)return 0;var g=d.by(a(b)),h=d.by(a(e));return g===c&&h===c?(f=!0,0):h>g||"sortFirst"===g||"sortLast"===h?-1:g>h||"sortLast"===g||"sortFirst"===h?1:0}),f?this.get():(d.reverse&&e.reverse(),e)):[]},a.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},E}),!function(a){"function"==typeof define&&define.amd?define(["jquery","modernizr"],a):"object"==typeof exports?module.exports=a(require("jquery"),window.Modernizr):window.Shuffle=a(window.jQuery,window.Modernizr)}(function(a,b,c){"use strict";function d(a){return a?a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function e(b,c,d){var e,f,g,h=null,i=0;d=d||{};var j=function(){i=d.leading===!1?0:a.now(),h=null,g=b.apply(e,f),e=f=null};return function(){var k=a.now();i||d.leading!==!1||(i=k);var l=c-(k-i);return e=this,f=arguments,0>=l||l>c?(clearTimeout(h),h=null,i=k,g=b.apply(e,f),e=f=null):h||d.trailing===!1||(h=setTimeout(j,l)),g}}function f(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)==={})return}function g(b,c,d){return setTimeout(a.proxy(b,c),d)}function h(a){return Math.max.apply(Math,a)}function i(a){return Math.min.apply(Math,a)}function j(b){return a.isNumeric(b)?b:0}function k(a){var b,c,d=a.length;if(!d)return a;for(;--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a}if("object"!=typeof b)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var l=b.prefixed("transition"),m=b.prefixed("transitionDelay"),n=b.prefixed("transitionDuration"),o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[l],p=b.prefixed("transform"),q=d(p),r=b.csstransforms&&b.csstransitions,s=b.csstransforms3d,t=!!window.getComputedStyle,u="shuffle",v="all",w="groups",x=1,y=.001,z=window.getComputedStyle||function(){},A=function(a,b){this.x=j(a),this.y=j(b)};A.equals=function(a,b){return a.x===b.x&&a.y===b.y};var B=function(){if(!t)return!1;var a=document.body||document.documentElement,b=document.createElement("div");b.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",a.appendChild(b);var c=z(b,null).width,d="10px"===c;return a.removeChild(b),d}(),C=0,D=a(window),E=function(b,c){c=c||{},a.extend(this,E.options,c,E.settings),this.$el=a(b),this.element=b,this.unique="shuffle_"+C++,this._fire(E.EventType.LOADING),this._init(),g(function(){this.initialized=!0,this._fire(E.EventType.DONE)},this,16)};return E.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},E.ClassName={BASE:u,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},E.options={group:v,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:t?.01:.1,initialSort:null,throttle:e,throttleTime:300,sequentialFadeDelay:150,supported:r},E.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:v,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},E.Point=A,E._getItemTransformString=function(a,b){return s?"translate3d("+a.x+"px, "+a.y+"px, 0) scale3d("+b+", "+b+", 1)":"translate("+a.x+"px, "+a.y+"px) scale("+b+")"},E._getNumberStyle=function(b,c,d){if(t){d=d||z(b,null);var e=E._getFloat(d[c]);return B||"width"!==c?B||"height"!==c||(e+=E._getFloat(d.paddingTop)+E._getFloat(d.paddingBottom)+E._getFloat(d.borderTopWidth)+E._getFloat(d.borderBottomWidth)):e+=E._getFloat(d.paddingLeft)+E._getFloat(d.paddingRight)+E._getFloat(d.borderLeftWidth)+E._getFloat(d.borderRightWidth),e}return E._getFloat(a(b).css(c))},E._getFloat=function(a){return j(parseFloat(a))},E._getOuterWidth=function(a,b){var c=z(a,null),d=E._getNumberStyle(a,"width",c);if(b){var e=E._getNumberStyle(a,"marginLeft",c),f=E._getNumberStyle(a,"marginRight",c);d+=e+f}return d},E._getOuterHeight=function(a,b){var c=z(a,null),d=E._getNumberStyle(a,"height",c);if(b){var e=E._getNumberStyle(a,"marginTop",c),f=E._getNumberStyle(a,"marginBottom",c);d+=e+f}return d},E._skipTransition=function(a,b,c){var d=a.style[n];a.style[n]="0ms",b.call(c);var e=a.offsetWidth;e=null,a.style[n]=d},E.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(E.ClassName.BASE),this._initItems(),D.on("resize."+u+"."+this.unique,this._getResizeFunction());var a=this.$el.css(["position","overflow"]),b=E._getOuterWidth(this.element);this._validateStyles(a),this._setColumns(b),this.shuffle(this.group,this.initialSort),this.supported&&g(function(){this._setTransitions(),this.element.style[l]="height "+this.speed+"ms "+this.easing},this)},E.prototype._getResizeFunction=function(){var b=a.proxy(this._onResize,this);return this.throttle?this.throttle(b,this.throttleTime):b},E.prototype._getElementOption=function(a){return"string"==typeof a?this.$el.find(a)[0]||null:a&&a.nodeType&&1===a.nodeType?a:a&&a.jquery?a[0]:null},E.prototype._validateStyles=function(a){"static"===a.position&&(this.element.style.position="relative"),"hidden"!==a.overflow&&(this.element.style.overflow="hidden")},E.prototype._filter=function(a,b){a=a||this.lastFilter,b=b||this.$items;var c=this._getFilteredSets(a,b);return this._toggleFilterClasses(c.filtered,c.concealed),this.lastFilter=a,"string"==typeof a&&(this.group=a),c.filtered},E.prototype._getFilteredSets=function(b,c){var d=a(),e=a();return b===v?d=c:f(c,function(c){var f=a(c);this._doesPassFilter(b,f)?d=d.add(f):e=e.add(f)},this),{filtered:d,concealed:e}},E.prototype._doesPassFilter=function(b,c){if(a.isFunction(b))return b.call(c[0],c,this);var d=c.data(w),e=this.delimeter&&!a.isArray(d)?d.split(this.delimeter):d;return a.inArray(b,e)>-1},E.prototype._toggleFilterClasses=function(a,b){a.removeClass(E.ClassName.CONCEALED).addClass(E.ClassName.FILTERED),b.removeClass(E.ClassName.FILTERED).addClass(E.ClassName.CONCEALED)},E.prototype._initItems=function(a){a=a||this.$items,a.addClass([E.ClassName.SHUFFLE_ITEM,E.ClassName.FILTERED].join(" ")),a.css(this.itemCss).data("point",new A).data("scale",x)},E.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},E.prototype._setTransition=function(a){a.style[l]=q+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},E.prototype._setTransitions=function(a){a=a||this.$items,f(a,function(a){this._setTransition(a)},this)},E.prototype._setSequentialDelay=function(a){this.supported&&f(a,function(a,b){a.style[m]="0ms,"+(b+1)*this.sequentialFadeDelay+"ms"},this)},E.prototype._getItems=function(){return this.$el.children(this.itemSelector)},E.prototype._getFilteredItems=function(){return this.$items.filter("."+E.ClassName.FILTERED)},E.prototype._getConcealedItems=function(){return this.$items.filter("."+E.ClassName.CONCEALED)},E.prototype._getColumnSize=function(b,c){var d;return d=a.isFunction(this.columnWidth)?this.columnWidth(b):this.useSizer?E._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?E._getOuterWidth(this.$items[0],!0):b,0===d&&(d=b),d+c},E.prototype._getGutterSize=function(b){var c;return c=a.isFunction(this.gutterWidth)?this.gutterWidth(b):this.useSizer?E._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},E.prototype._setColumns=function(a){var b=a||E._getOuterWidth(this.element),c=this._getGutterSize(b),d=this._getColumnSize(b,c),e=(b+c)/d;Math.abs(Math.round(e)-e)<this.columnThreshold&&(e=Math.round(e)),this.cols=Math.max(Math.floor(e),1),this.containerWidth=b,this.colWidth=d},E.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},E.prototype._getContainerSize=function(){return h(this.positions)},E.prototype._fire=function(a,b){this.$el.trigger(a+"."+u,b&&b.length?b:[this])},E.prototype._resetCols=function(){var a=this.cols;for(this.positions=[];a--;)this.positions.push(0)},E.prototype._layout=function(a,b){f(a,function(a){this._layoutItem(a,!!b)},this),this._processStyleQueue(),this._setContainerSize()},E.prototype._layoutItem=function(b,c){var d=a(b),e=d.data(),f=e.point,g=e.scale,h={width:E._getOuterWidth(b,!0),height:E._getOuterHeight(b,!0)},i=this._getItemPosition(h);A.equals(f,i)&&g===x||(e.point=i,e.scale=x,this.styleQueue.push({$item:d,point:i,scale:x,opacity:c?0:1,skipTransition:c||0===this.speed,callfront:function(){c||d.css("visibility","visible")},callback:function(){c&&d.css("visibility","hidden")}}))},E.prototype._getItemPosition=function(a){for(var b=this._getColumnSpan(a.width,this.colWidth,this.cols),c=this._getColumnSet(b,this.cols),d=this._getShortColumn(c,this.buffer),e=new A(Math.round(this.colWidth*d),Math.round(c[d])),f=c[d]+a.height,g=this.cols+1-c.length,h=0;g>h;h++)this.positions[d+h]=f;return e},E.prototype._getColumnSpan=function(a,b,c){var d=a/b;return Math.abs(Math.round(d)-d)<this.columnThreshold&&(d=Math.round(d)),Math.min(Math.ceil(d),c)},E.prototype._getColumnSet=function(a,b){if(1===a)return this.positions;for(var c=b+1-a,d=[],e=0;c>e;e++)d[e]=h(this.positions.slice(e,e+a));return d},E.prototype._getShortColumn=function(a,b){for(var c=i(a),d=0,e=a.length;e>d;d++)if(a[d]>=c-b&&a[d]<=c+b)return d;return 0},E.prototype._shrink=function(b){var c=b||this._getConcealedItems();f(c,function(b){var c=a(b),d=c.data();d.scale!==y&&(d.scale=y,this.styleQueue.push({$item:c,point:d.point,scale:y,opacity:0,callback:function(){c.css("visibility","hidden")}}))},this)},E.prototype._onResize=function(){if(this.enabled&&!this.destroyed){var a=E._getOuterWidth(this.element);a!==this.containerWidth&&this.update()}},E.prototype._getStylesForTransition=function(a){var b={opacity:a.opacity};return this.supported?b[p]=E._getItemTransformString(a.point,a.scale):(b.left=a.point.x,b.top=a.point.y),b},E.prototype._transition=function(b){var c=this._getStylesForTransition(b);this._startItemAnimation(b.$item,c,b.callfront||a.noop,b.callback||a.noop)},E.prototype._startItemAnimation=function(b,c,d,e){function f(b){b.target===b.currentTarget&&(a(b.target).off(o,f),g._removeTransitionReference(h),e())}var g=this,h={$element:b,handler:f};if(d(),!this.initialized)return b.css(c),void e();if(this.supported)b.css(c),b.on(o,f),this._transitions.push(h);else{var i=b.stop(!0).animate(c,this.speed,"swing",e);this._animations.push(i.promise())}},E.prototype._processStyleQueue=function(b){this.isTransitioning&&this._cancelMovement();var c=a();f(this.styleQueue,function(a){a.skipTransition?this._styleImmediately(a):(c=c.add(a.$item),this._transition(a))},this),c.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(c,o,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):b||g(this._layoutEnd,this),this.styleQueue.length=0},E.prototype._cancelMovement=function(){this.supported?f(this._transitions,function(a){a.$element.off(o,a.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},E.prototype._removeTransitionReference=function(b){var c=a.inArray(b,this._transitions);c>-1&&this._transitions.splice(c,1)},E.prototype._styleImmediately=function(a){E._skipTransition(a.$item[0],function(){a.$item.css(this._getStylesForTransition(a))},this)},E.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},E.prototype._layoutEnd=function(){this._fire(E.EventType.LAYOUT)},E.prototype._addItems=function(a,b,c){this._initItems(a),this._setTransitions(a),this.$items=this._getItems(),this._shrink(a),f(this.styleQueue,function(a){a.skipTransition=!0}),this._processStyleQueue(!0),b?this._addItemsToEnd(a,c):this.shuffle(this.lastFilter)},E.prototype._addItemsToEnd=function(a,b){var c=this._filter(null,a),d=c.get();this._updateItemCount(),this._layout(d,!0),b&&this.supported&&this._setSequentialDelay(d),this._revealAppended(d)},E.prototype._revealAppended=function(b){g(function(){f(b,function(b){var c=a(b);this._transition({$item:c,opacity:1,point:c.data("point"),scale:x})},this),this._whenCollectionDone(a(b),o,function(){a(b).css(m,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},E.prototype._whenCollectionDone=function(b,c,d){function e(b){b.target===b.currentTarget&&(a(b.target).off(c,e),f++,f===g&&(h._removeTransitionReference(i),d.call(h)))}var f=0,g=b.length,h=this,i={$element:b,handler:e};b.on(c,e),this._transitions.push(i)},E.prototype._whenAnimationsDone=function(b){a.when.apply(null,this._animations).always(a.proxy(function(){this._animations.length=0,this._isMovementCanceled||b.call(this)},this))},E.prototype.shuffle=function(a,b){this.enabled&&(a||(a=v),this._filter(a),this._updateItemCount(),this._shrink(),this.sort(b))},E.prototype.sort=function(a){if(this.enabled){this._resetCols();var b=a||this.lastSort,c=this._getFilteredItems().sorted(b);this._layout(c),this.lastSort=b}},E.prototype.update=function(a){this.enabled&&(a||this._setColumns(),this.sort())},E.prototype.layout=function(){this.update(!0)},E.prototype.appended=function(a,b,c){this._addItems(a,b===!0,c!==!1)},E.prototype.disable=function(){this.enabled=!1},E.prototype.enable=function(a){this.enabled=!0,a!==!1&&this.update()},E.prototype.remove=function(b){function c(){b.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(E.EventType.REMOVED,[b,this]),b=null}b.length&&b.jquery&&(this._toggleFilterClasses(a(),b),this._shrink(b),this.sort(),this.$el.one(E.EventType.LAYOUT+"."+u,a.proxy(c,this)))},E.prototype.destroy=function(){D.off("."+this.unique),this.$el.removeClass(u).removeAttr("style").removeData(u),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([E.ClassName.CONCEALED,E.ClassName.FILTERED,E.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},a.fn.shuffle=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data(u);e?"string"==typeof b&&e[b]&&e[b].apply(e,c):(e=new E(this,b),d.data(u,e))})},a.fn.sorted=function(b){var d=a.extend({},a.fn.sorted.defaults,b),e=this.get(),f=!1;return e.length?d.randomize?k(e):(a.isFunction(d.by)&&e.sort(function(b,e){if(f)return 0;var g=d.by(a(b)),h=d.by(a(e));return g===c&&h===c?(f=!0,0):h>g||"sortFirst"===g||"sortLast"===h?-1:g>h||"sortLast"===g||"sortFirst"===h?1:0}),f?this.get():(d.reverse&&e.reverse(),e)):[]},a.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},E}),!function(a,b){var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this);var shuffleme=function(a){"use strict";var b=jQuery("#grid"),c=jQuery(".filter-options"),d=b.find(".shuffle_sizer"),e=jQuery("#cp_grid"),f=e.find(".shuffle_sizer"),g=function(){setTimeout(function(){i(),h()},100),b.shuffle({itemSelector:'[class*="col-"]',sizer:d}),e.shuffle({itemSelector:'[class*="cp-style-"]',sizer:f})},h=function(){var a=c.children();a.on("click",function(){var a=jQuery(this),c=a.hasClass("active"),d=c?"all":a.data("group");c||jQuery(".filter-options .active").removeClass("active"),a.toggleClass("active"),b.shuffle("shuffle",d),e.shuffle("shuffle",d)}),a=null},i=function(){var c=a.throttle(300,function(){b.shuffle("update"),e.shuffle("update")});b.find("img").each(function(){var a;this.complete&&void 0!==this.naturalWidth||(a=new Image,jQuery(a).on("load",function(){jQuery(this).off("load"),c()}),a.src=this.src)}),e.find("img").each(function(){var a;this.complete&&void 0!==this.naturalWidth||(a=new Image,jQuery(a).on("load",function(){jQuery(this).off("load"),c()}),a.src=this.src)}),jQuery(".js-shuffle-search").on("click",function(){var a=jQuery(this);setTimeout(function(){var c=a.val();""==c&&(e.shuffle("shuffle","all"),b.shuffle("shuffle","all"))},100)}),jQuery(".js-shuffle-search").on("keyup change",function(){var c=this.value.toLowerCase();b.shuffle("shuffle",function(b,d){if("all"!==d.group&&-1===a.inArray(d.group,b.data("groups")))return!1;var e=a.trim(b.find(".cp-style-name").text()).toLowerCase();if(console.log(b),"-1"==e.indexOf(c))var e=a.trim(b.data("tags")).toLowerCase();return-1!==e.indexOf(c)}),e.shuffle("shuffle",function(b,d){if("all"!==d.group&&-1===a.inArray(d.group,b.data("groups")))return!1;var e=a.trim(b.find(".cp-style-name").text()).toLowerCase();if(console.log(b),"-1"==e.indexOf(c))var e=a.trim(b.data("tags")).toLowerCase();return-1!==e.indexOf(c)})}),setTimeout(function(){c()},500)};return{init:g}}(jQuery);jQuery(document).ready(function(){shuffleme.init(),jQuery(".cp-themes").click(function(){var a=jQuery("#cp_grid");jQuery("#style-search").trigger("keyup change"),a.shuffle("shuffle","all"),setTimeout(function(){a.shuffle("shuffle","all")},100),setTimeout(function(){jQuery("#style-search").focus()},300)}),jQuery(".js-shuffle-search").on("search",function(){jQuery(this).trigger("change")})});