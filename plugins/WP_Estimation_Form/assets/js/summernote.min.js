
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(window.jQuery)}}(function(C){if(!Array.prototype.reduce){Array.prototype.reduce=function(U){var S=Object(this),Q=S.length>>>0,R=0,T;if(arguments.length===2){T=arguments[1]}else{while(R<Q&&!(R in S)){R++}if(R>=Q){throw new TypeError("Reduce of empty array with no initial value")}T=S[R++]}for(;R<Q;R++){if(R in S){T=U(T,S[R],R,S)}}return T}}if("function"!==typeof Array.prototype.filter){Array.prototype.filter=function(V){var U=Object(this),Q=U.length>>>0;var T=[];var R=arguments.length>=2?arguments[1]:void 0;for(var S=0;S<Q;S++){if(S in U){var W=U[S];if(V.call(R,W,S,U)){T.push(W)}}}return T}}if(!Array.prototype.map){Array.prototype.map=function(Z,Y){var R,Q,S;if(this===null){throw new TypeError(" this is null or not defined")}var V=Object(this);var W=V.length>>>0;if(typeof Z!=="function"){throw new TypeError(Z+" is not a function")}if(arguments.length>1){R=Y}Q=new Array(W);S=0;while(S<W){var U,X;if(S in V){U=V[S];X=Z.call(R,U,S,V);Q[S]=X}S++}return Q}}var v=typeof define==="function"&&define.amd;var l=function(S){var U=S==="Comic Sans MS"?"Courier New":"Comic Sans MS";var Q=C("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body);var T=Q.css("fontFamily",U).width();var R=Q.css("fontFamily",S+","+U).width();Q.remove();return T!==R};var D=navigator.userAgent;var h=/MSIE|Trident/i.test(D);var K;if(h){var a=/MSIE (\d+[.]\d+)/.exec(D);if(a){K=parseFloat(a[1])}a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(D);if(a){K=parseFloat(a[1])}}var O={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:h,isFF:/firefox/i.test(D),isWebkit:/webkit/i.test(D),isSafari:/safari/i.test(D),browserVersion:K,jqueryVersion:parseFloat(C.fn.jquery),isSupportAmd:v,hasCodeMirror:v?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:l,isW3CRangeSupport:!!document.createRange};var r=(function(){var ac=function(ad){return function(ae){return ad===ae}};var X=function(ae,ad){return ae===ad};var S=function(ad){return function(af,ae){return af[ad]===ae[ad]}};var Z=function(){return true};var U=function(){return false};var T=function(ad){return function(){return !ad.apply(ad,arguments)}};var W=function(ae,ad){return function(af){return ae(af)&&ad(af)}};var ab=function(ad){return ad};var R=0;var Y=function(ad){var ae=++R+"";return ad?ad+ae:ae};var Q=function(ad){var ae=C(document);return{top:ad.top+ae.scrollTop(),left:ad.left+ae.scrollLeft(),width:ad.right-ad.left,height:ad.bottom-ad.top}};var V=function(af){var ad={};for(var ae in af){if(af.hasOwnProperty(ae)){ad[af[ae]]=ae}}return ad};var aa=function(ad,ae){ae=ae||"";return ae+ad.split(".").map(function(af){return af.substring(0,1).toUpperCase()+af.substring(1)}).join("")};return{eq:ac,eq2:X,peq2:S,ok:Z,fail:U,self:ab,not:T,and:W,uniqueId:Y,rect2bnd:Q,invertObject:V,namespaceToCamel:aa}})();var s=(function(){var ab=function(af){return af[0]};var ae=function(af){return af[af.length-1]};var X=function(af){return af.slice(0,af.length-1)};var Y=function(af){return af.slice(1)};var W=function(aj,ah){for(var ag=0,af=aj.length;ag<af;ag++){var ai=aj[ag];if(ah(ai)){return ai}}};var ad=function(ai,ah){for(var ag=0,af=ai.length;ag<af;ag++){if(!ah(ai[ag])){return false}}return true};var aa=function(ag,af){return C.inArray(af,ag)};var R=function(ag,af){return aa(ag,af)!==-1};var V=function(ag,af){af=af||r.self;return ag.reduce(function(ai,ah){return ai+af(ah)},0)};var ac=function(ai){var ag=[],af=-1,ah=ai.length;while(++af<ah){ag[af]=ai[af]}return ag};var T=function(ah,af){if(!ah.length){return[]}var ag=Y(ah);return ag.reduce(function(ak,aj){var ai=ae(ak);if(af(ae(ai),aj)){ai[ai.length]=aj}else{ak[ak.length]=[aj]}return ak},[[ab(ah)]])};var Z=function(ai){var ah=[];for(var ag=0,af=ai.length;ag<af;ag++){if(ai[ag]){ah.push(ai[ag])}}return ah};var S=function(ai){var ah=[];for(var ag=0,af=ai.length;ag<af;ag++){if(!R(ah,ai[ag])){ah.push(ai[ag])}}return ah};var U=function(ah,ag){var af=aa(ah,ag);if(af===-1){return null}return ah[af+1]};var Q=function(ah,ag){var af=aa(ah,ag);if(af===-1){return null}return ah[af-1]};return{head:ab,last:ae,initial:X,tail:Y,prev:Q,next:U,find:W,contains:R,all:ad,sum:V,from:ac,clusterBy:T,compact:Z,unique:S}})();var P=String.fromCharCode(160);var J="\ufeff";var b=(function(){var U=function(a7){return a7&&C(a7).hasClass("note-editable")};var aC=function(a7){return a7&&C(a7).hasClass("note-control-sizing")};var a5=function(a9){var ba;if(a9.hasClass("note-air-editor")){var bb=s.last(a9.attr("id").split("-"));ba=function(bc){return function(){return C(bc+bb)}};return{editor:function(){return a9},holder:function(){return a9.data("holder")},editable:function(){return a9},popover:ba("#note-popover-"),handle:ba("#note-handle-"),dialog:ba("#note-dialog-")}}else{ba=function(bd,bc){bc=bc||a9;return function(){return bc.find(bd)}};var a7=a9.data("options");var a8=(a7&&a7.dialogsInBody)?C(document.body):null;return{editor:function(){return a9},holder:function(){return a9.data("holder")},dropzone:ba(".note-dropzone"),toolbar:ba(".note-toolbar"),editable:ba(".note-editable"),codable:ba(".note-codable"),statusbar:ba(".note-statusbar"),popover:ba(".note-popover"),handle:ba(".note-handle"),dialog:ba(".note-dialog",a8)}}};var az=function(a8){var a7=C(a8).closest(".note-editor, .note-air-editor, .note-air-layout");if(!a7.length){return null}var a9;if(a7.is(".note-editor, .note-air-editor")){a9=a7}else{a9=C("#note-editor-"+s.last(a7.attr("id").split("-")))}return a5(a9)};var a1=function(a7){a7=a7.toUpperCase();return function(a8){return a8&&a8.nodeName.toUpperCase()===a7}};var aa=function(a7){return a7&&a7.nodeType===3};var aV=function(a7){return a7&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(a7.nodeName.toUpperCase())};var X=function(a7){if(U(a7)){return false}return a7&&/^DIV|^P|^LI|^H[1-7]/.test(a7.nodeName.toUpperCase())};var aY=a1("LI");var a3=function(a7){return X(a7)&&!aY(a7)};var aQ=a1("TABLE");var aj=function(a7){return !Q(a7)&&!R(a7)&&!W(a7)&&!X(a7)&&!aQ(a7)&&!a6(a7)};var R=function(a7){return a7&&/^UL|^OL/.test(a7.nodeName.toUpperCase())};var W=a1("HR");var ab=function(a7){return a7&&/^TD|^TH/.test(a7.nodeName.toUpperCase())};var a6=a1("BLOCKQUOTE");var Q=function(a7){return ab(a7)||a6(a7)||U(a7)};var Z=a1("A");var aH=function(a7){return aj(a7)&&!!aG(a7,X)};var aI=function(a7){return aj(a7)&&!aG(a7,X)};var T=a1("BODY");var aF=function(a8,a7){return a8.nextSibling===a7||a8.previousSibling===a7};var ai=function(a8,a7){a7=a7||r.ok;var a9=[];if(a8.previousSibling&&a7(a8.previousSibling)){a9.push(a8.previousSibling)}a9.push(a8);if(a8.nextSibling&&a7(a8.nextSibling)){a9.push(a8.nextSibling)}return a9};var aT=O.isMSIE&&O.browserVersion<11?"&nbsp;":"<br>";var V=function(a7){if(aa(a7)){return a7.nodeValue.length}return a7.childNodes.length};var al=function(a8){var a7=V(a8);if(a7===0){return true}else{if(!aa(a8)&&a7===1&&a8.innerHTML===aT){return true}else{if(s.all(a8.childNodes,aa)&&a8.innerHTML===""){return true}}}return false};var ad=function(a7){if(!aV(a7)&&!V(a7)){a7.innerHTML=aT}};var aG=function(a8,a7){while(a8){if(a7(a8)){return a8}if(U(a8)){break}a8=a8.parentNode}return null};var aR=function(a8,a7){a8=a8.parentNode;while(a8){if(V(a8)!==1){break}if(a7(a8)){return a8}if(U(a8)){break}a8=a8.parentNode}return null};var ay=function(a9,a7){a7=a7||r.fail;var a8=[];aG(a9,function(ba){if(!U(ba)){a8.push(ba)}return a7(ba)});return a8};var S=function(a9,a7){var a8=ay(a9);return s.last(a8.filter(a7))};var an=function(a9,a8){var a7=ay(a9);for(var ba=a8;ba;ba=ba.parentNode){if(C.inArray(ba,a7)>-1){return ba}}return null};var aO=function(a9,a8){a8=a8||r.fail;var a7=[];while(a9){if(a8(a9)){break}a7.push(a9);a9=a9.previousSibling}return a7};var ah=function(a9,a8){a8=a8||r.fail;var a7=[];while(a9){if(a8(a9)){break}a7.push(a9);a9=a9.nextSibling}return a7};var Y=function(a8,a7){var ba=[];a7=a7||r.ok;(function a9(bd){if(a8!==bd&&a7(bd)){ba.push(bd)}for(var bc=0,bb=bd.childNodes.length;bc<bb;bc++){a9(bd.childNodes[bc])}})(a8);return ba};var aS=function(a9,a8){var a7=a9.parentNode;var ba=C("<"+a8+">")[0];a7.insertBefore(ba,a9);ba.appendChild(a9);return ba};var ag=function(ba,a9){var a8=a9.nextSibling,a7=a9.parentNode;if(a8){a7.insertBefore(ba,a8)}else{a7.appendChild(ba)}return ba};var a2=function(a7,a8){C.each(a8,function(a9,ba){a7.appendChild(ba)});return a7};var ao=function(a7){return a7.offset===0};var aD=function(a7){return a7.offset===V(a7.node)};var aL=function(a7){return ao(a7)||aD(a7)};var aU=function(a8,a7){while(a8&&a8!==a7){if(aN(a8)!==0){return false}a8=a8.parentNode}return true};var aq=function(a8,a7){while(a8&&a8!==a7){if(aN(a8)!==V(a8.parentNode)-1){return false}a8=a8.parentNode}return true};var aK=function(a7,a8){return ao(a7)&&aU(a7.node,a8)};var aw=function(a7,a8){return aD(a7)&&aq(a7.node,a8)};var aN=function(a7){var a8=0;while((a7=a7.previousSibling)){a8+=1}return a8};var ap=function(a7){return !!(a7&&a7.childNodes&&a7.childNodes.length)};var ae=function(a7,a8){var a9,ba;if(a7.offset===0){if(U(a7.node)){return null}a9=a7.node.parentNode;ba=aN(a7.node)}else{if(ap(a7.node)){a9=a7.node.childNodes[a7.offset-1];ba=V(a9)}else{a9=a7.node;ba=a8?0:a7.offset-1}}return{node:a9,offset:ba}};var ak=function(a7,a8){var a9,ba;if(V(a7.node)===a7.offset){if(U(a7.node)){return null}a9=a7.node.parentNode;ba=aN(a7.node)+1}else{if(ap(a7.node)){a9=a7.node.childNodes[a7.offset];ba=0}else{a9=a7.node;ba=a8?V(a7.node):a7.offset+1}}return{node:a9,offset:ba}};var au=function(a7,a8){return a7.node===a8.node&&a7.offset===a8.offset};var at=function(a7){if(aa(a7.node)||!ap(a7.node)||al(a7.node)){return true}var a9=a7.node.childNodes[a7.offset-1];var a8=a7.node.childNodes[a7.offset];if((!a9||aV(a9))&&(!a8||aV(a8))){return true}return false};var aW=function(a7,a8){while(a7){if(a8(a7)){return a7}a7=ae(a7)}return null};var aE=function(a7,a8){while(a7){if(a8(a7)){return a7}a7=ak(a7)}return null};var a0=function(a7){if(!aa(a7.node)){return false}var a8=a7.node.nodeValue.charAt(a7.offset-1);return a8&&(a8!==" "&&a8!==P)};var ac=function(bc,a9,ba,a8){var a7=bc;while(a7){ba(a7);if(au(a7,a9)){break}var bb=a8&&bc.node!==a7.node&&a9.node!==a7.node;a7=ak(a7,bb)}};var am=function(a7,a9){var a8=ay(a9,r.eq(a7));return a8.map(aN).reverse()};var aX=function(a9,ba){var bb=a9;for(var a8=0,a7=ba.length;a8<a7;a8++){if(bb.childNodes.length<=ba[a8]){bb=bb.childNodes[bb.childNodes.length-1]}else{bb=bb.childNodes[ba[a8]]}}return bb};var a4=function(a7,a9){var bb=a9&&a9.isSkipPaddingBlankHTML;var a8=a9&&a9.isNotSplitEdgePoint;if(aL(a7)&&(aa(a7.node)||a8)){if(ao(a7)){return a7.node}else{if(aD(a7)){return a7.node.nextSibling}}}if(aa(a7.node)){return a7.node.splitText(a7.offset)}else{var ba=a7.node.childNodes[a7.offset];var bc=ag(a7.node.cloneNode(false),a7.node);a2(bc,ah(ba));if(!bb){ad(a7.node);ad(bc)}return bc}};var aM=function(a8,a7,a9){var ba=ay(a7.node,r.eq(a8));if(!ba.length){return null}else{if(ba.length===1){return a4(a7,a9)}}return ba.reduce(function(bc,bb){if(bc===a7.node){bc=a4(a7,a9)}return a4({node:bb,offset:bc?b.position(bc):V(bb)},a9)})};var aB=function(a7,bc){var ba=bc?X:Q;var bb=ay(a7.node,ba);var be=s.last(bb)||a7.node;var bd,a9;if(ba(be)){bd=bb[bb.length-2];a9=be}else{bd=be;a9=bd.parentNode}var a8=bd&&aM(bd,a7,{isSkipPaddingBlankHTML:bc,isNotSplitEdgePoint:bc});if(!a8&&a9===a7.node){a8=a7.node.childNodes[a7.offset]}return{rightNode:a8,container:a9}};var af=function(a7){return document.createElement(a7)};var aZ=function(a7){return document.createTextNode(a7)};var ax=function(bb,bc){if(!bb||!bb.parentNode){return}if(bb.removeNode){return bb.removeNode(bc)}var ba=bb.parentNode;if(!bc){var a8=[];var a9,a7;for(a9=0,a7=bb.childNodes.length;a9<a7;a9++){a8.push(bb.childNodes[a9])}for(a9=0,a7=a8.length;a9<a7;a9++){ba.insertBefore(a8[a9],bb)}}ba.removeChild(bb)};var aJ=function(a9,a7){while(a9){if(U(a9)||!a7(a9)){break}var a8=a9.parentNode;ax(a9);a9=a8}};var av=function(a8,a9){if(a8.nodeName.toUpperCase()===a9.toUpperCase()){return a8}var a7=af(a9);if(a8.style.cssText){a7.style.cssText=a8.style.cssText}a2(a7,s.from(a8.childNodes));ag(a7,a8);ax(a8);return a7};var ar=a1("TEXTAREA");var aP=function(a8,a7){var a9=ar(a8[0])?a8.val():a8.html();if(a7){return a9.replace(/[\n\r]/g,"")}return a9};var aA=function(a8,a9){var a7=aP(a8);if(a9){var ba=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;a7=a7.replace(ba,function(bc,bf,bb){bb=bb.toUpperCase();var be=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(bb)&&!!bf;var bd=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(bb);return bc+((be||bd)?"\n":"")});a7=C.trim(a7)}return a7};return{NBSP_CHAR:P,ZERO_WIDTH_NBSP_CHAR:J,blank:aT,emptyPara:"<p>"+aT+"</p>",makePredByNodeName:a1,isEditable:U,isControlSizing:aC,buildLayoutInfo:a5,makeLayoutInfo:az,isText:aa,isVoid:aV,isPara:X,isPurePara:a3,isInline:aj,isBlock:r.not(aj),isBodyInline:aI,isBody:T,isParaInline:aH,isList:R,isTable:aQ,isCell:ab,isBlockquote:a6,isBodyContainer:Q,isAnchor:Z,isDiv:a1("DIV"),isLi:aY,isBR:a1("BR"),isSpan:a1("SPAN"),isB:a1("B"),isU:a1("U"),isS:a1("S"),isI:a1("I"),isImg:a1("IMG"),isTextarea:ar,isEmpty:al,isEmptyAnchor:r.and(Z,al),isClosestSibling:aF,withClosestSiblings:ai,nodeLength:V,isLeftEdgePoint:ao,isRightEdgePoint:aD,isEdgePoint:aL,isLeftEdgeOf:aU,isRightEdgeOf:aq,isLeftEdgePointOf:aK,isRightEdgePointOf:aw,prevPoint:ae,nextPoint:ak,isSamePoint:au,isVisiblePoint:at,prevPointUntil:aW,nextPointUntil:aE,isCharPoint:a0,walkPoint:ac,ancestor:aG,singleChildAncestor:aR,listAncestor:ay,lastAncestor:S,listNext:ah,listPrev:aO,listDescendant:Y,commonAncestor:an,wrap:aS,insertAfter:ag,appendChildNodes:a2,position:aN,hasChildren:ap,makeOffsetPath:am,fromOffsetPath:aX,splitTree:aM,splitPoint:aB,create:af,createText:aZ,remove:ax,removeWhile:aJ,replace:av,html:aA,value:aP}})();var k=(function(){var S=function(ad,T){var W=ad.parentElement(),Y;var ac=document.body.createTextRange(),aa;var ab=s.from(W.childNodes);for(Y=0;Y<ab.length;Y++){if(b.isText(ab[Y])){continue}ac.moveToElementText(ab[Y]);if(ac.compareEndPoints("StartToStart",ad)>=0){break}aa=ab[Y]}if(Y!==0&&b.isText(ab[Y-1])){var ae=document.body.createTextRange(),Z=null;ae.moveToElementText(aa||W);ae.collapse(!aa);Z=aa?aa.nextSibling:W.firstChild;var V=ad.duplicate();V.setEndPoint("StartToStart",ae);var U=V.text.replace(/[\r\n]/g,"").length;while(U>Z.nodeValue.length&&Z.nextSibling){U-=Z.nodeValue.length;Z=Z.nextSibling}var X=Z.nodeValue;if(T&&Z.nextSibling&&b.isText(Z.nextSibling)&&U===Z.nodeValue.length){U-=Z.nodeValue.length;Z=Z.nextSibling}W=Z;Y=U}return{cont:W,offset:Y}};var Q=function(T){var W=function(Z,ac){var ab,Y;if(b.isText(Z)){var X=b.listPrev(Z,r.not(b.isText));var aa=s.last(X).previousSibling;ab=aa||Z.parentNode;ac+=s.sum(s.tail(X),b.nodeLength);Y=!aa}else{ab=Z.childNodes[ac]||Z;if(b.isText(ab)){return W(ab,0)}ac=0;Y=false}return{node:ab,collapseToStart:Y,offset:ac}};var U=document.body.createTextRange();var V=W(T.node,T.offset);U.moveToElementText(V.node);U.collapse(V.collapseToStart);U.moveStart("character",V.offset);return U};var R=function(Y,X,U,T){this.sc=Y;this.so=X;this.ec=U;this.eo=T;var W=function(){if(O.isW3CRangeSupport){var Z=document.createRange();Z.setStart(Y,X);Z.setEnd(U,T);return Z}else{var aa=Q({node:Y,offset:X});aa.setEndPoint("EndToEnd",Q({node:U,offset:T}));return aa}};this.getPoints=function(){return{sc:Y,so:X,ec:U,eo:T}};this.getStartPoint=function(){return{node:Y,offset:X}};this.getEndPoint=function(){return{node:U,offset:T}};this.select=function(){var aa=W();if(O.isW3CRangeSupport){var Z=document.getSelection();if(Z.rangeCount>0){Z.removeAllRanges()}Z.addRange(aa)}else{aa.select()}return this};this.normalize=function(){var ab=function(ac,ad){if((b.isVisiblePoint(ac)&&!b.isEdgePoint(ac))||(b.isVisiblePoint(ac)&&b.isRightEdgePoint(ac)&&!ad)||(b.isVisiblePoint(ac)&&b.isLeftEdgePoint(ac)&&ad)||(b.isVisiblePoint(ac)&&b.isBlock(ac.node)&&b.isEmpty(ac.node))){return ac}var af=b.ancestor(ac.node,b.isBlock);if(((b.isLeftEdgePointOf(ac,af)||b.isVoid(b.prevPoint(ac).node))&&!ad)||((b.isRightEdgePointOf(ac,af)||b.isVoid(b.nextPoint(ac).node))&&ad)){if(b.isVisiblePoint(ac)){return ac}ad=!ad}var ae=ad?b.nextPointUntil(b.nextPoint(ac),b.isVisiblePoint):b.prevPointUntil(b.prevPoint(ac),b.isVisiblePoint);return ae||ac};var Z=ab(this.getEndPoint(),false);var aa=this.isCollapsed()?Z:ab(this.getStartPoint(),true);return new R(aa.node,aa.offset,Z.node,Z.offset)};this.nodes=function(ab,ac){ab=ab||r.ok;var Z=ac&&ac.includeAncestor;var ag=ac&&ac.fullyContains;var ae=this.getStartPoint();var ad=this.getEndPoint();var aa=[];var af=[];b.walkPoint(ae,ad,function(ah){if(b.isEditable(ah.node)){return}var ai;if(ag){if(b.isLeftEdgePoint(ah)){af.push(ah.node)}if(b.isRightEdgePoint(ah)&&s.contains(af,ah.node)){ai=ah.node}}else{if(Z){ai=b.ancestor(ah.node,ab)}else{ai=ah.node}}if(ai&&ab(ai)){aa.push(ai)}},true);return s.unique(aa)};this.commonAncestor=function(){return b.commonAncestor(Y,U)};this.expand=function(Z){var ab=b.ancestor(Y,Z);var ac=b.ancestor(U,Z);if(!ab&&!ac){return new R(Y,X,U,T)}var aa=this.getPoints();if(ab){aa.sc=ab;aa.so=0}if(ac){aa.ec=ac;aa.eo=b.nodeLength(ac)}return new R(aa.sc,aa.so,aa.ec,aa.eo)};this.collapse=function(Z){if(Z){return new R(Y,X,Y,X)}else{return new R(U,T,U,T)}};this.splitText=function(){var Z=Y===U;var aa=this.getPoints();if(b.isText(U)&&!b.isEdgePoint(this.getEndPoint())){U.splitText(T)}if(b.isText(Y)&&!b.isEdgePoint(this.getStartPoint())){aa.sc=Y.splitText(X);aa.so=0;if(Z){aa.ec=aa.sc;aa.eo=T-X}}return new R(aa.sc,aa.so,aa.ec,aa.eo)};this.deleteContents=function(){if(this.isCollapsed()){return this}var aa=this.splitText();var ab=aa.nodes(null,{fullyContains:true});var Z=b.prevPointUntil(aa.getStartPoint(),function(ad){return !s.contains(ab,ad.node)});var ac=[];C.each(ab,function(ad,af){var ae=af.parentNode;if(Z.node!==ae&&b.nodeLength(ae)===1){ac.push(ae)}b.remove(af,false)});C.each(ac,function(ad,ae){b.remove(ae,false)});return new R(Z.node,Z.offset,Z.node,Z.offset).normalize()};var V=function(Z){return function(){var aa=b.ancestor(Y,Z);return !!aa&&(aa===b.ancestor(U,Z))}};this.isOnEditable=V(b.isEditable);this.isOnList=V(b.isList);this.isOnAnchor=V(b.isAnchor);this.isOnCell=V(b.isCell);this.isLeftEdgeOf=function(Z){if(!b.isLeftEdgePoint(this.getStartPoint())){return false}var aa=b.ancestor(this.sc,Z);return aa&&b.isLeftEdgeOf(this.sc,aa)};this.isCollapsed=function(){return Y===U&&X===T};this.wrapBodyInlineWithPara=function(){if(b.isBodyContainer(Y)&&b.isEmpty(Y)){Y.innerHTML=b.emptyPara;return new R(Y.firstChild,0,Y.firstChild,0)}var aa=this.normalize();if(b.isParaInline(Y)||b.isPara(Y)){return aa}var ad;if(b.isInline(aa.sc)){var ab=b.listAncestor(aa.sc,r.not(b.isInline));ad=s.last(ab);if(!b.isInline(ad)){ad=ab[ab.length-2]||aa.sc.childNodes[aa.so]}}else{ad=aa.sc.childNodes[aa.so>0?aa.so-1:0]}var ac=b.listPrev(ad,b.isParaInline).reverse();ac=ac.concat(b.listNext(ad.nextSibling,b.isParaInline));if(ac.length){var Z=b.wrap(s.head(ac),"p");b.appendChildNodes(Z,s.tail(ac))}return this.normalize()};this.insertNode=function(aa){var Z=this.wrapBodyInlineWithPara().deleteContents();var ab=b.splitPoint(Z.getStartPoint(),b.isInline(aa));if(ab.rightNode){ab.rightNode.parentNode.insertBefore(aa,ab.rightNode)}else{ab.container.appendChild(aa)}return aa};this.pasteHTML=function(ab){var aa=C("<div></div>").html(ab)[0];var ac=s.from(aa.childNodes);var Z=this.wrapBodyInlineWithPara().deleteContents();return ac.reverse().map(function(ad){return Z.insertNode(ad)}).reverse()};this.toString=function(){var Z=W();return O.isW3CRangeSupport?Z.toString():Z.text};this.getWordRange=function(ab){var Z=this.getEndPoint();if(!b.isCharPoint(Z)){return this}var aa=b.prevPointUntil(Z,function(ac){return !b.isCharPoint(ac)});if(ab){Z=b.nextPointUntil(Z,function(ac){return !b.isCharPoint(ac)})}return new R(aa.node,aa.offset,Z.node,Z.offset)};this.bookmark=function(Z){return{s:{path:b.makeOffsetPath(Z,Y),offset:X},e:{path:b.makeOffsetPath(Z,U),offset:T}}};this.paraBookmark=function(Z){return{s:{path:s.tail(b.makeOffsetPath(s.head(Z),Y)),offset:X},e:{path:s.tail(b.makeOffsetPath(s.last(Z),U)),offset:T}}};this.getClientRects=function(){var Z=W();return Z.getClientRects()}};return{create:function(Y,V,X,T){if(!arguments.length){if(O.isW3CRangeSupport){var ab=document.getSelection();if(!ab||ab.rangeCount===0){return null}else{if(b.isBody(ab.anchorNode)){return null}}var aa=ab.getRangeAt(0);Y=aa.startContainer;V=aa.startOffset;X=aa.endContainer;T=aa.endOffset}else{var ad=document.selection.createRange();var W=ad.duplicate();W.collapse(false);var ac=ad;ac.collapse(true);var U=S(ac,true),Z=S(W,false);if(b.isText(U.node)&&b.isLeftEdgePoint(U)&&b.isTextNode(Z.node)&&b.isRightEdgePoint(Z)&&Z.node.nextSibling===U.node){U=Z}Y=U.cont;V=U.offset;X=Z.cont;T=Z.offset}}else{if(arguments.length===2){X=Y;T=V}}return new R(Y,V,X,T)},createFromNode:function(V){var X=V;var W=0;var U=V;var T=b.nodeLength(U);if(b.isVoid(X)){W=b.listPrev(X).length-1;X=X.parentNode}if(b.isBR(U)){T=b.listPrev(U).length-1;U=U.parentNode}else{if(b.isVoid(U)){T=b.listPrev(U).length;U=U.parentNode}}return this.create(X,W,U,T)},createFromNodeBefore:function(T){return this.createFromNode(T).collapse(true)},createFromNodeAfter:function(T){return this.createFromNode(T).collapse()},createFromBookmark:function(V,W){var Y=b.fromOffsetPath(V,W.s.path);var X=W.s.offset;var U=b.fromOffsetPath(V,W.e.path);var T=W.e.offset;return new R(Y,X,U,T)},createFromParaBookmark:function(W,V){var X=W.s.offset;var T=W.e.offset;var Y=b.fromOffsetPath(s.head(V),W.s.path);var U=b.fromOffsetPath(s.last(V),W.e.path);return new R(Y,X,U,T)}}})();var E={version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:false,tabsize:4,styleWithSpan:true,disableLinkTarget:false,disableDragAndDrop:false,disableResizeEditor:false,disableResizeImage:false,shortcuts:true,textareaAutoSync:true,placeholder:false,prettifyHtml:true,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:false,codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:false,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(Q){if(Q.indexOf("@")!==-1&&Q.indexOf(":")===-1){Q="mailto:"+Q}return Q},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}};var H=(function(){var Q=function(S){return C.Deferred(function(T){C.extend(new FileReader(),{onload:function(V){var U=V.target.result;T.resolve(U)},onerror:function(){T.reject(this)}}).readAsDataURL(S)}).promise()};var R=function(T,S){return C.Deferred(function(U){var V=C("<img>");V.one("load",function(){V.off("error abort");U.resolve(V)}).one("error abort",function(){V.off("load").detach();U.reject(V)}).css({display:"none"}).appendTo(document.body).attr({src:T,"data-filename":S})}).promise()};return{readFileAsDataURL:Q,createImage:R}})();var q=(function(){var Q={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(R){return s.contains([8,9,13,32],R)},isMove:function(R){return s.contains([37,38,39,40],R)},nameFromCode:r.invertObject(Q),code:Q}})();var j=function(T){var R=[],S=-1;var U=T[0];var Q=function(){var W=k.create();var X={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:T.html(),bookmark:(W?W.bookmark(U):X)}};var V=function(W){if(W.contents!==null){T.html(W.contents)}if(W.bookmark!==null){k.createFromBookmark(U,W.bookmark).select()}};this.undo=function(){if(T.html()!==R[S].contents){this.recordUndo()}if(0<S){S--;V(R[S])}};this.redo=function(){if(R.length-1>S){S++;V(R[S])}};this.recordUndo=function(){S++;if(R.length>S){R=R.slice(0,S)}R.push(Q())};this.recordUndo()};var A=function(){var Q=function(T,S){if(O.jqueryVersion<1.9){var R={};C.each(S,function(U,V){R[V]=T.css(V)});return R}return T.css.call(T,S)};this.fromNode=function(R){var S=["font-family","font-size","text-align","list-style-type","line-height"];var T=Q(R,S)||{};T["font-size"]=parseInt(T["font-size"],10);return T};this.stylePara=function(R,S){C.each(R.nodes(b.isPara,{includeAncestor:true}),function(U,T){C(T).css(S)})};this.styleNodes=function(R,V){R=R.splitText();var Y=V&&V.nodeName||"SPAN";var W=!!(V&&V.expandClosestSibling);var U=!!(V&&V.onlyPartialContains);if(R.isCollapsed()){return[R.insertNode(b.create(Y))]}var T=b.makePredByNodeName(Y);var S=R.nodes(b.isText,{fullyContains:true}).map(function(Z){return b.singleChildAncestor(Z,T)||b.wrap(Z,Y)});if(W){if(U){var X=R.nodes();T=r.and(T,function(Z){return s.contains(X,Z)})}return S.map(function(aa){var ac=b.withClosestSiblings(aa,T);var Z=s.head(ac);var ab=s.tail(ac);C.each(ab,function(ad,ae){b.appendChildNodes(Z,ae.childNodes);b.remove(ae)});return s.head(ac)})}else{return S}};this.current=function(T){var W=C(b.isText(T.sc)?T.sc.parentNode:T.sc);var X=this.fromNode(W);X["font-bold"]=document.queryCommandState("bold")?"bold":"normal";X["font-italic"]=document.queryCommandState("italic")?"italic":"normal";X["font-underline"]=document.queryCommandState("underline")?"underline":"normal";X["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal";X["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal";X["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal";if(!T.isOnList()){X["list-style"]="none"}else{var S=["circle","disc","disc-leading-zero","square"];var U=C.inArray(X["list-style-type"],S)>-1;X["list-style"]=U?"unordered":"ordered"}var R=b.ancestor(T.sc,b.isPara);if(R&&R.style["line-height"]){X["line-height"]=R.style.lineHeight}else{var V=parseInt(X["line-height"],10)/parseInt(X["font-size"],10);X["line-height"]=V.toFixed(1)}X.anchor=T.isOnAnchor()&&b.ancestor(T.sc,b.isAnchor);X.ancestors=b.listAncestor(T.sc,b.isEditable);X.range=T;return X}};var G=function(){this.insertOrderedList=function(){this.toggleList("OL")};this.insertUnorderedList=function(){this.toggleList("UL")};this.indent=function(){var R=this;var Q=k.create().wrapBodyInlineWithPara();var S=Q.nodes(b.isPara,{includeAncestor:true});var T=s.clusterBy(S,r.peq2("parentNode"));C.each(T,function(U,V){var W=s.head(V);if(b.isLi(W)){R.wrapList(V,W.parentNode.nodeName)}else{C.each(V,function(Y,X){C(X).css("marginLeft",function(Z,aa){return(parseInt(aa,10)||0)+25})})}});Q.select()};this.outdent=function(){var R=this;var Q=k.create().wrapBodyInlineWithPara();var S=Q.nodes(b.isPara,{includeAncestor:true});var T=s.clusterBy(S,r.peq2("parentNode"));C.each(T,function(U,V){var W=s.head(V);if(b.isLi(W)){R.releaseList([V])}else{C.each(V,function(Y,X){C(X).css("marginLeft",function(Z,aa){aa=(parseInt(aa,10)||0);return aa>25?aa-25:""})})}});Q.select()};this.toggleList=function(U){var R=this;var Q=k.create().wrapBodyInlineWithPara();var T=Q.nodes(b.isPara,{includeAncestor:true});var V=Q.paraBookmark(T);var X=s.clusterBy(T,r.peq2("parentNode"));if(s.find(T,b.isPurePara)){var S=[];C.each(X,function(Y,Z){S=S.concat(R.wrapList(Z,U))});T=S}else{var W=Q.nodes(b.isList,{includeAncestor:true}).filter(function(Y){return !C.nodeName(Y,U)});if(W.length){C.each(W,function(Y,Z){b.replace(Z,U)})}else{T=this.releaseList(X,true)}}k.createFromParaBookmark(V,T).select()};this.wrapList=function(T,S){var U=s.head(T);var W=s.last(T);var R=b.isList(U.previousSibling)&&U.previousSibling;var Q=b.isList(W.nextSibling)&&W.nextSibling;var V=R||b.insertAfter(b.create(S||"UL"),W);T=T.map(function(X){return b.isPurePara(X)?b.replace(X,"LI"):X});b.appendChildNodes(V,T);if(Q){b.appendChildNodes(V,s.from(Q.childNodes));b.remove(Q)}return T};this.releaseList=function(S,Q){var R=[];C.each(S,function(T,U){var V=s.head(U);var W=s.last(U);var Z=Q?b.lastAncestor(V,b.isList):V.parentNode;var Y=Z.childNodes.length>1?b.splitTree(Z,{node:W.parentNode,offset:b.position(W)+1},{isSkipPaddingBlankHTML:true}):null;var X=b.splitTree(Z,{node:V.parentNode,offset:b.position(V)},{isSkipPaddingBlankHTML:true});U=Q?b.listDescendant(X,b.isLi):s.from(X.childNodes).filter(b.isLi);if(Q||!b.isList(Z.parentNode)){U=U.map(function(ab){return b.replace(ab,"P")})}C.each(s.from(U).reverse(),function(ac,ab){b.insertAfter(ab,Z)});var aa=s.compact([Z,X,Y]);C.each(aa,function(ab,ac){var ad=[ac].concat(b.listDescendant(ac,b.isList));C.each(ad.reverse(),function(ae,af){if(!b.nodeLength(af)){b.remove(af,true)}})});R=R.concat(U)});return R}};var d=function(){var Q=new G();this.insertTab=function(T,S,R){var U=b.createText(new Array(R+1).join(b.NBSP_CHAR));S=S.deleteContents();S.insertNode(U,true);S=k.create(U,R);S.select()};this.insertParagraph=function(){var S=k.create();S=S.deleteContents();S=S.wrapBodyInlineWithPara();var V=b.ancestor(S.sc,b.isPara);var U;if(V){if(b.isEmpty(V)&&b.isLi(V)){Q.toggleList(V.parentNode.nodeName);return}else{U=b.splitTree(V,S.getStartPoint());var R=b.listDescendant(V,b.isEmptyAnchor);R=R.concat(b.listDescendant(U,b.isEmptyAnchor));C.each(R,function(W,X){b.remove(X)})}}else{var T=S.sc.childNodes[S.so];U=C(b.emptyPara)[0];if(T){S.sc.insertBefore(U,T)}else{S.sc.appendChild(U)}}k.create(U,0).normalize().select()}};var i=function(){this.tab=function(R,T){var Q=b.ancestor(R.commonAncestor(),b.isCell);var V=b.ancestor(Q,b.isTable);var S=b.listDescendant(V,b.isCell);var U=s[T?"prev":"next"](S,Q);if(U){k.create(U,0).select()}};this.createTable=function(V,S){var U=[],R;for(var T=0;T<V;T++){U.push("<td>"+b.blank+"</td>")}R=U.join("");var Q=[],W;for(var X=0;X<S;X++){Q.push("<tr>"+R+"</tr>")}W=Q.join("");return C('<table class="table table-bordered">'+W+"</table>")[0]}};var e="bogus";var u=function(aa){var ab=this;var R=new A();var Z=new i();var X=new d();var Q=new G();this.createRange=function(ad){this.focus(ad);return k.create()};this.saveRange=function(ad,ae){this.focus(ad);ad.data("range",k.create());if(ae){k.create().collapse().select()}};this.saveNode=function(ae){var ag=[];for(var af=0,ad=ae[0].childNodes.length;af<ad;af++){ag.push(ae[0].childNodes[af])}ae.data("childNodes",ag)};this.restoreRange=function(ae){var ad=ae.data("range");if(ad){ad.select();this.focus(ae)}};this.restoreNode=function(ae){ae.html("");var ag=ae.data("childNodes");for(var af=0,ad=ag.length;af<ad;af++){ae[0].appendChild(ag[af])}};this.currentStyle=function(ae){var ad=k.create();var af=ad&&ad.isOnEditable()?R.current(ad.normalize()):{};if(b.isImg(ae)){af.image=ae}return af};this.styleFromNode=function(ad){return R.fromNode(ad)};var Y=function(ad){var ae=b.makeLayoutInfo(ad).holder();aa.bindCustomEvent(ae,ad.data("callbacks"),"before.command")(ad.html(),ad)};var T=function(ad){var ae=b.makeLayoutInfo(ad).holder();aa.bindCustomEvent(ae,ad.data("callbacks"),"change")(ad.html(),ad)};this.undo=function(ad){Y(ad);ad.data("NoteHistory").undo();T(ad)};this.redo=function(ad){Y(ad);ad.data("NoteHistory").redo();T(ad)};var W=this.beforeCommand=function(ad){Y(ad);ab.focus(ad)};var ac=this.afterCommand=function(ad,ae){ad.data("NoteHistory").recordUndo();if(!ae){T(ad)}};var S=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"];for(var V=0,U=S.length;V<U;V++){this[S[V]]=(function(ad){return function(ae,af){W(ae);document.execCommand(ad,false,af);ac(ae,true)}})(S[V])}this.tab=function(ae,af){var ad=this.createRange(ae);if(ad.isCollapsed()&&ad.isOnCell()){Z.tab(ad)}else{W(ae);X.insertTab(ae,ad,af.tabsize);ac(ae)}};this.untab=function(ae){var ad=this.createRange(ae);if(ad.isCollapsed()&&ad.isOnCell()){Z.tab(ad,true)}};this.insertParagraph=function(ad){W(ad);X.insertParagraph(ad);ac(ad)};this.insertOrderedList=function(ad){W(ad);Q.insertOrderedList(ad);ac(ad)};this.insertUnorderedList=function(ad){W(ad);Q.insertUnorderedList(ad);ac(ad)};this.indent=function(ad){W(ad);Q.indent(ad);ac(ad)};this.outdent=function(ad){W(ad);Q.outdent(ad);ac(ad)};this.insertImage=function(ae,af,ad){H.createImage(af,ad).then(function(ag){W(ae);ag.css({display:"",width:Math.min(ae.width(),ag.width())});k.create().insertNode(ag[0]);k.createFromNodeAfter(ag[0]).select();ac(ae)}).fail(function(){var ag=b.makeLayoutInfo(ae).holder();aa.bindCustomEvent(ag,ae.data("callbacks"),"image.upload.error")()})};this.insertNode=function(ad,ae){W(ad);k.create().insertNode(ae);k.createFromNodeAfter(ae).select();ac(ad)};this.insertText=function(ad,af){W(ad);var ae=k.create().insertNode(b.createText(af));k.create(ae,b.nodeLength(ae)).select();ac(ad)};this.pasteHTML=function(ae,ad){W(ae);var af=k.create().pasteHTML(ad);k.createFromNodeAfter(s.last(af)).select();ac(ae)};this.formatBlock=function(ad,ae){W(ad);ae=O.isMSIE?"<"+ae+">":ae;document.execCommand("FormatBlock",false,ae);ac(ad)};this.formatPara=function(ad){W(ad);this.formatBlock(ad,"P");ac(ad)};for(var V=1;V<=6;V++){this["formatH"+V]=function(ad){return function(ae){this.formatBlock(ae,"H"+ad)}}(V)}this.fontSize=function(ae,ah){var ad=k.create();if(ad.isCollapsed()){var af=R.styleNodes(ad);var ag=s.head(af);C(af).css({"font-size":ah+"px"});if(ag&&!b.nodeLength(ag)){ag.innerHTML=b.ZERO_WIDTH_NBSP_CHAR;k.createFromNodeAfter(ag.firstChild).select();ae.data(e,ag)}}else{W(ae);C(R.styleNodes(ad)).css({"font-size":ah+"px"});ac(ae)}};this.insertHorizontalRule=function(af){W(af);var ad=k.create();var ae=ad.insertNode(C("<HR/>")[0]);if(ae.nextSibling){k.create(ae.nextSibling,0).normalize().select()}ac(af)};this.removeBogus=function(af){var ae=af.data(e);if(!ae){return}var ag=s.find(s.from(ae.childNodes),b.isText);var ad=ag.nodeValue.indexOf(b.ZERO_WIDTH_NBSP_CHAR);if(ad!==-1){ag.deleteData(ad,1)}if(b.isEmpty(ae)){b.remove(ae)}af.removeData(e)};this.lineHeight=function(ad,ae){W(ad);R.stylePara(k.create(),{lineHeight:ae});ac(ad)};this.unlink=function(ae){var ad=this.createRange(ae);if(ad.isOnAnchor()){var af=b.ancestor(ad.sc,b.isAnchor);ad=k.createFromNode(af);ad.select();W(ae);document.execCommand("unlink");ac(ae)}};this.createLink=function(ao,aj,aq){var ak=aj.url;var ag=aj.text;var an=aj.isNewWindow;var ad=aj.range||this.createRange(ao);var ap=ad.toString()!==ag;aq=aq||b.makeLayoutInfo(ao).editor().data("options");W(ao);if(aq.onCreateLink){ak=aq.onCreateLink(ak)}var ae=[];if(ap){var ai=ad.insertNode(C("<A>"+ag+"</A>")[0]);ae.push(ai)}else{ae=R.styleNodes(ad,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true})}C.each(ae,function(ar,at){C(at).attr("href",ak);if(an){C(at).attr("target","_blank")}else{C(at).removeAttr("target")}});var am=k.createFromNodeBefore(s.head(ae));var af=am.getStartPoint();var ah=k.createFromNodeAfter(s.last(ae));var al=ah.getEndPoint();k.create(af.node,af.offset,al.node,al.offset).select();ac(ao)};this.getLinkInfo=function(ae){this.focus(ae);var ad=k.create().expand(b.isAnchor);var af=C(s.head(ad.nodes(b.isAnchor)));return{range:ad,text:ad.toString(),isNewWindow:af.length?af.attr("target")==="_blank":false,url:af.length?af.attr("href"):""}};this.color=function(ae,af){var ah=JSON.parse(af);var ag=ah.foreColor,ad=ah.backColor;W(ae);if(ag){document.execCommand("foreColor",false,ag)}if(ad){document.execCommand("backColor",false,ad)}ac(ae)};this.insertTable=function(af,ad){var ag=ad.split("x");W(af);var ae=k.create().deleteContents();ae.insertNode(Z.createTable(ag[0],ag[1]));ac(af)};this.floatMe=function(ae,af,ad){W(ae);ad.removeClass("pull-left pull-right");if(af&&af!=="none"){ad.addClass("pull-"+af)}ad.css("float",af);ac(ae)};this.imageShape=function(ae,af,ad){W(ae);ad.removeClass("img-rounded img-circle img-thumbnail");if(af){ad.addClass(af)}ac(ae)};this.resize=function(ae,af,ad){W(ae);ad.css({width:af*100+"%",height:""});ac(ae)};this.resizeTo=function(ai,ad,ae){var ah;if(ae){var ag=ai.y/ai.x;var af=ad.data("ratio");ah={width:af>ag?ai.x:ai.y/af,height:af>ag?ai.x*af:ai.y}}else{ah={width:ai.x,height:ai.y}}ad.css(ah)};this.removeMedia=function(ae,af,ad){W(ae);ad.detach();aa.bindCustomEvent(C(),ae.data("callbacks"),"media.delete")(ad,ae);ac(ae)};this.focus=function(ad){ad.focus();if(O.isFF&&!k.create().isOnEditable()){k.createFromNode(ad[0]).normalize().collapse().select()}};this.isEmpty=function(ad){return b.isEmpty(ad[0])||b.emptyPara===ad.html()}};var L=function(){this.update=function(ad,V){var R=function(ae,af){ae.find(".dropdown-menu li a").each(function(){var ag=(C(this).data("value")+"")===(af+"");this.className=ag?"checked":""})};var ab=function(ae,af){var ag=ad.find(ae);ag.toggleClass("active",af())};if(V.image){var S=C(V.image);ab('button[data-event="imageShape"][data-value="img-rounded"]',function(){return S.hasClass("img-rounded")});ab('button[data-event="imageShape"][data-value="img-circle"]',function(){return S.hasClass("img-circle")});ab('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return S.hasClass("img-thumbnail")});ab('button[data-event="imageShape"]:not([data-value])',function(){return !S.is(".img-rounded, .img-circle, .img-thumbnail")});var ac=S.css("float");ab('button[data-event="floatMe"][data-value="left"]',function(){return ac==="left"});ab('button[data-event="floatMe"][data-value="right"]',function(){return ac==="right"});ab('button[data-event="floatMe"][data-value="none"]',function(){return ac!=="left"&&ac!=="right"});var T=S.attr("style");ab('button[data-event="resize"][data-value="1"]',function(){return !!/(^|\s)(max-)?width\s*:\s*100%/.test(T)});ab('button[data-event="resize"][data-value="0.5"]',function(){return !!/(^|\s)(max-)?width\s*:\s*50%/.test(T)});ab('button[data-event="resize"][data-value="0.25"]',function(){return !!/(^|\s)(max-)?width\s*:\s*25%/.test(T)});return}var U=ad.find(".note-fontname");if(U.length){var Y=V["font-family"];if(!!Y){var aa=Y.split(",");for(var X=0,Z=aa.length;X<Z;X++){Y=aa[X].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"");if(O.isFontInstalled(Y)){break}}U.find(".note-current-fontname").text(Y);R(U,Y)}}var Q=ad.find(".note-fontsize");Q.find(".note-current-fontsize").text(V["font-size"]);R(Q,parseFloat(V["font-size"]));var W=ad.find(".note-height");R(W,parseFloat(V["line-height"]));ab('button[data-event="bold"]',function(){return V["font-bold"]==="bold"});ab('button[data-event="italic"]',function(){return V["font-italic"]==="italic"});ab('button[data-event="underline"]',function(){return V["font-underline"]==="underline"});ab('button[data-event="strikethrough"]',function(){return V["font-strikethrough"]==="strikethrough"});ab('button[data-event="superscript"]',function(){return V["font-superscript"]==="superscript"});ab('button[data-event="subscript"]',function(){return V["font-subscript"]==="subscript"});ab('button[data-event="justifyLeft"]',function(){return V["text-align"]==="left"||V["text-align"]==="start"});ab('button[data-event="justifyCenter"]',function(){return V["text-align"]==="center"});ab('button[data-event="justifyRight"]',function(){return V["text-align"]==="right"});ab('button[data-event="justifyFull"]',function(){return V["text-align"]==="justify"});ab('button[data-event="insertUnorderedList"]',function(){return V["list-style"]==="unordered"});ab('button[data-event="insertOrderedList"]',function(){return V["list-style"]==="ordered"})};this.updateRecentColor=function(R,Q,V){var W=C(R).closest(".note-color");var T=W.find(".note-recent-color");var S=JSON.parse(T.attr("data-value"));S[Q]=V;T.attr("data-value",JSON.stringify(S));var U=Q==="backColor"?"background-color":"color";T.find("i").css(U,V)}};var m=function(){var Q=new L();this.update=function(R,S){Q.update(R,S)};this.updateRecentColor=function(S,R,T){Q.updateRecentColor(S,R,T)};this.activate=function(R){R.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(R){R.find("button").not('button[data-event="codeview"]').addClass("disabled")};this.updateFullscreen=function(T,S){var R=T.find('button[data-event="fullscreen"]');R.toggleClass("active",S)};this.updateCodeview=function(T,R){var S=T.find('button[data-event="codeview"]');S.toggleClass("active",R);if(R){this.deactivate(T)}else{this.activate(T)}};this.get=function(R,T){var S=b.makeLayoutInfo(R).toolbar();return S.find("[data-name="+T+"]")};this.setButtonState=function(R,S,T){T=(T===false)?false:true;var U=this.get(R,S);U.toggleClass("active",T)}};var M=24;var x=function(){var Q=C(document);this.attach=function(T,S){if(!S.disableResizeEditor){T.statusbar().on("mousedown",R)}};var R=function(V){V.preventDefault();V.stopPropagation();var S=b.makeLayoutInfo(V.target).editable();var U=S.offset().top-Q.scrollTop();var W=b.makeLayoutInfo(V.currentTarget||V.target);var T=W.editor().data("options");Q.on("mousemove",function(Y){var X=Y.clientY-(U+M);X=(T.minHeight>0)?Math.max(X,T.minHeight):X;X=(T.maxHeight>0)?Math.min(X,T.maxHeight):X;S.height(X)}).one("mouseup",function(){Q.off("mousemove")})}};var z=function(){var R=new L();var Q=function(Z,W){var Y=W&&W.isAirMode;var X=W&&W.isLeftTop;var V=C(Z);var aa=Y?V.offset():V.position();var U=X?0:V.outerHeight(true);return{left:aa.left,top:aa.top+U}};var T=function(U,V){U.css({display:"block",left:V.left,top:V.top})};var S=20;this.update=function(X,Y,W){R.update(X,Y);var Z=X.find(".note-link-popover");if(Y.anchor){var ae=Z.find("a");var V=C(Y.anchor).attr("href");var aa=C(Y.anchor).attr("target");ae.attr("href",V).html(V);if(!aa){ae.removeAttr("target")}else{ae.attr("target","_blank")}T(Z,Q(Y.anchor,{isAirMode:W}))}else{Z.hide()}var U=X.find(".note-image-popover");if(Y.image){T(U,Q(Y.image,{isAirMode:W,isLeftTop:true}))}else{U.hide()}var ab=X.find(".note-air-popover");if(W&&Y.range&&!Y.range.isCollapsed()){var ad=s.last(Y.range.getClientRects());if(ad){var ac=r.rect2bnd(ad);T(ab,{left:Math.max(ac.left+ac.width/2-S,0),top:ac.top+ac.height})}}else{ab.hide()}};this.updateRecentColor=function(V,U,W){V.updateRecentColor(V,U,W)};this.hide=function(U){U.children().hide()}};var N=function(R){var S=C(document);var Q=function(T){if(b.isControlSizing(T.target)){T.preventDefault();T.stopPropagation();var Z=b.makeLayoutInfo(T.target),U=Z.handle(),ab=Z.popover(),ad=Z.editable(),V=Z.editor();var ac=U.find(".note-control-selection").data("target"),X=C(ac),aa=X.offset(),W=S.scrollTop();var Y=V.data("options").airMode;S.on("mousemove",function(ae){R.invoke("editor.resizeTo",{x:ae.clientX-aa.left,y:ae.clientY-(aa.top-W)},X,!ae.shiftKey);R.invoke("handle.update",U,{image:ac},Y);R.invoke("popover.update",ab,{image:ac},Y)}).one("mouseup",function(){S.off("mousemove");R.invoke("editor.afterCommand",ad)});if(!X.data("ratio")){X.data("ratio",X.height()/X.width())}}};this.attach=function(T){T.handle().on("mousedown",Q)};this.update=function(aa,Y,W){var T=aa.find(".note-control-selection");if(Y.image){var U=C(Y.image);var Z=W?U.offset():U.position();var V={w:U.outerWidth(true),h:U.outerHeight(true)};T.css({display:"block",left:Z.left,top:Z.top,width:V.w,height:V.h}).data("target",Y.image);var X=V.w+"x"+V.h;T.find(".note-control-selection-info").text(X)}else{T.hide()}};this.hide=function(T){T.children().hide()}};var n=function(R){var S=C(window);var Q=C("html, body");this.toggle=function(Z){var Y=Z.editor(),W=Z.toolbar(),U=Z.editable(),T=Z.codable();var V=function(aa){U.css("height",aa.h);T.css("height",aa.h);if(T.data("cmeditor")){T.data("cmeditor").setsize(null,aa.h)}};Y.toggleClass("fullscreen");var X=Y.hasClass("fullscreen");if(X){U.data("orgheight",U.css("height"));S.on("resize",function(){V({h:S.height()-W.outerHeight()})}).trigger("resize");Q.css("overflow","hidden")}else{S.off("resize");V({h:U.data("orgheight")});Q.css("overflow","visible")}R.invoke("toolbar.updateFullscreen",W,X)}};var t;if(O.hasCodeMirror){if(O.isSupportAmd){require(["CodeMirror"],function(Q){t=Q})}else{t=window.CodeMirror}}var y=function(Q){this.sync=function(S){var R=Q.invoke("codeview.isActivated",S);if(R&&O.hasCodeMirror){S.codable().data("cmEditor").save()}};this.isActivated=function(S){var R=S.editor();return R.hasClass("codeview")};this.toggle=function(R){if(this.isActivated(R)){this.deactivate(R)}else{this.activate(R)}};this.activate=function(W){var T=W.editor(),U=W.toolbar(),Z=W.editable(),Y=W.codable(),X=W.popover(),S=W.handle();var aa=T.data("options");Y.val(b.html(Z,aa.prettifyHtml));Y.height(Z.height());Q.invoke("toolbar.updateCodeview",U,true);Q.invoke("popover.hide",X);Q.invoke("handle.hide",S);T.addClass("codeview");Y.focus();if(O.hasCodeMirror){var R=t.fromTextArea(Y[0],aa.codemirror);if(aa.codemirror.tern){var V=new t.TernServer(aa.codemirror.tern);R.ternServer=V;R.on("cursorActivity",function(ab){V.updateArgHints(ab)})}R.setSize(null,Z.outerHeight());Y.data("cmEditor",R)}};this.deactivate=function(U){var V=U.holder(),S=U.editor(),T=U.toolbar(),Z=U.editable(),X=U.codable();var aa=S.data("options");if(O.hasCodeMirror){var R=X.data("cmEditor");X.val(R.getValue());R.toTextArea()}var Y=b.value(X,aa.prettifyHtml)||b.emptyPara;var W=Z.html()!==Y;Z.html(Y);Z.height(aa.height?X.height():"auto");S.removeClass("codeview");if(W){Q.bindCustomEvent(V,Z.data("callbacks"),"change")(Z.html(),Z)}Z.focus();Q.invoke("toolbar.updateCodeview",T,false)}};var B=function(Q){var R=C(document);this.attach=function(T,S){if(S.airMode||S.disableDragAndDrop){R.on("drop",function(U){U.preventDefault()})}else{this.attachDragAndDropEvent(T,S)}};this.attachDragAndDropEvent=function(V,S){var W=C(),U=V.editor(),X=V.dropzone(),T=X.find(".note-dropzone-message");R.on("dragenter",function(aa){var Z=Q.invoke("codeview.isActivated",V);var Y=U.width()>0&&U.height()>0;if(!Z&&!W.length&&Y){U.addClass("dragover");X.width(U.width());X.height(U.height());T.text(S.langInfo.image.dragImageHere)}W=W.add(aa.target)}).on("dragleave",function(Y){W=W.not(Y.target);if(!W.length){U.removeClass("dragover")}}).on("drop",function(){W=C();U.removeClass("dragover")});X.on("dragenter",function(){X.addClass("hover");T.text(S.langInfo.image.dropImage)}).on("dragleave",function(){X.removeClass("hover");T.text(S.langInfo.image.dragImageHere)});X.on("drop",function(ad){var ae=ad.originalEvent.dataTransfer;var af=b.makeLayoutInfo(ad.currentTarget||ad.target);if(ae&&ae.files&&ae.files.length){ad.preventDefault();af.editable().focus();Q.insertImages(af,ae.files)}else{var Z=function(){af.holder().summernote("insertNode",this)};for(var aa=0,Y=ae.types.length;aa<Y;aa++){var ab=ae.types[aa];var ac=ae.getData(ab);if(ab.toLowerCase().indexOf("text")>-1){af.holder().summernote("pasteHTML",ac)}else{C(ac).each(Z)}}}}).on("dragover",false)}};var o=function(T){var R;this.attach=function(U){if((O.isMSIE&&O.browserVersion>10)||O.isFF){R=C("<div />").attr("contenteditable",true).css({position:"absolute",left:-100000,opacity:0});U.editable().on("keydown",function(V){if(V.ctrlKey&&V.keyCode===q.code.V){T.invoke("saveRange",U.editable());R.focus();setTimeout(function(){Q(U)},0)}});U.editable().before(R)}else{U.editable().on("paste",S)}};var Q=function(X){var ac=X.editable();var W=R[0].firstChild;if(b.isImg(W)){var Y=W.src;var aa=atob(Y.split(",")[1]);var ab=new Uint8Array(aa.length);for(var Z=0;Z<aa.length;Z++){ab[Z]=aa.charCodeAt(Z)}var U=new Blob([ab],{type:"image/png"});U.name="clipboard.png";T.invoke("restoreRange",ac);T.invoke("focus",ac);T.insertImages(X,[U])}else{var V=C("<div />").html(R.html()).html();T.invoke("restoreRange",ac);T.invoke("focus",ac);if(V){T.invoke("pasteHTML",ac,V)}}R.empty()};var S=function(W){var Y=W.originalEvent.clipboardData;var X=b.makeLayoutInfo(W.currentTarget||W.target);var U=X.editable();if(Y&&Y.items&&Y.items.length){var V=s.head(Y.items);if(V.kind==="file"&&V.type.indexOf("image/")!==-1){T.insertImages(X,[V.getAsFile()])}T.invoke("editor.afterCommand",U)}}};var I=function(Q){var R=function(U,T){U.toggleClass("disabled",!T);U.attr("disabled",!T)};var S=function(U,T){U.on("keypress",function(V){if(V.keyCode===q.code.ENTER){T.trigger("click")}})};this.showLinkDialog=function(T,V,U){return C.Deferred(function(Z){var aa=V.find(".note-link-dialog");var Y=aa.find(".note-link-text"),ab=aa.find(".note-link-url"),X=aa.find(".note-link-btn"),W=aa.find("input[type=checkbox]");aa.one("shown.bs.modal",function(){Y.val(U.text);Y.on("input",function(){R(X,Y.val()&&ab.val());U.text=Y.val()});if(!U.url){U.url=U.text||"http://";R(X,U.text)}ab.on("input",function(){R(X,Y.val()&&ab.val());if(!U.text){Y.val(ab.val())}}).val(U.url).trigger("focus").trigger("select");S(ab,X);S(Y,X);W.prop("checked",U.isNewWindow);X.one("click",function(ac){ac.preventDefault();Z.resolve({range:U.range,url:ab.val(),text:Y.val(),isNewWindow:W.is(":checked")});aa.modal("hide")})}).one("hidden.bs.modal",function(){Y.off("input keypress");ab.off("input keypress");X.off("click");if(Z.state()==="pending"){Z.reject()}}).modal("show")}).promise()};this.show=function(Z){var Y=Z.editor(),X=Z.dialog(),T=Z.editable(),W=Z.popover(),V=Q.invoke("editor.getLinkInfo",T);var U=Y.data("options");Q.invoke("editor.saveRange",T);this.showLinkDialog(T,X,V).then(function(aa){Q.invoke("editor.restoreRange",T);Q.invoke("editor.createLink",T,aa,U);Q.invoke("popover.hide",W)}).fail(function(){Q.invoke("editor.restoreRange",T)})}};var w=function(Q){var R=function(U,T){U.toggleClass("disabled",!T);U.attr("disabled",!T)};var S=function(U,T){U.on("keypress",function(V){if(V.keyCode===q.code.ENTER){T.trigger("click")}})};this.show=function(V){var U=V.dialog(),T=V.editable();Q.invoke("editor.saveRange",T);this.showImageDialog(T,U).then(function(W){Q.invoke("editor.restoreRange",T);if(typeof W==="string"){Q.invoke("editor.insertImage",T,W)}else{Q.insertImages(V,W)}}).fail(function(){Q.invoke("editor.restoreRange",T)})};this.showImageDialog=function(T,U){return C.Deferred(function(X){var Z=U.find(".note-image-dialog");var Y=U.find(".note-image-input"),V=U.find(".note-image-url"),W=U.find(".note-image-btn");Z.one("shown.bs.modal",function(){Y.replaceWith(Y.clone().on("change",function(){X.resolve(this.files||this.value);Z.modal("hide")}).val(""));W.click(function(aa){aa.preventDefault();X.resolve(V.val());Z.modal("hide")});V.on("keyup paste",function(ab){var aa;if(ab.type==="paste"){aa=ab.originalEvent.clipboardData.getData("text")}else{aa=V.val()}R(W,aa)}).val("").trigger("focus");S(V,W)}).one("hidden.bs.modal",function(){Y.off("change");V.off("keyup paste keypress");W.off("click");if(X.state()==="pending"){X.reject()}}).modal("show")})}};var c=function(Q){this.showHelpDialog=function(R,S){return C.Deferred(function(T){var U=S.find(".note-help-dialog");U.one("hidden.bs.modal",function(){T.resolve()}).modal("show")}).promise()};this.show=function(T){var S=T.dialog(),R=T.editable();Q.invoke("editor.saveRange",R,true);this.showHelpDialog(R,S).then(function(){Q.invoke("editor.restoreRange",R)})}};var f=function(){var ab=this;var T=this.modules={editor:new u(this),toolbar:new m(this),statusbar:new x(this),popover:new z(this),handle:new N(this),fullscreen:new n(this),codeview:new y(this),dragAndDrop:new B(this),clipboard:new o(this),linkDialog:new I(this),imageDialog:new w(this),helpDialog:new c(this)};this.invoke=function(){var ag=s.head(s.from(arguments));var ae=s.tail(s.from(arguments));var ai=ag.split(".");var ah=ai.length>1;var ad=ah&&s.head(ai);var ac=ah?s.last(ai):s.head(ai);var af=this.getModule(ad);var aj=af[ac];return aj&&aj.apply(af,ae)};this.getModule=function(ac){return this.modules[ac]||this.modules.editor};var X=this.bindCustomEvent=function(ae,ad,ac){return function(){var af=ad[r.namespaceToCamel(ac,"on")];if(af){af.apply(ae[0],arguments)}return ae.trigger("summernote."+ac,arguments)}};this.insertImages=function(ai,af){var ah=ai.editor(),ac=ai.editable(),ag=ai.holder();var ae=ac.data("callbacks");var ad=ah.data("options");if(ae.onImageUpload){X(ag,ae,"image.upload")(af)}else{C.each(af,function(aj,al){var ak=al.name;if(ad.maximumImageFileSize&&ad.maximumImageFileSize<al.size){X(ag,ae,"image.upload.error")(ad.langInfo.image.maximumFileSizeError)}else{H.readFileAsDataURL(al).then(function(am){T.editor.insertImage(ac,am,ak)}).fail(function(){X(ag,ae,"image.upload.error")(ad.langInfo.image.maximumFileSizeError)})}})}};var S={showLinkDialog:function(ac){T.linkDialog.show(ac)},showImageDialog:function(ac){T.imageDialog.show(ac)},showHelpDialog:function(ac){T.helpDialog.show(ac)},fullscreen:function(ac){T.fullscreen.toggle(ac)},codeview:function(ac){T.codeview.toggle(ac)}};var aa=function(ac){if(b.isImg(ac.target)){ac.preventDefault()}};var Z=function(ac){var ad=b.makeLayoutInfo(ac.currentTarget||ac.target);T.editor.removeBogus(ad.editable());Q(ac)};this.updateStyleInfo=function(ae,ad){if(!ae){return}var ac=ad.editor().data("options").airMode;if(!ac){T.toolbar.update(ad.toolbar(),ae)}T.popover.update(ad.popover(),ae,ac);T.handle.update(ad.handle(),ae,ac)};var Q=function(ac){var ad=ac.target;setTimeout(function(){var ae=b.makeLayoutInfo(ad);var af=T.editor.currentStyle(ad);ab.updateStyleInfo(af,ae)},0)};var V=function(ac){var ad=b.makeLayoutInfo(ac.currentTarget||ac.target);T.popover.hide(ad.popover());T.handle.hide(ad.handle())};var Y=function(ad){var ac=C(ad.target).closest("[data-event]");if(ac.length){ad.preventDefault()}};var R=function(ac){var aj=C(ac.target).closest("[data-event]");if(!aj.length){return}var ai=aj.attr("data-event"),ak=aj.attr("data-value"),ah=aj.attr("data-hide");var af=b.makeLayoutInfo(ac.target);var ae;if(C.inArray(ai,["resize","floatMe","removeMedia","imageShape"])!==-1){var ag=af.handle().find(".note-control-selection");ae=C(ag.data("target"))}if(ah){aj.parents(".popover").hide()}if(C.isFunction(C.summernote.pluginEvents[ai])){C.summernote.pluginEvents[ai](ac,T.editor,af,ak)}else{if(T.editor[ai]){var al=af.editable();al.focus();T.editor[ai](al,ak,ae);ac.preventDefault()}else{if(S[ai]){S[ai].call(this,af);ac.preventDefault()}}}if(C.inArray(ai,["backColor","foreColor"])!==-1){var am=af.editor().data("options",am);var ad=am.airMode?T.popover:T.toolbar;ad.updateRecentColor(s.head(aj),ai,ak)}Q(ac)};var W=18;var U=function(ad,al){var af=C(ad.target.parentNode);var ae=af.next();var ak=af.find(".note-dimension-picker-mousecatcher");var ag=af.find(".note-dimension-picker-highlighted");var ah=af.find(".note-dimension-picker-unhighlighted");var aj;if(ad.offsetX===undefined){var ac=C(ad.target).offset();aj={x:ad.pageX-ac.left,y:ad.pageY-ac.top}}else{aj={x:ad.offsetX,y:ad.offsetY}}var ai={c:Math.ceil(aj.x/W)||1,r:Math.ceil(aj.y/W)||1};ag.css({width:ai.c+"em",height:ai.r+"em"});ak.attr("data-value",ai.c+"x"+ai.r);if(3<ai.c&&ai.c<al.insertTableMaxSize.col){ah.css({width:ai.c+1+"em"})}if(3<ai.r&&ai.r<al.insertTableMaxSize.row){ah.css({height:ai.r+1+"em"})}ae.html(ai.c+" x "+ai.r)};this.bindKeyMap=function(ae,af){var ad=ae.editor();var ac=ae.editable();ac.on("keydown",function(al){var ak=[];if(al.metaKey){ak.push("CMD")}if(al.ctrlKey&&!al.altKey){ak.push("CTRL")}if(al.shiftKey){ak.push("SHIFT")}var aj=q.nameFromCode[al.keyCode];if(aj){ak.push(aj)}var ai;var ah=ak.join("+");var ag=af[ah];if(ag){ai=C.summernote.pluginEvents[ah];if(C.isFunction(ai)){if(ai(al,T.editor,ae)){return false}}ai=C.summernote.pluginEvents[ag];if(C.isFunction(ai)){ai(al,T.editor,ae)}else{if(T.editor[ag]){T.editor[ag](ac,ad.data("options"));al.preventDefault()}else{if(S[ag]){S[ag].call(this,ae);al.preventDefault()}}}}else{if(q.isEdit(al.keyCode)){T.editor.afterCommand(ac)}}})};this.attach=function(af,ad){if(ad.shortcuts){this.bindKeyMap(af,ad.keyMap[O.isMac?"mac":"pc"])}af.editable().on("mousedown",aa);af.editable().on("keyup mouseup",Z);af.editable().on("scroll",V);T.clipboard.attach(af,ad);T.handle.attach(af,ad);af.popover().on("click",R);af.popover().on("mousedown",Y);T.dragAndDrop.attach(af,ad);if(!ad.airMode){af.toolbar().on("click",R);af.toolbar().on("mousedown",Y);T.statusbar.attach(af,ad)}var ac=ad.airMode?af.popover():af.toolbar();var ah=ac.find(".note-dimension-picker-mousecatcher");ah.css({width:ad.insertTableMaxSize.col+"em",height:ad.insertTableMaxSize.row+"em"}).on("mousemove",function(ai){U(ai,ad)});af.editor().data("options",ad);if(!O.isMSIE){setTimeout(function(){document.execCommand("styleWithCSS",0,ad.styleWithSpan)},0)}var ae=new j(af.editable());af.editable().data("NoteHistory",ae);af.editable().data("callbacks",{onInit:ad.onInit,onFocus:ad.onFocus,onBlur:ad.onBlur,onKeydown:ad.onKeydown,onKeyup:ad.onKeyup,onMousedown:ad.onMousedown,onEnter:ad.onEnter,onPaste:ad.onPaste,onBeforeCommand:ad.onBeforeCommand,onChange:ad.onChange,onImageUpload:ad.onImageUpload,onImageUploadError:ad.onImageUploadError,onMediaDelete:ad.onMediaDelete,onToolbarClick:ad.onToolbarClick});var ag=T.editor.styleFromNode(af.editable());this.updateStyleInfo(ag,af)};this.attachCustomEvent=function(aj,ae){var ai=aj.holder();var ad=aj.editable();var ah=ad.data("callbacks");ad.focus(X(ai,ah,"focus"));ad.blur(X(ai,ah,"blur"));ad.keydown(function(ak){if(ak.keyCode===q.code.ENTER){X(ai,ah,"enter").call(this,ak)}X(ai,ah,"keydown").call(this,ak)});ad.keyup(X(ai,ah,"keyup"));ad.on("mousedown",X(ai,ah,"mousedown"));ad.on("mouseup",X(ai,ah,"mouseup"));ad.on("scroll",X(ai,ah,"scroll"));ad.on("paste",X(ai,ah,"paste"));var ag=O.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";ad.on(ag,function(){X(ai,ah,"change")(ad.html(),ad)});if(!ae.airMode){aj.toolbar().click(X(ai,ah,"toolbar.click"));aj.popover().click(X(ai,ah,"popover.click"))}if(b.isTextarea(s.head(ai))){ai.closest("form").submit(function(ak){aj.holder().val(aj.holder().code());X(ai,ah,"submit").call(this,ak,ai.code())})}if(b.isTextarea(s.head(ai))&&ae.textareaAutoSync){ai.on("summernote.change",function(){aj.holder().val(aj.holder().code())})}X(ai,ah,"init")(aj);for(var af=0,ac=C.summernote.plugins.length;af<ac;af++){if(C.isFunction(C.summernote.plugins[af].init)){C.summernote.plugins[af].init(aj)}}};this.detach=function(ad,ac){ad.holder().off();ad.editable().off();ad.popover().off();ad.handle().off();ad.dialog().off();if(!ac.airMode){ad.dropzone().off();ad.toolbar().off();ad.statusbar().off()}}};var g=function(){var S=function(an,am){var aq=am.event;var ar=am.value;var at=am.title;var ap=am.className;var au=am.dropdown;var ao=am.hide;return(au?'<div class="btn-group'+(ap?" "+ap:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+((!au&&ap)?" "+ap:"")+(au?" dropdown-toggle":"")+'"'+(au?' data-toggle="dropdown"':"")+(at?' title="'+at+'"':"")+(aq?' data-event="'+aq+'"':"")+(ar?" data-value='"+ar+"'":"")+(ao?" data-hide='"+ao+"'":"")+' tabindex="-1">'+an+(au?' <span class="caret"></span>':"")+"</button>"+(au||"")+(au?"</div>":"")};var W=function(ao,an){var am='<i class="'+ao+'"></i>';return S(am,an)};var ab=function(am,ao){var an=C('<div class="'+am+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');an.find(".popover-content").append(ao);return an};var al=function(an,ao,am,ap){return'<div class="'+an+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(ao?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+ao+"</h4></div>":"")+'<div class="modal-body">'+am+"</div>"+(ap?'<div class="modal-footer">'+ap+"</div>":"")+"</div></div></div>"};var ae=function(ao,an,ap){var am="dropdown-menu"+(an?" "+an:"");ap=ap||"ul";if(ao instanceof Array){ao=ao.join("")}return"<"+ap+' class="'+am+'">'+ao+"</"+ap+">"};var ah={picture:function(an,am){return W(am.iconPrefix+am.icons.image.image,{event:"showImageDialog",title:an.image.image,hide:true})},link:function(an,am){return W(am.iconPrefix+am.icons.link.link,{event:"showLinkDialog",title:an.link.link,hide:true})},table:function(an,am){var ao=['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'];return W(am.iconPrefix+am.icons.table.table,{title:an.table.table,dropdown:ae(ao,"note-table")})},style:function(ao,an){var am=an.styleTags.reduce(function(aq,ap){var ar=ao.style[ap==="p"?"normal":ap];return aq+'<li><a data-event="formatBlock" href="#" data-value="'+ap+'">'+((ap==="p"||ap==="pre")?ar:"<"+ap+">"+ar+"</"+ap+">")+"</a></li>"},"");return W(an.iconPrefix+an.icons.style.style,{title:ao.style.style,dropdown:ae(am)})},fontname:function(ar,ao){var aq=[];var am=ao.fontNames.reduce(function(av,au){if(!O.isFontInstalled(au)&&!s.contains(ao.fontNamesIgnoreCheck,au)){return av}aq.push(au);return av+'<li><a data-event="fontName" href="#" data-value="'+au+'" style="font-family:\''+au+'\'"><i class="'+ao.iconPrefix+ao.icons.misc.check+'"></i> '+au+"</a></li>"},"");var at=O.isFontInstalled(ao.defaultFontName);var ap=(at)?ao.defaultFontName:aq[0];var an='<span class="note-current-fontname">'+ap+"</span>";return S(an,{title:ar.font.name,className:"note-fontname",dropdown:ae(am,"note-check")})},fontsize:function(ap,ao){var am=ao.fontSizes.reduce(function(ar,aq){return ar+'<li><a data-event="fontSize" href="#" data-value="'+aq+'"><i class="'+ao.iconPrefix+ao.icons.misc.check+'"></i> '+aq+"</a></li>"},"");var an='<span class="note-current-fontsize">11</span>';return S(an,{title:ap.font.size,className:"note-fontsize",dropdown:ae(am,"note-check")})},color:function(ar,ao){var aq='<i class="'+ao.iconPrefix+ao.icons.color.recent+'" style="color:black;background-color:yellow;"></i>';var an=S(aq,{className:"note-recent-color",title:ar.color.recent,event:"color",value:'{"backColor":"yellow"}'});var am=['<li><div class="btn-group">','<div class="note-palette-title">'+ar.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+ar.color.transparent+'">'+ar.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+ar.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+ar.color.reset+'">',ar.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];var ap=S("",{title:ar.color.more,dropdown:ae(am)});return an+ap},bold:function(an,am){return W(am.iconPrefix+am.icons.font.bold,{event:"bold",title:an.font.bold})},italic:function(an,am){return W(am.iconPrefix+am.icons.font.italic,{event:"italic",title:an.font.italic})},underline:function(an,am){return W(am.iconPrefix+am.icons.font.underline,{event:"underline",title:an.font.underline})},strikethrough:function(an,am){return W(am.iconPrefix+am.icons.font.strikethrough,{event:"strikethrough",title:an.font.strikethrough})},superscript:function(an,am){return W(am.iconPrefix+am.icons.font.superscript,{event:"superscript",title:an.font.superscript})},subscript:function(an,am){return W(am.iconPrefix+am.icons.font.subscript,{event:"subscript",title:an.font.subscript})},clear:function(an,am){return W(am.iconPrefix+am.icons.font.clear,{event:"removeFormat",title:an.font.clear})},ul:function(an,am){return W(am.iconPrefix+am.icons.lists.unordered,{event:"insertUnorderedList",title:an.lists.unordered})},ol:function(an,am){return W(am.iconPrefix+am.icons.lists.ordered,{event:"insertOrderedList",title:an.lists.ordered})},paragraph:function(am,av){var an=W(av.iconPrefix+av.icons.paragraph.left,{title:am.paragraph.left,event:"justifyLeft"});var ar=W(av.iconPrefix+av.icons.paragraph.center,{title:am.paragraph.center,event:"justifyCenter"});var ap=W(av.iconPrefix+av.icons.paragraph.right,{title:am.paragraph.right,event:"justifyRight"});var ao=W(av.iconPrefix+av.icons.paragraph.justify,{title:am.paragraph.justify,event:"justifyFull"});var at=W(av.iconPrefix+av.icons.paragraph.outdent,{title:am.paragraph.outdent,event:"outdent"});var aq=W(av.iconPrefix+av.icons.paragraph.indent,{title:am.paragraph.indent,event:"indent"});var au=['<div class="note-align btn-group">',an+ar+ap+ao,'</div><div class="note-list btn-group">',aq+at,"</div>"];return W(av.iconPrefix+av.icons.paragraph.paragraph,{title:am.paragraph.paragraph,dropdown:ae(au,"","div")})},height:function(ao,an){var am=an.lineHeights.reduce(function(aq,ap){return aq+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(ap)+'"><i class="'+an.iconPrefix+an.icons.misc.check+'"></i> '+ap+"</a></li>"},"");return W(an.iconPrefix+an.icons.font.height,{title:ao.font.height,dropdown:ae(am,"note-check")})},help:function(an,am){return W(am.iconPrefix+am.icons.options.help,{event:"showHelpDialog",title:an.options.help,hide:true})},fullscreen:function(an,am){return W(am.iconPrefix+am.icons.options.fullscreen,{event:"fullscreen",title:an.options.fullscreen})},codeview:function(an,am){return W(am.iconPrefix+am.icons.options.codeview,{event:"codeview",title:an.options.codeview})},undo:function(an,am){return W(am.iconPrefix+am.icons.history.undo,{event:"undo",title:an.history.undo})},redo:function(an,am){return W(am.iconPrefix+am.icons.history.redo,{event:"redo",title:an.history.redo})},hr:function(an,am){return W(am.iconPrefix+am.icons.hr.insert,{event:"insertHorizontalRule",title:an.hr.insert})}};var T=function(ar,am){var aq=function(){var at=W(am.iconPrefix+am.icons.link.edit,{title:ar.link.edit,event:"showLinkDialog",hide:true});var av=W(am.iconPrefix+am.icons.link.unlink,{title:ar.link.unlink,event:"unlink"});var au='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+at+av+"</div>";return ab("note-link-popover",au)};var ao=function(){var av=S('<span class="note-fontsize-10">100%</span>',{title:ar.image.resizeFull,event:"resize",value:"1"});var at=S('<span class="note-fontsize-10">50%</span>',{title:ar.image.resizeHalf,event:"resize",value:"0.5"});var aA=S('<span class="note-fontsize-10">25%</span>',{title:ar.image.resizeQuarter,event:"resize",value:"0.25"});var au=W(am.iconPrefix+am.icons.image.floatLeft,{title:ar.image.floatLeft,event:"floatMe",value:"left"});var aC=W(am.iconPrefix+am.icons.image.floatRight,{title:ar.image.floatRight,event:"floatMe",value:"right"});var az=W(am.iconPrefix+am.icons.image.floatNone,{title:ar.image.floatNone,event:"floatMe",value:"none"});var aw=W(am.iconPrefix+am.icons.image.shapeRounded,{title:ar.image.shapeRounded,event:"imageShape",value:"img-rounded"});var aD=W(am.iconPrefix+am.icons.image.shapeCircle,{title:ar.image.shapeCircle,event:"imageShape",value:"img-circle"});var ay=W(am.iconPrefix+am.icons.image.shapeThumbnail,{title:ar.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"});var aE=W(am.iconPrefix+am.icons.image.shapeNone,{title:ar.image.shapeNone,event:"imageShape",value:""});var ax=W(am.iconPrefix+am.icons.image.remove,{title:ar.image.remove,event:"removeMedia",value:"none"});var aB=(am.disableResizeImage?"":'<div class="btn-group">'+av+at+aA+"</div>")+'<div class="btn-group">'+au+aC+az+'</div><br><div class="btn-group">'+aw+aD+ay+aE+'</div><div class="btn-group">'+ax+"</div>";return ab("note-image-popover",aB)};var an=function(){var av=C("<div />");for(var au=0,at=am.airPopover.length;au<at;au++){var aA=am.airPopover[au];var ax=C('<div class="note-'+aA[0]+' btn-group">');for(var aw=0,az=aA[1].length;aw<az;aw++){var ay=C(ah[aA[1][aw]](ar,am));ay.attr("data-name",aA[1][aw]);ax.append(ay)}av.append(ax)}return ab("note-air-popover",av.children())};var ap=C('<div class="note-popover" />');ap.append(aq());ap.append(ao());if(am.airMode){ap.append(an())}return ap};var ak=function(am){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(am.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(am.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"};var Z=function(aq,ao){var ap="note-shortcut-col col-xs-6 note-shortcut-";var am=[];for(var an in ao){if(ao.hasOwnProperty(an)){am.push('<div class="'+ap+'key">'+ao[an].kbd+'</div><div class="'+ap+'name">'+ao[an].text+"</div>")}}return'<div class="note-shortcut-row row"><div class="'+ap+'title col-xs-offset-6">'+aq+'</div></div><div class="note-shortcut-row row">'+am.join('</div><div class="note-shortcut-row row">')+"</div>"};var Q=function(an){var am=[{kbd:"⌘ + B",text:an.font.bold},{kbd:"⌘ + I",text:an.font.italic},{kbd:"⌘ + U",text:an.font.underline},{kbd:"⌘ + \\",text:an.font.clear}];return Z(an.shortcut.textFormatting,am)};var aj=function(an){var am=[{kbd:"⌘ + Z",text:an.history.undo},{kbd:"⌘ + ⇧ + Z",text:an.history.redo},{kbd:"⌘ + ]",text:an.paragraph.indent},{kbd:"⌘ + [",text:an.paragraph.outdent},{kbd:"⌘ + ENTER",text:an.hr.insert}];return Z(an.shortcut.action,am)};var ad=function(an){var am=[{kbd:"⌘ + ⇧ + L",text:an.paragraph.left},{kbd:"⌘ + ⇧ + E",text:an.paragraph.center},{kbd:"⌘ + ⇧ + R",text:an.paragraph.right},{kbd:"⌘ + ⇧ + J",text:an.paragraph.justify},{kbd:"⌘ + ⇧ + NUM7",text:an.lists.ordered},{kbd:"⌘ + ⇧ + NUM8",text:an.lists.unordered}];return Z(an.shortcut.paragraphFormatting,am)};var ag=function(an){var am=[{kbd:"⌘ + NUM0",text:an.style.normal},{kbd:"⌘ + NUM1",text:an.style.h1},{kbd:"⌘ + NUM2",text:an.style.h2},{kbd:"⌘ + NUM3",text:an.style.h3},{kbd:"⌘ + NUM4",text:an.style.h4},{kbd:"⌘ + NUM5",text:an.style.h5},{kbd:"⌘ + NUM6",text:an.style.h6}];return Z(an.shortcut.documentStyle,am)};var U=function(aq,am){var ao=am.extraKeys;var ap=[];for(var an in ao){if(ao.hasOwnProperty(an)){ap.push({kbd:an,text:ao[an]})}}return Z(aq.shortcut.extraKeys,ap)};var ai=function(ap,am){var ao='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"';var an=["<div "+ao+">"+aj(ap,am)+"</div><div "+ao+">"+Q(ap,am)+"</div>","<div "+ao+">"+ag(ap,am)+"</div><div "+ao+">"+ad(ap,am)+"</div>"];if(am.extraKeys){an.push("<div "+ao+">"+U(ap,am)+"</div>")}return'<div class="note-shortcut-row row">'+an.join('</div><div class="note-shortcut-row row">')+"</div>"};var aa=function(am){return am.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};var ac={image:function(ar,an){var ap="";if(an.maximumImageFileSize){var ao=Math.floor(Math.log(an.maximumImageFileSize)/Math.log(1024));var aq=(an.maximumImageFileSize/Math.pow(1024,ao)).toFixed(2)*1+"  KMGTP"[ao]+"B";ap="<small>"+ar.image.maximumFileSize+" : "+aq+"</small>"}var am='<div class="form-group row note-group-select-from-files" style="display: none;"><label>'+ar.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+ap+'</div><div class="form-group row"><label>'+ar.image.url+'</label><br/><input class="note-image-url form-control col-md-12" type="text" style="width: 400px !important;margin-right: 18px;" /><a class="btn btn-default imageBtn" style=" display: inline-block; margin: 0px;">'+ar.image.selectFromFiles+"</a></div>";var at='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+ar.image.insert+"</button>";return al("note-image-dialog",ar.image.insert,am,at)},link:function(ao,an){var am='<div class="form-group row"><label>'+ao.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+ao.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(!an.disableLinkTarget?'<div class="checkbox"><label><input type="checkbox" checked> '+ao.link.openInNewWindow+"</label></div>":"");var ap='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+ao.link.insert+"</button>";return al("note-link-dialog",ao.link.insert,am,ap)},help:function(ao,an){var am='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+ao.shortcut.close+'</a><div class="title">'+ao.shortcut.shortcuts+"</div>"+(O.isMac?ai(ao,an):aa(ai(ao,an)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a> · <a href="//github.com/summernote/summernote" target="_blank">Project</a> · <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return al("note-help-dialog","",am,"")}};var R=function(ao,am){var an="";C.each(ac,function(ap,aq){an+=aq(ao,am)});return'<div class="note-dialog">'+an+"</div>"};var Y=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var X=function(am){if(O.isMac){am=am.replace("CMD","⌘").replace("SHIFT","⇧")}return am.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")};var af=function(ap,aq,am){var ao=r.invertObject(aq);var an=ap.find("button");an.each(function(at,av){var au=C(av);var ar=ao[au.data("event")];if(ar){au.attr("title",function(ax,aw){return aw+" ("+X(ar)+")"})}}).tooltip({container:"body",trigger:"hover",placement:am||"top"}).on("click",function(){C(this).tooltip("hide")})};var V=function(ao,am){var an=am.colors;ao.find(".note-color-palette").each(function(){var aw=C(this),au=aw.attr("data-target-event");var ar=[];for(var az=0,av=an.length;az<av;az++){var ap=an[az];var ax=[];for(var aq=0,ay=ap.length;aq<ay;aq++){var at=ap[aq];ax.push(['<button type="button" class="note-color-btn" style="background-color:',at,';" data-event="',au,'" data-value="',at,'" title="',at,'" data-toggle="button" tabindex="-1"></button>'].join(""))}ar.push('<div class="note-color-row">'+ax.join("")+"</div>")}aw.html(ar.join(""))})};this.createLayoutByAirMode=function(ap,av){var au=av.langInfo;var at=av.keyMap[O.isMac?"mac":"pc"];var am=r.uniqueId();ap.addClass("note-air-editor note-editable panel-body");ap.attr({id:"note-editor-"+am,contentEditable:true});var ar=document.body;var aq=C(T(au,av));aq.addClass("note-air-layout");aq.attr("id","note-popover-"+am);aq.appendTo(ar);af(aq,at);V(aq,av);var an=C(ak(av));an.addClass("note-air-layout");an.attr("id","note-handle-"+am);an.appendTo(ar);var ao=C(R(au,av));ao.addClass("note-air-layout");ao.attr("id","note-dialog-"+am);ao.find("button.close, a.modal-close").click(function(){C(this).closest(".modal").modal("hide")});ao.appendTo(ar)};this.createLayoutByFrame=function(aA,an){var aC=an.langInfo;var at=C('<div class="note-editor panel panel-default" />');if(an.width){at.width(an.width)}if(an.height>0){C('<div class="note-statusbar">'+(an.disableResizeEditor?"":Y())+"</div>").prependTo(at)}var am=C('<div class="note-editing-area" />');var aE=!aA.is(":disabled");var aH=C('<div class="note-editable panel-body" contentEditable="'+aE+'"></div>').prependTo(am);if(an.height){aH.height(an.height)}if(an.direction){aH.attr("dir",an.direction)}var aq=aA.attr("placeholder")||an.placeholder;if(aq){aH.attr("data-placeholder",aq)}aH.html(b.html(aA)||b.emptyPara);C('<textarea class="note-codable"></textarea>').prependTo(am);var ap=C(T(aC,an)).prependTo(am);V(ap,an);af(ap,az);C(ak(an)).prependTo(am);am.prependTo(at);var aI=C('<div class="note-toolbar panel-heading" />');for(var ax=0,aD=an.toolbar.length;ax<aD;ax++){var av=an.toolbar[ax][0];var aw=an.toolbar[ax][1];var aG=C('<div class="note-'+av+' btn-group" />');for(var aB=0,ay=aw.length;aB<ay;aB++){var ar=ah[aw[aB]];if(!C.isFunction(ar)){continue}var ao=C(ar(aC,an));ao.attr("data-name",aw[aB]);aG.append(ao)}aI.append(aG)}var az=an.keyMap[O.isMac?"mac":"pc"];V(aI,an);af(aI,az,"bottom");aI.prependTo(at);C('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(at);var au=an.dialogsInBody?C(document.body):at;var aF=C(R(aC,an)).prependTo(au);aF.find("button.close, a.modal-close").click(function(){C(this).closest(".modal").modal("hide")});at.insertAfter(aA);aA.hide()};this.hasNoteEditor=function(am){return this.noteEditorFromHolder(am).length>0};this.noteEditorFromHolder=function(am){if(am.hasClass("note-air-editor")){return am}else{if(am.next().hasClass("note-editor")){return am.next()}else{return C()}}};this.createLayout=function(an,am){if(am.airMode){this.createLayoutByAirMode(an,am)}else{this.createLayoutByFrame(an,am)}};this.layoutInfoFromHolder=function(am){var an=this.noteEditorFromHolder(am);if(!an.length){return}an.data("holder",am);return b.buildLayoutInfo(an)};this.removeLayout=function(an,ao,am){if(am.airMode){an.removeClass("note-air-editor note-editable").removeAttr("id contentEditable");ao.popover().remove();ao.handle().remove();ao.dialog().remove()}else{an.html(ao.editable().html());if(am.dialogsInBody){ao.dialog().remove()}ao.editor().remove();an.show()}};this.getTemplate=function(){return{button:S,iconButton:W,dialog:al}};this.addButtonInfo=function(am,an){ah[am]=an};this.addDialogInfo=function(an,am){ac[an]=am}};C.summernote=C.summernote||{};C.extend(C.summernote,E);var F=new g();var p=new f();C.extend(C.summernote,{renderer:F,eventHandler:p,core:{agent:O,list:s,dom:b,range:k},pluginEvents:{},plugins:[]});C.summernote.addPlugin=function(Q){C.summernote.plugins.push(Q);if(Q.buttons){C.each(Q.buttons,function(R,S){F.addButtonInfo(R,S)})}if(Q.dialogs){C.each(Q.dialogs,function(R,S){F.addDialogInfo(R,S)})}if(Q.events){C.each(Q.events,function(R,S){C.summernote.pluginEvents[R]=S})}if(Q.langs){C.each(Q.langs,function(R,S){if(C.summernote.lang[R]){C.extend(C.summernote.lang[R],S)}})}if(Q.options){C.extend(C.summernote.options,Q.options)}};C.fn.extend({summernote:function(){var Y=C.type(s.head(arguments));var Q=Y==="string";var Z=Y==="object";var ab=Z?s.head(arguments):{};ab=C.extend({},C.summernote.options,ab);ab.icons=C.extend({},C.summernote.options.icons,ab.icons);ab.langInfo=C.extend(true,{},C.summernote.lang["en-US"],C.summernote.lang[ab.lang]);if(!Q&&Z){for(var U=0,W=C.summernote.plugins.length;U<W;U++){var V=C.summernote.plugins[U];if(ab.plugin[V.name]){C.summernote.plugins[U]=C.extend(true,V,ab.plugin[V.name])}}}this.each(function(ac,ad){var ae=C(ad);if(!F.hasNoteEditor(ae)){F.createLayout(ae,ab);var af=F.layoutInfoFromHolder(ae);ae.data("layoutInfo",af);p.attach(af,ab);p.attachCustomEvent(af,ab)}});var T=this.first();if(T.length){var R=F.layoutInfoFromHolder(T);if(Q){var aa=s.head(s.from(arguments));var X=s.tail(s.from(arguments));var S=[aa,R.editable()].concat(X);return p.invoke.apply(p,S)}else{if(ab.focus){R.editable().focus()}}}return this},code:function(S){if(S===undefined){var T=this.first();if(!T.length){return}var U=F.layoutInfoFromHolder(T);var R=U&&U.editable();if(R&&R.length){var Q=p.invoke("codeview.isActivated",U);p.invoke("codeview.sync",U);return Q?U.codable().val():U.editable().html()}return b.value(T)}this.each(function(X,W){var Y=F.layoutInfoFromHolder(C(W));var V=Y&&Y.editable();if(V){V.html(S)}});return this},destroy:function(){this.each(function(Q,S){var T=C(S);if(!F.hasNoteEditor(T)){return}var U=F.layoutInfoFromHolder(T);var R=U.editor().data("options");p.detach(U,R);F.removeLayout(T,U,R)});return this}})}));