!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CS_dashboardHome=e()}}(function(){return function e(t,o,n){function a(r,c){if(!o[r]){if(!t[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){var o=t[r][1][e];return a(o?o:e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(e,t,o){tco.addDataSource(csDashboardHomeData),tco.addModule("cs-updates",e("./home/auto-updates")),tco.addModule("cs-validation",e("./home/validation")),tco.addModule("cs-validation-revoke",e("./home/revoke")),function(){if(csDashboardHomeData.modules&&csDashboardHomeData.notices)for(var e in csDashboardHomeData.modules){var t=csDashboardHomeData.modules[e];if(t.notices)for(var o in t.notices){t.notices[o];-1!==csDashboardHomeData.notices.indexOf(o)&&tco.showNotice(t.notices[o])}}}()},{"./home/auto-updates":2,"./home/revoke":3,"./home/validation":4}],2:[function(e,t,o){t.exports=function(e,t,o){var n=t["check-now"]||!1,a=t["latest-available"]||!1;n&&a&&(o.latest&&a.html(o.latest),n.find("a").click(function(e){e.preventDefault(),n.html(o.checking),tco.ajax({action:"cs_update_check",done:function(e){e.latest&&e.latest!==o.latest?(n.html(o.completeNew),a.html(e.latest)):n.html(o.complete)},fail:function(e){console.warn("Cornerstone Update Check Error",e),n.html(o.error)}})}))}},{}],3:[function(e,t,o){t.exports=function(e,t,o){function n(){var e=tco.queryString.parse(tco.queryString.extract(window.location.href));delete e["tco-key"],e.notice="validation-revoked",window.location.search=tco.queryString.stringify(e)}var a=t.revoke||!1;a&&a.click(function(){tco.confirm({message:o.confirm,acceptClass:"tco-btn-nope",acceptBtn:o.accept,declineBtn:o.decline,accept:function(){a.removeAttr("href"),a.html(o.revoking),tco.ajax({action:"cs_validation_revoke",done:n,fail:n})}})})}},{}],4:[function(e,t,o){t.exports=function(e,t,o){function n(t){return t.message?void(t.complete?(e.tcoShowMessage(t.message),setTimeout(i,2500)):a(t)):r(t)}function a(t){c.html(t.message),s.html(t.button);var o=650;setTimeout(function(){e.tcoShowMessage("")},2*o),setTimeout(function(){l.addClass("tco-active")},3*o),t.url?(s.attr("href",t.url),t.newTab&&s.attr("target","_blank")):s.attr("href","#"),s.off("click"),t.dismiss&&s.click(function(){l.removeClass("tco-active"),e.tcoRemoveMessage(),setTimeout(function(){u.val("").prop("disabled",!1)},2*o)})}function i(){var e=tco.queryString.parse(window.location.search);delete e["tco-key"],e.notice="validation-complete",window.location.search=tco.queryString.stringify(e)}function r(e){var t=e.message?e.message:e;t.responseText&&(t=t.responseText),a({message:o.error,button:o.errorButton,dismiss:!0}),c.find("[data-tco-error-details]").click(function(e){e.preventDefault(),tco.confirm({message:t,acceptBtn:"",declineBtn:o.errorButton,"class":"tco-confirm-error"})}),console.log(e)}var c=t.message||!1,s=t.button||!1,l=t.overlay||!1,u=t.input||!1,f=t.form||!1;if($preloadKey=t["preload-key"]||!1,c&&s&&l&&u&&f&&$preloadKey){f.on("submit",function(t){t.preventDefault(),u.prop("disabled",!0),e.tcoShowMessage(o.verifying),tco.ajax({action:"cs_validation",code:u.val(),done:n,fail:r})});var d=$preloadKey.val();"string"==typeof d&&d.length>1&&(u.val(d),f.submit()),jQuery("body").on("click",'a[data-tco-focus="validation-input"]',function(e){e.preventDefault(),u.focus()})}}},{}]},{},[1])(1)});