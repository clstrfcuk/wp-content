/*!
 * The Grid – Responsive Grid Plugin
 * Copyright © 2015 All Rights Reserved. 
 * @author Themeone [http://theme-one.com/the-grid/]
 */
function throttle(a,b){var c=0;return function(){var d=Date.now();return d>c+b?(c=d,a.apply(this,arguments)):void 0}}function debounce(a,b){"use strict";var c;return function(){function d(){a(),c=null}c&&clearTimeout(c),setTimeout(d,b||100)}}!function(a){function c(){}function d(a){function d(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function f(c,d){a.fn[c]=function(e){if("string"==typeof e){for(var f=b.call(arguments,1),g=0,h=this.length;h>g;g++){var i=this[g],j=a.data(i,c);if(j&&a.isFunction(j[e])&&"_"!==e.charAt(0)){var k=j[e].apply(j,f);if(void 0!==k)return k}}return this}return this.each(function(){var b=a.data(this,c);b?(b.option(e),b._init()):(b=new d(this,e),a.data(this,c,b))})}}if(a){"undefined"==typeof console?c:function(a){};return a.bridget=function(a,b){d(b),f(a,b)},a.bridget}}var b=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],d):d("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function d(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=d(a);c.handleEvent.call(c,b)}:function(){var b=d(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var e=function(){};b.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:c,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){"use strict";function a(){}function e(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var b=a.prototype,c=this,d=c.EventEmitter;b.getListeners=function(a){var c,d,b=this._getEvents();if(a instanceof RegExp){c={};for(d in b)b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d])}else c=b[a]||(b[a]=[]);return c},b.flattenListeners=function(a){var c,b=[];for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b},b.getListenersAsObject=function(a){var c,b=this.getListeners(a);return b instanceof Array&&(c={},c[a]=b),c||b},b.addListener=function(a,b){var f,c=this.getListenersAsObject(a),d="object"==typeof b;for(f in c)c.hasOwnProperty(f)&&-1===e(c[f],b)&&c[f].push(d?b:{listener:b,once:!1});return this},b.on=f("addListener"),b.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},b.once=f("addOnceListener"),b.defineEvent=function(a){return this.getListeners(a),this},b.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},b.removeListener=function(a,b){var d,f,c=this.getListenersAsObject(a);for(f in c)c.hasOwnProperty(f)&&(d=e(c[f],b),-1!==d&&c[f].splice(d,1));return this},b.off=f("removeListener"),b.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},b.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},b.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},b.removeEvent=function(a){var d,b=typeof a,c=this._getEvents();if("string"===b)delete c[a];else if(a instanceof RegExp)for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this},b.removeAllListeners=f("removeEvent"),b.emitEvent=function(a,b){var d,e,f,g,c=this.getListenersAsObject(a);for(f in c)if(c.hasOwnProperty(f))for(e=c[f].length;e--;)d=c[f][e],d.once===!0&&this.removeListener(a,d.listener),g=d.listener.apply(this,b||[]),g===this._getOnceReturnValue()&&this.removeListener(a,d.listener);return this},b.trigger=f("emitEvent"),b.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},b._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return c.EventEmitter=d,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:c.EventEmitter=a}.call(this),function(a){function d(a){if(a){if("string"==typeof c[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d,e=0,f=b.length;f>e;e++)if(d=b[e]+a,"string"==typeof c[d])return d}}var b="Webkit Moz ms Ms O".split(" "),c=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return d}):"object"==typeof exports?module.exports=d:a.getStyleProperty=d}(window),function(a,b){function c(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function d(){}function g(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=f.length;c>b;b++){var d=f[b];a[d]=0}return a}function h(b){function k(){if(!d){d=!0;var f=a.getComputedStyle;if(h=function(){var a=f?function(a){return f(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||e("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),i=b("boxSizing")){var g=document.createElement("div");g.style.width="200px",g.style.padding="1px 2px 3px 4px",g.style.borderStyle="solid",g.style.borderWidth="1px 2px 3px 4px",g.style[i]="border-box";var k=document.body||document.documentElement;k.appendChild(g);var l=h(g);j=200===c(l.width),k.removeChild(g)}}}function l(a){if(k(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var b=h(a);if("none"===b.display)return g();var d={};d.width=a.offsetWidth,d.height=a.offsetHeight;for(var e=d.isBorderBox=!(!i||!b[i]||"border-box"!==b[i]),l=0,n=f.length;n>l;l++){var o=f[l],p=b[o];p=m(a,p);var q=parseFloat(p);d[o]=isNaN(q)?0:q}var r=d.paddingLeft+d.paddingRight,s=d.paddingTop+d.paddingBottom,t=d.marginLeft+d.marginRight,u=d.marginTop+d.marginBottom,v=d.borderLeftWidth+d.borderRightWidth,w=d.borderTopWidth+d.borderBottomWidth,x=e&&j,y=c(b.width);y!==!1&&(d.width=y+(x?0:r+v));var z=c(b.height);return z!==!1&&(d.height=z+(x?0:s+w)),d.innerWidth=d.width-(r+v),d.innerHeight=d.height-(s+w),d.outerWidth=d.width+t,d.outerHeight=d.height+u,d}}function m(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var h,i,j,d=!1;return l}var e="undefined"==typeof console?d:function(a){console.error(a)},f=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],h):"object"==typeof exports?module.exports=h(require("desandro-get-style-property")):a.getSize=h(a.getStyleProperty)}(window),function(a){function d(a){"function"==typeof a&&(d.isReady?a():c.push(a))}function e(a){var c="readystatechange"===a.type&&"complete"!==b.readyState;d.isReady||c||f()}function f(){d.isReady=!0;for(var a=0,b=c.length;b>a;a++){var e=c[a];e()}}function g(c){return"complete"===b.readyState?f():(c.bind(b,"DOMContentLoaded",e),c.bind(b,"readystatechange",e),c.bind(a,"load",e)),d}var b=a.document,c=[];d.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],g):"object"==typeof exports?module.exports=g(require("eventie")):a.docReady=g(a.eventie)}(window),function(a){"use strict";function c(a,c){return a[b](c)}function d(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function e(a,b){d(a);for(var c=a.parentNode.querySelectorAll(b),e=0,f=c.length;f>e;e++)if(c[e]===a)return!0;return!1}function f(a,b){return d(a),c(a,b)}var g,b=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(b){var h=document.createElement("div"),i=c(h,"div");g=i?c:f}else g=e;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return g}):"object"==typeof exports?module.exports=g:window.matchesSelector=g}(Element.prototype),function(a,b){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function b(b,c){a=a||(void 0!==document.documentElement.textContent?"textContent":"innerText"),b[a]=c}var a;return b}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var m,k=g[i],l=k.getAttribute(h);try{m=l&&JSON.parse(l)}catch(n){f&&f.error("Error parsing "+h+" on "+k.nodeName.toLowerCase()+(k.id?"#"+k.id:"")+": "+n);continue}var o=new c(k,m),p=a.jQuery;p&&p.data(k,e,o)}})},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){"use strict";function h(a){for(var b in a)return!1;return b=null,!0}function p(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function q(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var f=a.getComputedStyle,g=f?function(a){return f(a,null)}:function(a){return a.currentStyle},i=d("transition"),j=d("transform"),k=i&&j,l=!!d("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],n=["transform","transition","transitionDuration","transitionProperty"],o=function(){for(var a={},b=0,c=n.length;c>b;b++){var e=n[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(p.prototype,b.prototype),p.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},p.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},p.prototype.getSize=function(){this.size=c(this.element)},p.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=o[c]||c;b[d]=a[c]}},p.prototype.getPosition=function(){var a=g(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=a[c?"left":"right"],f=a[d?"top":"bottom"],h=this.layout.size,i=-1!=e.indexOf("%")?parseFloat(e)/100*h.width:parseInt(e,10),j=-1!=f.indexOf("%")?parseFloat(f)/100*h.height:parseInt(f,10);i=isNaN(i)?0:i,j=isNaN(j)?0:j,i-=c?h.paddingLeft:h.paddingRight,j-=d?h.paddingTop:h.paddingBottom,this.position.x=i,this.position.y=j},p.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];c[e]=this.getXValue(g),c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];c[i]=this.getYValue(k),c[j]="",this.css(c),this.emitEvent("layout",[this])},p.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+"%":a+"px"},p.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&b.isHorizontal?a/this.layout.size.height*100+"%":a+"px"},p.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},p.prototype.getTranslate=function(a,b){var c=this.layout.options;return a=c.isOriginLeft?a:-a,b=c.isOriginTop?b:-b,l?"translate3d("+a+"px, "+b+"px, 0)":"translate("+a+"px, "+b+"px)"},p.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},p.prototype.moveTo=k?p.prototype._transitionTo:p.prototype.goTo,p.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},p.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},p.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r="opacity,"+q(o.transform||"transform");p.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},p.prototype.transition=p.prototype[i?"_transition":"_nonTransition"],p.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},p.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};p.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],h(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},p.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},p.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return p.prototype.removeTransitionStyles=function(){this.css(t)},p.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},p.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},p.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},p.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},p.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},p.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},p.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},p.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},p}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){"use strict";function l(a,b){var c=e.getQueryElement(a);if(!c)return void(g&&g.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,h&&(this.$element=h(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++j;this.element.outlayerGUID=d,k[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=a.console,h=a.jQuery,i=function(){},j=0,k={};return l.namespace="outlayer",l.Item=f,l.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(l.prototype,c.prototype),l.prototype.option=function(a){e.extend(this.options,a)},l.prototype._create=function(){this.reloadItems(),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},l.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},l.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},l.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},l.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},l.prototype.layout=function(){this._resetLayout();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},l.prototype._init=l.prototype.layout,l.prototype._resetLayout=function(){this.getSize()},l.prototype.getSize=function(){this.size=d(this.element)},l.prototype._getMeasurement=function(a,b){var f,c=this.options[a];c?("string"==typeof c?f=this.element.querySelector(c):e.isElement(c)&&(f=c),this[a]=f?d(f)[b]:c):this[a]=0},l.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},l.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},l.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},l.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},l.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},l.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},l.prototype._postLayout=function(){this.resizeContainer()},l.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},l.prototype._getContainerSize=i,l.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},l.prototype._emitCompleteOnItems=function(a,b){function d(){c.dispatchEvent(a+"Complete",null,[b])}function g(){f++,f===e&&d()}var c=this,e=b.length;if(!b||!e)return void d();for(var f=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,g)}},l.prototype.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),h)if(this.$element=this.$element||h(this.element),b){var e=h.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},l.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},l.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},l.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},l.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},l.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},l.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},l.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},l.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},l.prototype.onresize=function(){function b(){a.resize(),delete a.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;this.resizeTimeout=setTimeout(b,100)},l.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},l.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},l.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},l.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},l.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},l.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},l.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},l.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},l.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},l.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},l.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},l.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete k[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},l.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&k[b]},l.create=function(a,b){function c(){l.apply(this,arguments)}return Object.create?c.prototype=Object.create(l.prototype):e.extend(c.prototype,l.prototype),c.prototype.constructor=c,c.defaults=e.extend({},l.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=l.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),h&&h.bridget&&h.bridget(a,c),c},l.Item=f,l}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/item",["outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("outlayer")):(a.TG_Layout=a.TG_Layout||{},a.TG_Layout.Item=b(a.Outlayer))}(window,function(a){"use strict";function b(){a.Item.apply(this,arguments)}b.prototype=new a.Item,b.prototype._create=function(){this.id=this.layout.itemGUID++,a.Item.prototype._create.call(this),this.sortData={}},b.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var a=this.layout.options.getSortData,b=this.layout._sorters;for(var c in a){var d=b[c];this.sortData[c]=d(this.element,this)}}};var c=b.prototype.destroy;return b.prototype.destroy=function(){c.apply(this,arguments),this.css({display:""})},b}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("get-size"),require("outlayer")):(a.TG_Layout=a.TG_Layout||{},a.TG_Layout.LayoutMode=b(a.getSize,a.Outlayer))}(window,function(a,b){"use strict";function c(a){this.TG_Layout=a,a&&(this.options=a.options[this.namespace],this.element=a.element,this.items=a.filteredItems,this.size=a.size)}return function(){function g(a){return function(){return b.prototype[a].apply(this.TG_Layout,arguments)}}for(var a=["_resetLayout","_getItemLayoutPosition","_getContainerSize","_getElementOffset","needsResizeLayout"],d=0,e=a.length;e>d;d++){var f=a[d];c.prototype[f]=g(f)}}(),c.prototype.needsVerticalResizeLayout=function(){var b=a(this.TG_Layout.element),c=this.TG_Layout.size&&b;return c&&b.innerHeight!=this.TG_Layout.size.innerHeight},c.prototype._getMeasurement=function(){this.TG_Layout._getMeasurement.apply(this,arguments)},c.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},c.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},c.prototype.getSegmentSize=function(a,b){var c=a+b,d="outer"+b;if(this._getMeasurement(c,d),!this[c]){var e=this.getFirstItemSize();this[c]=e&&e[d]||this.TG_Layout.size["inner"+b]}},c.prototype.getFirstItemSize=function(){var b=this.TG_Layout.filteredItems[0];return b&&b.element&&a(b.element)},c.prototype.layout=function(){this.TG_Layout.layout.apply(this.TG_Layout,arguments)},c.prototype.getSize=function(){this.TG_Layout.getSize(),this.size=this.TG_Layout.size},c.modes={},c.create=function(a,b){function d(){c.apply(this,arguments)}return d.prototype=new c,b&&(d.options=b),d.prototype.namespace=a,c.modes[a]=d,d},c}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight+this.gutter,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY-this.gutter};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],b):"object"==typeof exports?module.exports=b(require("../layout-mode"),require("masonry-layout")):b(a.TG_Layout.LayoutMode,a.Masonry)}(window,function(a,b){"use strict";function c(a,b){for(var c in b)a[c]=b[c];return a}var d=a.create("masonry"),e=d.prototype._getElementOffset,f=d.prototype.layout,g=d.prototype._getMeasurement;c(d.prototype,b.prototype),d.prototype._getElementOffset=e,d.prototype.layout=f,d.prototype._getMeasurement=g;var h=d.prototype.measureColumns;return d.prototype.measureColumns=function(){this.items=this.TG_Layout.filteredItems,h.call(this)},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","TG_Layout/js/item","TG_Layout/js/layout-mode","TG_Layout/js/layout-modes/masonry"],function(c,d,e,f,g,h){return b(a,c,d,e,f,g,h)}):"object"==typeof exports?module.exports=b(a,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry")):a.TG_Layout=b(a,a.Outlayer,a.getSize,a.matchesSelector,a.fizzyUIUtils,a.TG_Layout.Item,a.TG_Layout.LayoutMode)}(window,function(a,b,c,d,e,f,g){function n(a,b){return function(c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e],h=c.sortData[g],i=d.sortData[g];
if(h>i||i>h){var j=void 0!==b[g]?b[g]:b,k=j?1:-1;return(h>i?1:-1)*k}}return 0}}var h=a.jQuery,i=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},j=document.documentElement,k=j.textContent?function(a){return a.textContent}:function(a){return a.innerText},l=b.create("TG_Layout",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});l.Item=f,l.LayoutMode=g,l.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),b.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in g.modes)this._initLayoutMode(a)},l.prototype.reloadItems=function(){this.itemGUID=0,b.prototype.reloadItems.call(this)},l.prototype._itemize=function(){for(var a=b.prototype._itemize.apply(this,arguments),c=0,d=a.length;d>c;c++){var e=a[c];e.id=this.itemGUID++}return this._updateItemsSortData(a),a},l.prototype._initLayoutMode=function(a){var b=g.modes[a],c=this.options[a]||{};this.options[a]=b.options?e.extend(b.options,c):c,this.modes[a]=new b(this)},l.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},l.prototype._layout=function(){var a=this._getIsInstant();this._resetLayout(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},l.prototype.arrange=function(a){function d(){c.reveal(b.needReveal),c.hide(b.needHide)}this.option(a),this._getIsInstant();var b=this._filter(this.items);this.filteredItems=b.matches;var c=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(d):d(),this._sort(),this._layout()},l.prototype._init=l.prototype.arrange,l.prototype._getIsInstant=function(){var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=a,a},l.prototype._bindArrangeComplete=function(){function e(){a&&b&&c&&d.dispatchEvent("arrangeComplete",null,[d.filteredItems])}var a,b,c,d=this;this.once("layoutComplete",function(){a=!0,e()}),this.once("hideComplete",function(){b=!0,e()}),this.once("revealComplete",function(){c=!0,e()})},l.prototype._filter=function(a){var b=this.options.filter;b=b||"*";for(var c=[],d=[],e=[],f=this._getFilterTest(b),g=0,h=a.length;h>g;g++){var i=a[g];if(!i.isIgnored){var j=f(i);j&&c.push(i),j&&i.isHidden?d.push(i):j||i.isHidden||e.push(i)}}return{matches:c,needReveal:d,needHide:e}},l.prototype._getFilterTest=function(a){return h&&this.options.isJQueryFiltering?function(b){return h(b.element).is(a)}:"function"==typeof a?function(b){return a(b.element)}:function(b){return d(b.element,a)}},l.prototype.updateSortData=function(a){var b;a?(a=e.makeArray(a),b=this.getItems(a)):b=this.items,this._getSorters(),this._updateItemsSortData(b)},l.prototype._getSorters=function(){var a=this.options.getSortData;for(var b in a){var c=a[b];this._sorters[b]=m(c)}},l.prototype._updateItemsSortData=function(a){for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.updateSortData()}};var m=function(){function a(a){if("string"!=typeof a)return a;var c=i(a).split(" "),d=c[0],e=d.match(/^\[(.+)\]$/),f=e&&e[1],g=b(f,d),h=l.sortDataParsers[c[1]];return a=h?function(a){return a&&h(g(a))}:function(a){return a&&g(a)}}function b(a,b){var c;return c=a?function(b){return b.getAttribute(a)}:function(a){var c=a.querySelector(b);return c&&k(c)}}return a}();return l.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},l.prototype._sort=function(){var a=this.options.sortBy;if(a){var b=[].concat.apply(a,this.sortHistory),c=n(b,this.options.sortAscending);this.filteredItems.sort(c),a!=this.sortHistory[0]&&this.sortHistory.unshift(a)}},l.prototype._mode=function(){var a=this.options.layoutMode,b=this.modes[a];if(!b)throw new Error("No layout mode: "+a);return b.options=this.options[a],b},l.prototype._resetLayout=function(){b.prototype._resetLayout.call(this),this._mode()._resetLayout()},l.prototype._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},l.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},l.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.prototype.appended=function(a){var b=this.addItems(a);if(b.length)if("justified"==this.options.layoutMode){var c=this._filter(b);this.hide(c.needHide),this.reveal(c.matches),this.filteredItems=this.filteredItems.concat(c.matches),this.layoutItems(c.matches,!0)}else{var d=this._filterRevealAdded(b);this.filteredItems=this.filteredItems.concat(d)}},l.prototype._filterRevealAdded=function(a){var b=this._filter(a);return this.hide(b.needHide),this.reveal(b.matches),this.layoutItems(b.matches,!0),b.matches},l.prototype._noTransition=function(a){var b=this.options.transitionDuration;this.options.transitionDuration=0;var c=a.call(this);return this.options.transitionDuration=b,c},l.prototype.getFilteredItemElements=function(){for(var a=[],b=0,c=this.filteredItems.length;c>b;b++)a.push(this.filteredItems[b].element);return a},l}),function(a){function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function f(a,b){var f=c(a,b)?e:d;f(a,b)}var c,d,e;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)}):(c=function(a,c){return b(c).test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className+" "+b)},e=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:c,addClass:d,removeClass:e,toggleClass:f,has:c,add:d,remove:e,toggle:f};"function"==typeof define&&define.amd?define("classie/classie",g):"object"==typeof exports?module.exports=g:a.classie=g}(window),function(a,b){"function"==typeof define&&define.amd?define("packery/js/rect",b):"object"==typeof exports?module.exports=b():(a.Packery=a.Packery||{},a.Packery.Rect=b())}(window,function(){function b(a){for(var c in b.defaults)this[c]=b.defaults[c];for(c in a)this[c]=a[c]}var a=window.Packery=function(){};return a.Rect=b,b.defaults={x:0,y:0,width:0,height:0},b.prototype.contains=function(a){var b=a.width||0,c=a.height||0;return this.x<=a.x&&this.y<=a.y&&this.x+this.width>=a.x+b&&this.y+this.height>=a.y+c},b.prototype.overlaps=function(a){var b=this.x+this.width,c=this.y+this.height,d=a.x+a.width,e=a.y+a.height;return this.x<d&&b>a.x&&this.y<e&&c>a.y},b.prototype.getMaximalFreeRects=function(a){if(!this.overlaps(a))return!1;var d,c=[],e=this.x+this.width,f=this.y+this.height,g=a.x+a.width,h=a.y+a.height;return this.y<a.y&&(d=new b({x:this.x,y:this.y,width:this.width,height:a.y-this.y}),c.push(d)),e>g&&(d=new b({x:g,y:this.y,width:e-g,height:this.height}),c.push(d)),f>h&&(d=new b({x:this.x,y:h,width:this.width,height:f-h}),c.push(d)),this.x<a.x&&(d=new b({x:this.x,y:this.y,width:a.x-this.x,height:this.height}),c.push(d)),c},b.prototype.canFit=function(a){return this.width>=a.width&&this.height>=a.height},b}),function(a,b){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],b);else if("object"==typeof exports)module.exports=b(require("./rect"));else{var c=a.Packery=a.Packery||{};c.Packer=b(c.Rect)}}(window,function(a){function b(a,b,c){this.width=a||0,this.height=b||0,this.sortDirection=c||"downwardLeftToRight",this.reset()}b.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var b=new a({x:0,y:0,width:this.width,height:this.height});this.spaces.push(b),this.sorter=c[this.sortDirection]||c.downwardLeftToRight},b.prototype.pack=function(a){for(var b=0,c=this.spaces.length;c>b;b++){var d=this.spaces[b];if(d.canFit(a)){this.placeInSpace(a,d);break}}},b.prototype.placeInSpace=function(a,b){a.x=b.x,a.y=b.y,this.placed(a)},b.prototype.placed=function(a){for(var b=[],c=0,d=this.spaces.length;d>c;c++){var e=this.spaces[c],f=e.getMaximalFreeRects(a);f?b.push.apply(b,f):b.push(e)}this.spaces=b,this.mergeSortSpaces()},b.prototype.mergeSortSpaces=function(){b.mergeRects(this.spaces),this.spaces.sort(this.sorter)},b.prototype.addSpace=function(a){this.spaces.push(a),this.mergeSortSpaces()},b.mergeRects=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d){var e=a.slice(0);e.splice(b,1);for(var f=0,g=0,h=e.length;h>g;g++){var i=e[g],j=b>g?0:1;d.contains(i)&&(a.splice(g+j-f,1),f++)}}}return a};var c={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return b}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],b):"object"==typeof exports?module.exports=b(require("desandro-get-style-property"),require("outlayer"),require("./rect")):a.Packery.Item=b(a.getStyleProperty,a.Outlayer,a.Packery.Rect)}(window,function(a,b,c){var e=(a("transform"),function(){b.Item.apply(this,arguments)});e.prototype=new b.Item;var f=e.prototype._create;return e.prototype._create=function(){f.call(this),this.rect=new c,this.placeRect=new c},e.prototype.positionPlaceRect=function(a,b,c){this.placeRect.x=this.getPlaceRectCoord(a,!0),this.placeRect.y=this.getPlaceRectCoord(b,!1,c)},e.prototype.getPlaceRectCoord=function(a,b,c){var d=b?"Width":"Height",e=this.size["outer"+d],f=this.layout[b?"columnWidth":"rowHeight"],g=this.layout.size["inner"+d];b||(g=Math.max(g,this.layout.maxY),this.layout.rowHeight||(g-=this.layout.gutter));var h;if(f){f+=this.layout.gutter,g+=b?this.layout.gutter:0,a=Math.round(a/f);var i;i=this.layout.options.isHorizontal?b?"ceil":"floor":b?"floor":"ceil";var j=Math[i](g/f);j-=Math.ceil(e/f),h=j}else h=g-e;return a=c?a:Math.min(a,h),a*=f||1,Math.max(0,a)},e.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},e.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},e}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],b):"object"==typeof exports?module.exports=b(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):a.Packery=b(a.classie,a.getSize,a.Outlayer,a.Packery.Rect,a.Packery.Packer,a.Packery.Item)}(window,function(a,b,c,d,e,f){function h(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function i(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}d.prototype.canFit=function(a){return this.width>=a.width-1&&this.height>=a.height-1};var g=c.create("packery");return g.Item=f,g.prototype._create=function(){c.prototype._create.call(this),this.packer=new e},g.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var a=this.packer;this.options.isHorizontal?(a.width=Number.POSITIVE_INFINITY,a.height=this.size.innerHeight+this.gutter,a.sortDirection="rightwardTopToBottom"):(a.width=this.size.innerWidth+this.gutter,a.height=Number.POSITIVE_INFINITY,a.sortDirection="downwardLeftToRight"),a.reset(),this.maxY=0,this.maxX=0},g.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},g.prototype._getItemLayoutPosition=function(a){return this._packItem(a),a.rect},g.prototype._packItem=function(a){this._setRectSize(a.element,a.rect),this.packer.pack(a.rect),this._setMaxXY(a.rect)},g.prototype._setMaxXY=function(a){this.maxX=Math.max(a.x+a.width,this.maxX),this.maxY=Math.max(a.y+a.height,this.maxY)},g.prototype._setRectSize=function(a,c){var d=b(a),e=d.outerWidth,f=d.outerHeight;(e||f)&&(e=this._applyGridGutter(e,this.columnWidth),f=this._applyGridGutter(f,this.rowHeight)),c.width=Math.min(e,this.packer.width),c.height=Math.min(f,this.packer.height)},g.prototype._applyGridGutter=function(a,b){if(!b)return a+this.gutter;b+=this.gutter;var c=a%b,d=c&&1>c?"round":"ceil";return a=Math[d](a/b)*b},g.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},g.prototype.sortItemsByPosition=function(){var a=this.options.isHorizontal?i:h;this.items.sort(a)},g.prototype.fit=function(a,b,c){var d=this.getItem(a);d&&(this._getMeasurements(),d.getSize(),d.isPlacing=!0,b=void 0===b?d.rect.x:b,c=void 0===c?d.rect.y:c,d.positionPlaceRect(b,c,!0),this._bindFitEvents(d),d.moveTo(d.placeRect.x,d.placeRect.y),this.layout(),this.unstamp(d.element),this.sortItemsByPosition(),d.isPlacing=!1,d.copyPlaceRectPosition())},g.prototype._bindFitEvents=function(a){function d(){c++,2==c&&b.emitEvent("fitComplete",[a])}var b=this,c=0;a.on("layout",function(){return d(),!0}),this.on("layoutComplete",function(){return d(),!0})},g.prototype.resize=function(){var a=b(this.element),c=this.size&&a,d=this.options.isHorizontal?"innerHeight":"innerWidth";c&&a[d]==this.size[d]||this.layout()},g.Rect=d,g.Packer=e,g}),function(a,b){"function"==typeof define&&define.amd?define(["TG_Layout/js/layout-mode","packery/js/packery","get-size/get-size"],b):"object"==typeof exports?module.exports=b(require("TG_Layout-layout/js/layout-mode"),require("packery"),require("get-size")):b(a.TG_Layout.LayoutMode,a.Packery,a.getSize)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}var e=a.create("packery"),f=e.prototype._getElementOffset,g=e.prototype._getMeasurement;d(e.prototype,b.prototype),e.prototype._getElementOffset=f,e.prototype._getMeasurement=g;var h=e.prototype._resetLayout;e.prototype._resetLayout=function(){this.packer=this.packer||new b.Packer,h.apply(this,arguments)};var i=e.prototype._getItemLayoutPosition;return e.prototype._getItemLayoutPosition=function(a){return a.rect=a.rect||new b.Rect,i.call(this,a)},e.prototype.needsResizeLayout=function(){var a=c(this.element),b=this.size&&a,d=this.options.isHorizontal?"innerHeight":"innerWidth";return b&&a[d]!=this.size[d]},e}),function(a){"use strict";function b(a){var b=a.create("horizontal");return b.prototype._resetLayout=function(){this.x=0},b.prototype._getItemLayoutPosition=function(a){a.getSize(),this._getMeasurement("gutter","width");var b=0,c=this.x;return this.x+=a.size.outerWidth+this.gutter,{x:c,y:b}},b.prototype._getContainerSize=function(){return{width:this.x-this.gutter}},b.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},b}"function"==typeof define&&define.amd?define(["TG_Layout/js/layout-mode"],b):"object"==typeof exports?module.exports=b(require("TG_Layout-layout/js/layout-mode")):b(a.TG_Layout.LayoutMode)}(window),function(a){"use strict";function b(a){var b=a.create("justified");return b.prototype._resetLayout=function(){this.justified_data=[],this.prev_width=0,this.prev_top=0,this.max_width=0,this.count=0,this._getMeasurement("gutter","width"),this._getMeasurement("rowHeight","height");var a=this.TG_Layout.size.innerWidth+this.gutter,b=this.TG_Layout.filteredItems;if(this.options.isHorizontal)this.row(b);else{var c=0;a:for(;b.length>0;){for(var d=1;d<b.length+1;++d){var e=b.slice(0,d),f=this.getHeight(e,a);if(f<this.rowHeight){this.setHeight(e,f),c++,b=b.slice(d);continue a}}this.setHeight(e,Math.min(this.rowHeight,f)),c++;break}this.checkWidth()}},b.prototype.row=function(a){for(var b=this.options.row,c=this.rowHeight,d=0;d<a.length;++d){var e=jQuery(a[d].element).find(this.options.image),f=e[0]?this.getSize(e):[],g=f.width?Math.round(c*f.width/f.height):16*c/9,h=this.justified_data[d-b],i=h?h.x+h.width+this.gutter:0,j=h?h.y:d*(c+this.gutter);this.justified_data.push({width:g,height:c,x:i,y:j})}},b.prototype.getHeight=function(a,b){b-=a.length*this.gutter;for(var c=0,d=0;d<a.length;++d){var e=jQuery(a[d].element).find(this.options.image),f=e[0]?this.getSize(e):[],g=f.width?f.width:16*this.rowHeight/9,h=f.height?f.height:this.rowHeight;c+=g/h}return b/c},b.prototype.setHeight=function(a,b){this.prev_width=0;for(var c=0;c<a.length;++c){var d=jQuery(a[c].element).find(this.options.image),b=Math.round(b),e=d[0]?this.getSize(d):[],f=e.width?Math.round(b*e.width/e.height):16*b/9;this.justified_data.push({width:f,height:b,x:this.prev_width,y:this.prev_top}),this.prev_width+=f+this.gutter}this.prev_top+=b+this.gutter},b.prototype.getSize=function(a){if(a[0].naturalWidth)var b=a[0]?a[0].naturalWidth:null,c=a[0]?a[0].naturalHeight:null;else{var d=new Image;d.src=a[0]?a.attr("src"):null;var b=d?d.width:null,c=d?d.height:null}return{width:b,height:c}},b.prototype.checkWidth=function(){for(var a=0,b=this.justified_data.length,c=0;c<this.justified_data.length;++c)this.justified_data[c].y!=a&&this.adjustWidth(c-1),a=this.justified_data[c].y;var d=this.justified_data[b-1];d&&d.x+d.width>this.TG_Layout.size.innerWidth&&this.adjustWidth(b-1)},b.prototype.adjustWidth=function(a){var b=this.justified_data[a].x,c=this.justified_data[a].width,d=this.TG_Layout.size.innerWidth-(b+c);this.justified_data[a].width=c+d},b.prototype._getItemLayoutPosition=function(a){if(!this.justified_data[this.count]){this.pcount=this.count,this._resetLayout();for(var b=0;b<this.pcount;++b){jQuery(this.TG_Layout.filteredItems[b].element).width(this.justified_data[b].width).height(this.justified_data[b].height).css("top",this.justified_data[b].y).css("left",this.justified_data[b].x);var c=this.justified_data[b].x+this.justified_data[b].width;this.max_width=c>this.max_width?c:this.max_width}this.count=this.pcount}a.element.style.width=this.justified_data[this.count].width+"px",a.element.style.height=this.justified_data[this.count].height+"px";var d={x:this.justified_data[this.count].x,y:this.justified_data[this.count].y},c=d.x+this.justified_data[this.count].width;return this.max_width=c>this.max_width?c:this.max_width,++this.count,d},b.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.max_width,height:(this.rowHeight+this.gutter)*this.options.row-this.gutter}:{height:this.prev_top-this.gutter}},b.prototype.needsResizeLayout=function(){return this.max_width},b}"function"==typeof define&&define.amd?define(["TG_Layout/js/TG_Layout-mode"],cellsByRowDefinition):b(a.TG_Layout.LayoutMode)}(window),function(a){var b=TG_Layout.Item.prototype.reveal;TG_Layout.Item.prototype.reveal=function(){b.apply(this,arguments),a(this.element).removeClass("tg-item-hidden")};var c=TG_Layout.Item.prototype.hide;TG_Layout.Item.prototype.hide=function(){c.apply(this,arguments),a(this.element).addClass("tg-item-hidden")}}(jQuery),function(a,b,c){"use strict";function B(b,d,e){function Aa(b){var c=0,d=W.length,e=L.data("TG_Layout"),f=e?e.options[e.options.layoutMode].gutter.offsetWidth:0;if(!e)return!1;if(M=K.width(),R=P.width(),N=L.outerWidth(),W.length=0,O.start=0,O.end=y(N-M,0),fa){c=Y.length,X=L.children(o.itemSelector),Y.length=0;for(var m,g=H(L,o.horizontal?"paddingLeft":"paddingTop"),h=H(L,o.horizontal?"paddingRight":"paddingBottom"),i="border-box"===a(X).css("boxSizing"),j=e.filteredItems,k=0,l=0,n=0,p=[],q=[],r=0;r<j.length;r++){var s=parseFloat(getComputedStyle(j[r].element).width)+f,u=j[r].position.x;n=u+s>n?u+s:n,p.push(u)}p.push(n),p.sort(function(a,b){return a-b});for(var r=1;r<p.length;r++)q.push(p[r]-p[r-1]);N=0,a(j).each(function(a,b){var c=f/2,d=f/2,e={};e.el=b,e.size=q[a],e.half=e.size/2,e.start=N-c,e.center=e.start-x(M/2-e.size/2),e.end=e.start-M+e.size,a||(N+=g),N+=e.size,o.horizontal||d&&c&&a>0&&(N-=z(c,d)),a===l&&(e.end+=h,N+=h,k=d),e.size&&(Y.push(e),m=e)}),L[0].style[o.horizontal?"width":"height"]=(i?N:N-g-h)+"px",N-=k,Y.length?(O.start=Y[0][da?"center":"start"],O.end=da?m.center:N>M?m.end:O.start):O.start=O.end=0}if(O.center=x(O.end/2+O.start/2),Ja(),!A&&M>0){var v=O.start,w="";if(fa)a.each(Y,function(a,b){da?W.push(b.center):b.start+b.size>v&&v<=O.end&&(v=b.start,W.push(v),v+=M,v>O.end&&v<O.end+M&&W.push(O.end))});else for(;v-M<O.end;)W.push(v),v+=M;if(U[0]&&d!==W.length){for(var r=0;r<W.length;r++)w+=o.pageBuilder.call(t,r);1===W.length&&(w=null),V=U.html(w).children(),V.eq(Z.activePage).addClass(o.activeClass)}}if(Z.slideeSize=N,Z.frameSize=M,Z.sbSize=R,Z.handleSize=S,fa){b&&null!=o.startAt&&t[ea?"toCenter":"toStart"](o.startAt);var B=Y[Z.activeItem];Ba(ea&&B?B.center:I(O.dest,O.start,O.end))}else b?null!=o.startAt&&Ba(o.startAt,1):Ba(I(O.dest,O.start,O.end));Za("load")}function Ba(a,b,c){if(fa&&sa.released&&!c){var d=Ia(a),e=a>O.start&&a<O.end;ea?(e&&(a=Y[d.centerItem].center),da&&o.activateMiddle&&activate(d.centerItem)):e&&(a=Y[d.firstItem].start)}sa.init&&sa.slidee&&o.elasticBounds?a>O.end?a=O.end+(a-O.end)/6:a<O.start&&(a=O.start+(a-O.start)/6):a=I(a,O.start,O.end),qa.start=+new Date,qa.time=0,qa.from=O.cur,qa.to=a,qa.delta=a-O.cur,qa.tweesing=sa.tweese||sa.init&&!sa.slidee,qa.immediate=!qa.tweesing&&(b||sa.init&&sa.slidee||!o.speed),sa.tweese=0,a!==O.dest&&(O.dest=a,Za("change"),ua||Ca()),Ma(),Ja(),Ka(),Da()}function Ca(){if(t.initialized){if(!ua)return ua=h(Ca),void(sa.released&&Za("moveStart"));qa.immediate?O.cur=qa.to:qa.tweesing?(qa.tweeseDelta=qa.to-O.cur,u(qa.tweeseDelta)<.1?O.cur=qa.to:O.cur+=qa.tweeseDelta*(sa.released?o.swingSpeed:o.syncSpeed)):(qa.time=z(+new Date-qa.start,o.speed),O.cur=qa.from+qa.delta*a.easing[o.easing](qa.time/o.speed,qa.time,0,1,o.speed)),qa.to===O.cur?(O.cur=qa.to,sa.tweese=ua=0):ua=h(Ca),Za("move"),A||(i?L[0].style[i]=j+(o.horizontal?"translateX":"translateY")+"("+-O.cur+"px)":L[0].style[o.horizontal?"left":"top"]=-x(O.cur)+"px"),!ua&&sa.released&&Za("moveEnd")}}function Da(){V[0]&&pa.page!==Z.activePage&&(pa.page=Z.activePage,V.removeClass(o.activeClass).eq(Z.activePage).addClass(o.activeClass),Za("activePage",pa.page))}function Ea(){ra.speed&&O.cur!==(ra.speed>0?O.end:O.start)||t.stop(),xa=sa.init?h(Ea):0,ra.now=+new Date,ra.pos=O.cur+(ra.now-ra.lastTime)/1e3*ra.speed,Ba(sa.init?ra.pos:x(ra.pos)),sa.init||O.cur!==O.dest||Za("moveEnd"),ra.lastTime=ra.now}function Fa(a,b,d){if("boolean"===C(b)&&(d=b,b=c),b===c)Ba(O[a],d);else{if(ea&&"center"!==a)return;var e=t.getPos(b);e&&Ba(e[a],d,!ea)}}function Ga(a){return null!=a?G(a)?a>=0&&a<Y.length?a:-1:X.index(a):-1}function Ia(a){a=I(G(a)?a:O.dest,O.start,O.end);var b={},c=da?0:M/2;if(!A)for(var d=0,e=W.length;e>d;d++){if(a>=O.end||d===W.length-1){b.activePage=W.length-1;break}if(a<=W[d]+c){b.activePage=d;break}}if(fa){for(var f=!1,g=!1,h=!1,i=0,j=Y.length;j>i;i++)if(f===!1&&a<=Y[i].start+Y[i].half&&(f=i),h===!1&&a<=Y[i].center+Y[i].half&&(h=i),i===j-1||a<=Y[i].end+Y[i].half){g=i;break}b.firstItem=G(f)?f:0,b.centerItem=G(h)?h:b.firstItem,b.lastItem=G(g)?g:b.centerItem}return b}function Ja(b){a.extend(Z,Ia(b))}function Ka(){var a=O.dest<=O.start,b=O.dest>=O.end,c=(a?1:0)|(b?2:0);if(pa.slideePosState!==c&&(pa.slideePosState=c,ma.is("button,input")&&ma.prop("disabled",a),na.is("button,input")&&na.prop("disabled",b),ma.add(ja)[a?"addClass":"removeClass"](o.disabledClass),na.add(ia)[b?"addClass":"removeClass"](o.disabledClass)),pa.fwdbwdState!==c&&sa.released&&(pa.fwdbwdState=c,ja.is("button,input")&&ja.prop("disabled",a),ia.is("button,input")&&ia.prop("disabled",b)),fa&&null!=Z.activeItem){var d=0===Z.activeItem,e=Z.activeItem>=Y.length-1,f=(d?1:0)|(e?2:0);pa.itemsButtonState!==f&&(pa.itemsButtonState=f,ka.is("button,input")&&ka.prop("disabled",d),la.is("button,input")&&la.prop("disabled",e),ka[d?"addClass":"removeClass"](o.disabledClass),la[e?"addClass":"removeClass"](o.disabledClass))}}function La(a,b){for(var c=0,d=oa[a].length;d>c;c++)if(oa[a][c]===b)return c;return-1}function Ma(){sa.released&&!t.isPaused&&t.resume()}function Na(a){return x(I(a,T.start,T.end)/T.end*(O.end-O.start))+O.start}function Oa(){sa.history[0]=sa.history[1],sa.history[1]=sa.history[2],sa.history[2]=sa.history[3],sa.history[3]=sa.delta}function Pa(a){sa.released=0,sa.source=a,sa.slidee="slidee"===a}function Qa(b){var c="touchstart"===b.type,d=b.data.source,e="slidee"===d;sa.init||!c&&Ta(b.target)||("handle"!==d||o.dragHandle&&T.start!==T.end)&&(!e||(c?o.touchDragging:o.mouseDragging&&b.which<2))&&(c||D(b),Pa(d),sa.init=0,sa.$source=a(b.target),sa.touch=c,sa.pointer=c?b.originalEvent.touches[0]:b,sa.initX=sa.pointer.pageX,sa.initY=sa.pointer.pageY,sa.initPos=e?O.cur:T.cur,sa.start=+new Date,sa.time=0,sa.path=0,sa.delta=0,sa.locked=0,sa.history=[0,0,0,0],sa.pathToLock=e?c?30:10:0,k.on(c?n:m,Ra),t.pause(1),(e?L:Q).addClass(o.draggedClass),Za("moveStart"),e&&(va=setInterval(Oa,10)))}function Ra(a){if(sa.released="mouseup"===a.type||"touchend"===a.type,sa.pointer=sa.touch?a.originalEvent[sa.released?"changedTouches":"touches"][0]:a,sa.pathX=sa.pointer.pageX-sa.initX,sa.pathY=sa.pointer.pageY-sa.initY,sa.path=v(w(sa.pathX,2)+w(sa.pathY,2)),sa.delta=o.horizontal?sa.pathX:sa.pathY,sa.released||!(sa.path<1)){if(!sa.init){if(!(o.horizontal?u(sa.pathX)>u(sa.pathY):u(sa.pathX)<u(sa.pathY)))return Sa();sa.init=1}D(a),!sa.locked&&sa.path>sa.pathToLock&&sa.slidee&&(sa.locked=1,sa.$source.on(p,E)),sa.released&&(Sa(),o.releaseSwing&&sa.slidee&&(sa.swing=(sa.delta-sa.history[0])/40*300,sa.delta+=sa.swing,sa.tweese=u(sa.swing)>10)),Ba(sa.slidee?x(sa.initPos-sa.delta):Na(sa.initPos+sa.delta))}}function Sa(){clearInterval(va),sa.released=!0,k.off(sa.touch?n:m,Ra),(sa.slidee?L:Q).removeClass(o.draggedClass),setTimeout(function(){sa.$source.off(p,E)}),O.cur===O.dest&&sa.init&&Za("moveEnd"),t.resume(1),sa.init=0}function Ta(b){return~a.inArray(b.nodeName,r)||a(b).is(o.interactive)}function Ua(){t.stop(),k.off("mouseup",Ua)}function Va(a){switch(D(a),this){case ia[0]:case ja[0]:t.moveBy(ia.is(this)?o.moveBy:-o.moveBy),k.on("mouseup",Ua);break;case ka[0]:t.prev();break;case la[0]:t.next();break;case ma[0]:t.prevPage();break;case na[0]:t.nextPage()}}function Wa(a){if(o.keyboardNavBy)switch(a.which){case o.horizontal?37:38:D(a),t["pages"===o.keyboardNavBy?"prevPage":"prev"]();break;case o.horizontal?39:40:D(a),t["pages"===o.keyboardNavBy?"nextPage":"next"]()}}function Xa(){this.parentNode===U[0]&&t.activatePage(V.index(this))}function Ya(a){o.pauseOnHover&&t["mouseenter"===a.type?"pause":"resume"](2)}function Za(a,b){if(oa[a]){for(za=oa[a].length,s.length=0,ya=0;za>ya;ya++)s.push(oa[a][ya]);for(ya=0;za>ya;ya++)s[ya].call(t,a,b)}}var ya,za,o=a.extend({},B.defaults,d),t=this,A=G(b),K=a(b),L=o.slidee?a(o.slidee).eq(0):K.children().eq(0),M=0,N=0,O={start:0,center:0,end:0,cur:0,dest:0},P=a(o.scrollBar).eq(0),Q=P.children().eq(0),R=0,S=0,T={start:0,end:0,cur:0},U=a(o.pagesBar),V=0,W=[],X=0,Y=[],Z={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},$=new J(K[0]),_=new J(L[0]),aa=new J(P[0]),ba=new J(Q[0]),ca="basic"===o.itemNav,da="forceCentered"===o.itemNav,ea="centered"===o.itemNav||da,fa=!A&&(ca||ea||da),ha=(o.scrollSource?a(o.scrollSource):K,o.dragSource?a(o.dragSource):K),ia=a(o.forward),ja=a(o.backward),ka=a(o.prev),la=a(o.next),ma=a(o.prevPage),na=a(o.nextPage),oa={},pa={},qa={},ra={},sa={released:1},ua=0,va=0,wa=0,xa=0;A||(b=K[0]),t.initialized=0,t.frame=b,t.slidee=L[0],t.pos=O,t.rel=Z,t.items=Y,t.pages=W,t.isPaused=0,t.options=o,t.dragging=sa,t.reload=function(){Aa()},t.getPos=function(a){if(fa){var b=Ga(a);return-1!==b?Y[b]:!1}var c=L.find(a).eq(0);if(c[0]){var d=o.horizontal?c.offset().left-L.offset().left:c.offset().top-L.offset().top,e=c[o.horizontal?"outerWidth":"outerHeight"]();return{start:d,center:d-M/2+e/2,end:d-M+e,size:e}}return!1},t.moveBy=function(a){ra.speed=a,!sa.init&&ra.speed&&O.cur!==(ra.speed>0?O.end:O.start)&&(ra.lastTime=+new Date,ra.startPos=O.cur,Pa("button"),sa.init=1,Za("moveStart"),g(xa),Ea())},t.stop=function(){"button"===sa.source&&(sa.init=0,sa.released=1)},t.prev=function(){t.activate(null==Z.activeItem?0:Z.activeItem-1)},t.next=function(){t.activate(null==Z.activeItem?0:Z.activeItem+1)},t.prevPage=function(){t.activatePage(Z.activePage-1)},t.nextPage=function(){t.activatePage(Z.activePage+1)},t.slideBy=function(a,b){a&&(fa?t[ea?"toCenter":"toStart"](I((ea?Z.centerItem:Z.firstItem)+o.scrollBy*a,0,Y.length)):Ba(O.dest+a,b))},t.slideTo=function(a,b){Ba(a,b)},t.toStart=function(a,b){Fa("start",a,b)},t.toEnd=function(a,b){Fa("end",a,b)},t.toCenter=function(a,b){Fa("center",a,b)},t.getIndex=Ga,t.activatePage=function(a,b){G(a)&&Ba(W[I(a,0,W.length-1)],b)},t.resume=function(a){o.cycleBy&&o.cycleInterval&&("items"!==o.cycleBy||Y[0]&&null!=Z.activeItem)&&!(a<t.isPaused)&&(t.isPaused=0,wa?wa=clearTimeout(wa):Za("resume"),wa=setTimeout(function(){switch(Za("cycle"),o.cycleBy){case"items":t.activate(Z.activeItem>=Y.length-1?0:Z.activeItem+1);break;case"pages":t.activatePage(Z.activePage>=W.length-1?0:Z.activePage+1)}},o.cycleInterval))},t.pause=function(a){a<t.isPaused||(t.isPaused=a||100,wa&&(wa=clearTimeout(wa),Za("pause")))},t.toggle=function(){t[wa?"pause":"resume"]()},t.on=function(a,b){if("object"===C(a))for(var c in a)a.hasOwnProperty(c)&&t.on(c,a[c]);else if("function"===C(b))for(var d=a.split(" "),e=0,f=d.length;f>e;e++)oa[d[e]]=oa[d[e]]||[],-1===La(d[e],b)&&oa[d[e]].push(b);else if("array"===C(b))for(var g=0,h=b.length;h>g;g++)t.on(a,b[g])},t.init=function(){if(!t.initialized){t.on(e);var a=["overflow","position"],b=["position","webkitTransform","msTransform","transform","left","top","width","height"];$.save.apply($,a),aa.save.apply(aa,a),_.save.apply(_,b),ba.save.apply(ba,b);var c=Q;return A||(c=c.add(L),K.css("overflow","hidden"),i||"static"!==K.css("position")||K.css("position","relative")),i?j&&c.css(i,j):("static"===P.css("position")&&P.css("position","relative"),c.css({position:"absolute"})),o.forward&&ia.on(q,Va),o.backward&&ja.on(q,Va),o.prev&&ka.on(p,Va),o.next&&la.on(p,Va),o.prevPage&&ma.on(p,Va),o.nextPage&&na.on(p,Va),U[0]&&o.activatePageOn&&U.on(o.activatePageOn+"."+f,"*",Xa),ha.on(l,{source:"slidee"},Qa),Q&&Q.on(l,{source:"handle"},Qa),k.on("keydown",Wa),A||(K.on("mouseenter."+f+" mouseleave."+f,Ya),K.on("scroll."+f,F)),t.initialized=1,Aa(!0),o.cycleBy&&!A&&t[o.startPaused?"pause":"resume"](),t}}}function C(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof a}function D(a,b){a.preventDefault(),b&&a.stopPropagation()}function E(b){D(b,1),a(this).off(b.type,E)}function F(){this.scrollLeft=0,this.scrollTop=0}function G(a){return!isNaN(parseFloat(a))&&isFinite(a)}function H(a,b){return 0|x(String(a.css(b)).replace(/[^\-0-9.]/g,""))}function I(a,b,c){return b>a?b:a>c?c:a}function J(a){var b={};return b.style={},b.save=function(){if(a&&a.nodeType){for(var c=0;c<arguments.length;c++)b.style[arguments[c]]=a.style[arguments[c]];return b}},b.restore=function(){if(a&&a.nodeType){for(var c in b.style)b.style.hasOwnProperty(c)&&(a.style[c]=b.style[c]);return b}},b}var i,j,d="TG_Slider",e="TG_Slider",f=d,g=b.cancelAnimationFrame||b.cancelRequestAnimationFrame,h=b.requestAnimationFrame,k=a(document),l="touchstart."+f+" mousedown."+f,m="mousemove."+f+" mouseup."+f,n="touchmove."+f+" touchend."+f,o=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+f,p="click."+f,q="mousedown."+f,r=["INPUT","SELECT","BUTTON","TEXTAREA"],s=[],u=Math.abs,v=Math.sqrt,w=Math.pow,x=Math.round,y=Math.max,z=Math.min,A=0;k.on(o,function(a){var b=a.originalEvent[f],c=+new Date;(!b||b.options.scrollHijack<c-A)&&(A=c)}),function(a){function c(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-b)),e=setTimeout(a,d);return b=c,e}h=a.requestAnimationFrame||a.webkitRequestAnimationFrame||c;var b=(new Date).getTime(),d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout;g=function(b){d.call(a,b)}}(window),function(){function c(c){for(var d=0,e=a.length;e>d;d++){var f=a[d]?a[d]+c.charAt(0).toUpperCase()+c.slice(1):c;if(null!=b.style[f])return f}}var a=["","Webkit","Moz","ms","O"],b=document.createElement("div");i=c("transform"),j=c("perspective")?"translateZ(0) ":""}(),b[e]=B,a.fn[d]=function(b,c){var d,e;return a.isPlainObject(b)||(("string"===C(b)||b===!1)&&(d=b===!1?"destroy":b,e=Array.prototype.slice.call(arguments,1)),b={}),this.each(function(g,h){var i=a.data(h,f);i||d?i&&d&&i[d]&&i[d].apply(i,e):i=a.data(h,f,new B(h,b,c).init())})}}(jQuery,window),jQuery.noConflict();var The_Grid={preview:"#tg-grid-preview-inner",
wrapper:".tg-grid-wrapper",slider:".tg-grid-slider",grid:".tg-grid-holder",loader:".tg-grid-preloader",ajax:".tg-ajax-button",ajaxMsg:".tg-ajax-scroll-holder",sizer:".tg-grid-sizer",gutter:".tg-gutter-sizer",item:".tg-item",itemImg:".tg-item-image",gallery:".tg-item-gallery-holder",tooltip:".tg-filter-count",filterH:".tg-filters-holder",filter:".tg-filter, .tg-filters-holder select",search:".tg-search",clear:".tg-search-clear",sorter:".tg-sorters-holder",sorterBy:".tg-sorter li, select.tg-sorter",sortASC:".tg-sorter-order",arrLeft:".tg-left-arrow",arrRight:".tg-right-arrow",bullets:".tg-slider-bullets",pages:".tg-page-ajax",sortData:{excerpt:"p",title:function(a){return jQuery(a).data("title")},id:function(a){return jQuery(a).data("id")},date:function(a){return jQuery(a).data("date")},author:function(a){return jQuery(a).data("author")},comment:function(a){return jQuery(a).data("comment")},popular_post:function(a){return jQuery(a).data("popular-post")},total_sales:function(a){return jQuery(a).data("total-sales")},regular_price:function(a){return jQuery(a).data("regular-price")},sale_price:function(a){return jQuery(a).data("sale-price")},featured:function(a){return jQuery(a).data("featured")},stock:function(a){return jQuery(a).data("stock")},sku:function(a){return jQuery(a).data("sku")}},defaults:{style:"grid",layout:"vertical",fullWidth:null,fullHeight:null,rtl:!0,filterComb:!1,filterLogic:"AND",filterLoad:"",sortByLoad:"",orderLoad:!1,row:1,ratio:1,gutters:[[9999,0],[1200,0],[980,0],[768,0],[480,0],[320,0]],cols:[[9999,4],[1200,3],[980,3],[768,2],[480,1],[320,1]],rows:[[9999,240],[1200,240],[980,220],[768,220],[480,200],[320,200]],animation:[{name:"None"},{visible:""},{hidden:""}],transition:0,itemNav:null,swingSpeed:500,cycleBy:null,cycle:5e3,startAt:0,ajaxMethod:null,ajaxDelay:0,preloader:0,itemDelay:0,gallery:!1}},tg_meta_data=tg_global_var.meta_data,tg_custom_sorter={};if(tg_meta_data)for(var i=0;i<tg_meta_data.length;i++){var tg_cmk=tg_meta_data[i].key;tg_cmk=tg_cmk.length&&"_"==tg_cmk[0]?tg_cmk.slice(1):tg_cmk;var tg_cma=tg_cmk.replace(/\_/g,"-");!function(a){tg_custom_sorter[tg_cmk]=function(b){return jQuery(b).data(a)}}(tg_cma)}The_Grid.sortData=jQuery.extend({},The_Grid.sortData,tg_custom_sorter);var tg_debounce_resize=tg_global_var.debounce?"debouncedresize":"resize",tg_is_mobile=tg_global_var.is_mobile;!function(a){"use strict";function h(){var b,c,d,e,f,g,h=window.navigator.userAgent.indexOf("Edge/"),i="ontouchstart"in window||navigator.msMaxTouchPoints,j="div:not(.tg-item-gallery-holder) > .tg-item-image, .tg-item-media-poster, .tg-item-audio-poster, .tg-item-gallery-holder",k=.4,l=0;!i&&!a("body").hasClass("is-ie")&&0>h&&a(document).on("mousemove",".tg-panZ",function(h){b=a(this),e=b.width(),d=b.height(),c=b.closest(".tg-item").offset();var i=Date.now();i>l+80&&(l=i,window.requestAnimationFrame(function(){f=.08*-(h.pageX-c.left-e/2)*k,g=.08*-(h.pageY-c.top-d/2)*k,a(h.target).closest(".tg-item").find(j).css({"-webkit-transform":"matrix(1.08, 0, 0, 1.08,"+f+","+g+")","-moz-transform":"matrix(1.08, 0, 0, 1.08,"+f+","+g+")"})}))}).on("mouseleave",".tg-panZ",function(b){setTimeout(function(){a(b.target).closest(".tg-item").find(j).css({"-webkit-transform":"","-moz-transform":""})},80)})}function j(){function h(a,b){var c=e.scrollTop||d.scrollTop,f=e.scrollLeft,g=a.pageX,h=a.pageY,i=b[0].getBoundingClientRect(),j=b[0].clientWidth||b[0].offsetWidth||b[0].scrollWidth,k=b[0].clientHeight||b[0].offsetHeight||b[0].scrollHeight,l=320/j,m=.52-(g-i.left-f)/j,n=.52-(h-i.top-c)/k,o=h-i.top-c-k/2,p=g-i.left-f-j/2,q=(m-p)*(.07*l),r=(o-n)*(.1*l),s=k>j?k/j*2:1,t=3*j*s,u="perspective("+t+"px) rotateX("+r+"deg) rotateY("+q+"deg) scale3d(1.03,1.03,1.03)";b.css("transform",u+" translateX("+2*m*(2.5/l)+"px) translateY("+1*n*(2.5/l)+"px)")}function i(a){a.addClass("over")}function j(a){a.removeClass("over"),setTimeout(function(){var b=a[0].clientWidth||a[0].offsetWidth||a[0].scrollWidth;a.css("transform","perspective("+3*b+"px) rotateX(0deg) rotateY(0deg) translateZ(0)")},80)}var b=document,c=0,d=b.getElementsByTagName("html")[0],e=b.getElementsByTagName("body")[0],f="ontouchstart"in window||navigator.msMaxTouchPoints,g=a("body").hasClass("is-ie")?1:80;f||a(document).on("mousemove",".tg-atv-anim",function(b){var d=a(this),e=Date.now();e>c+g&&(c=e,window.requestAnimationFrame(function(){h(b,d)}))}).on("mouseenter",".tg-atv-anim",function(b){i(a(this))}).on("mouseleave",".tg-atv-anim",function(b){j(a(this))})}function k(a){var b=[],c=626,d=436,e=Math.round(window.screenX+(window.outerWidth-c)/2),f=Math.round(window.screenY+(window.outerHeight-d)/2);return b.url=encodeURIComponent(a.closest(".tg-item").find(".tg-item-title a").attr("href")),b.title=encodeURIComponent(a.closest(".tg-item").find(".tg-item-title a").text()),b.text=encodeURIComponent(a.closest(".tg-item").find(".tg-item-excerpt").text()),b.title.length>140&&(b.title=b.title.substring(0,140)),b.text.length>120&&(b.text=b.text.substring(0,120)),b.img=encodeURIComponent(a.closest(".tg-item").find("img.tg-item-image").attr("src")),b.props=["width="+c,"height="+d,"left="+e,"top="+f,"status=0","resizable=1","location=0","toolbar=0"].join(","),b}a.fn.The_Grid=function(b){return this.each(function(){function _(a){var b=K.not(".tg-item-hidden").length;a.length===b&&p.reload()}function aa(b){for(var c=0;c<a(b).length;c++)for(var e,f,d=a(b).eq(c),g=d.get(0).attributes,h=0;h<g.length;h++)e=g[h].name,f=g[h].value,0===e.indexOf("data-")&&"data-row"!==e&&"data-col"!==e&&(d.removeAttr(e),d.data(e.replace("data-",""),f),h--)}function ba(c){if(!m)return!1;var d;K.removeClass("tg-item-index"),N.val(""),Y.filterComb?(d=[],z="*"===c.data("filter")?c.nextAll("[data-filter]").removeClass("tg-filter-active"):c.prevAll('[data-filter="*"]').removeClass("tg-filter-active"),z="*"===c.data("filter")?c.closest("select").find("option").prop("selected",!1):c.closest("select").find('[data-filter="*"]').prop("selected",!0),c.toggleClass("tg-filter-active"),C.find(".tg-filter-active").each(function(){"*"!=a(this).data("filter")&&d.push(a(this).data("filter"))}),d="AND"===Y.filterLogic?ca(d):d.join(", ")):(d=c.data("filter"),M.removeClass("tg-filter-active"),c.addClass("tg-filter-active")),z=!d&&C.find('[data-filter="*"]').addClass("tg-filter-active"),da(),b.TG_Layout({filter:d}),a.TG_Pause_Players()}function ca(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=a[c]);return b}function da(){L.each(function(b,c){var d=a(this).find(The_Grid.filter+".tg-filter-active").length;z=0===d&&a(this).find('[data-filter="*"]').addClass("tg-filter-active")})}function ea(a){return m?(e="none"===a.data("value")?"":a.data("value"),f=a.text(),k=R.data("asc"),K.removeClass("tg-item-index"),P.find(".tg-dropdown-value").text(f),void b.TG_Layout({sortAscending:k,sortBy:e})):!1}function ga(){if(Y.fullWidth&&0===D.length){C.css("left",0);var b=parseInt(C.css("margin-left")),c=parseInt(C.css("margin-right")),d=C.offset().left-b;C.width(a(window).width()-(b+c)),C.css("left",-d)}}function ha(){if(Y.gallery){var b;ja(),!The_Grid.galleryInt&&a(The_Grid.gallery).length>0&&(The_Grid.galleryInt=setInterval(function(){g=Math.floor(Math.random()*j.length),h=h===g&&j.length>0?ia(j,g+1):g,b=a(The_Grid.gallery).eq(h),i=j.length>0?ia(j[h],b.find(".show").index()-1+2):0,b.find(The_Grid.itemImg).removeClass("show"),b.find(The_Grid.itemImg).eq(i).addClass("show")},3500))}}function ia(a,b){return(a.length+b%a.length)%a.length}function ja(){j=[];for(var b=a(The_Grid.gallery),c=0;c<b.length;c++){var d=a(b[c]).find(The_Grid.itemImg);j[c]=[];for(var e=0;e<d.length;e++)j[c][e]=a(d[e])}}function ka(){for(var a=0;a<M.length;a++){var c=M.eq(a).data("filter"),d=V.length>0?".tg-item-hidden":null,e="*"!==c?b.find(c).not(d).length:K.not(d).length;M.eq(a).find(The_Grid.tooltip).html(e),z=M.eq(a).find("span:first-child").data("count")&&M.eq(a).find("span:first-child").data("tooltip",e),z=0===e?M.eq(a).removeClass("tg-show-filter"):M.eq(a).addClass("tg-show-filter")}}function la(){if(G.length>0)if(l=G.data("item-tt")?G.data("item-tt")-K.length:99999,0>=l)G.addClass("tg-no-more"),G.find("span").text(G.data("no-more")),setTimeout(function(){G.fadeOut(500)},3e3);else{var a=G.data("button");z=G.data("remain")?G.find("span").text(a+" ("+l+")"):G.find("span").text(a)}}function ma(){var e,d=0,f=b.data("TG_Layout");z=0===V.length?F.remove():F.hide(),C.removeClass("tg-grid-loading"),c=f.filteredItems,c.length>0?e=window.tgInterval(function(){b.closest("body").length>0&&(a(c[d].element).removeClass("tg-item-reveal"),z=Y.itemDelay&&b.TG_Layout("reveal",[c[d]]),d!==c.length-1&&Y.itemDelay||(m=!0,K.removeClass("tg-item-reveal"),C.addClass("tg-grid-loaded"),z=!Y.itemDelay&&b.TG_Layout("reveal",c),e.clear()),d++)},Y.itemDelay):(m=!0,K.removeClass("tg-item-reveal"),C.addClass("tg-grid-loaded"))}function na(){for(var c="justified"!==Y.style?Y.cols:Y.rows,d=oa().width,e=0,f=c.length;f>e&&c[e][0]>=d;e++)u=c[e][1],q=Y.gutters[e][1];if(J.width(q),"justified"!==Y.style){var g=C.width();if(v=g/u-q,"vertical"===Y.layout&&(b.width(""),x=(u-1)*q,v=(g-x)/u,v=v%1!==0?Math.ceil(v):v,y=u*v+x,b.css("left",-(y-b.width())/2+"px"),b.width(y)),Y.fullHeight&&"horizontal"===Y.layout){var h=a("#wpadminbar").height();w=0===D.length?(a(window).height()-h-q*(Y.row-1))/Y.row:D.height()/Y.row}else w=Math.round(v/Y.ratio)}else w=u,I.height(w);z="null"===Y.itemNav&&E.css("padding","0 "+q/2+"px")}function oa(){if(0===D.length){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"]}}return{width:D.width()}}function pa(){if("justified"!==Y.style){I.width(v);for(var a=0;a<K.length;a++){var b=K.eq(a).data("col"),c=K.eq(a).data("row");c="horizontal"===Y.layout&&c>Y.row?Y.row:c,1===u?(r=v,s=w):b>u?(t=Math.round(u/(b/c)),t=1>=t?1:t,r=u*v+(u-1)*q,s=1===t?w:t*w+(t-1)*q):(r=b*v+(b-1)*q,s=c*w+(c-1)*q),K.eq(a).width(r),z="grid"===Y.style?K.eq(a).height(s):null}}}function qa(){if("horizontal"===Y.layout){var c;"masonry"===Y.style?(C.removeClass("tg-grid-loading"),c=Math.max.apply(null,K.map(function(){return a(this).height()}).get()),b.add(E).height(c)):(c=w*Y.row+q*(Y.row-1),b.add(E).height(c))}}function ra(){var a,c,d=!1;"horizontal"===Y.layout?(d=!0,a=c="grid"===Y.style?"packery":"justified"===Y.style?"justified":"horizontal"):a=c="grid"===Y.style?"packery":Y.style;var e={};e[c]={},e.hiddenStyle={},e.visibleStyle={},e.layoutMode=a,e.filter=Y.filterLoad,"none"!==Y.sortByLoad&&(e.sortBy=Y.sortByLoad),e.sortAscending=Y.orderLoad,e.isOriginLeft=Y.rtl,e.itemSelector=The_Grid.item,e[c].gutter=J[0],e[c].rowHeight=I[0],e[c].columnWidth=I[0],e[c].isHorizontal=d,e[c].image=The_Grid.itemImg,e[c].row=Y.row,e[c].previewMode=D,e.hiddenStyle.opacity=0,e.visibleStyle.opacity=1,e.hiddenStyle.transform=Y.animation.hidden,e.visibleStyle.transform=Y.animation.visible,e.transitionDuration=Y.transition,e.getSortData=The_Grid.sortData,b.TG_Layout(e),aa(K)}function sa(){if("horizontal"===Y.layout){var c=b.data("TG_Layout"),d=c.filteredItems,e=Y.startAt=Y.startAt-1>d.length?d.length:Y.startAt;"forceCentered"===Y.itemNav&&0===U.length&&(U=a(a('<div class="tg-slider-bullets"></div>')).appendTo(C).hide()),p=new TG_Slider(E,{itemSelector:".tg-item:not(.tg-item-hidden)",cycleBy:Y.cycleBy,cycleInterval:Y.cycle,pauseOnHover:1,itemNav:Y.itemNav,startAt:Y.startAt-1,smart:1,horizontal:1,easing:"easeOutExpo",speed:1e3,swingSpeed:Y.swingSpeed,releaseSwing:1,mouseDragging:1,touchDragging:1,elasticBounds:1,moveBy:r,syncSpeed:.8,keyboardNavBy:"pages",activeClass:"tg-active-item",disabledClass:"tg-disabled",draggedClass:"tg-slider-dragged",pageBuilder:function(){return"<li><span></span></li>"},pagesBar:U,prevPage:S,nextPage:T,activatePageOn:"click"}).init(),E.data("slider",p).trigger("tg-slider-init"),"forceCentered"===Y.itemNav&&(a(d[e-1].element).addClass("tg-active-item"),p.on("load activePage",function(e){e=this.rel.activePage,c=b.data("TG_Layout"),d=c.filteredItems,K.removeClass("tg-active-item"),z=d[e]&&a(d[e].element).addClass("tg-active-item")}))}}function ta(b){if(A&&(3==A.readyState||2==A.readyState||1==A.readyState))return!1;var c={action:"the_grid_load_more",grid_nonce:tg_global_var.nonce,grid_name:b.data("name"),grid_page:o,grid_data:ua(),grid_ajax:b.data("ajax"),main_query:tg_global_var.main_query};A=a.ajax({url:tg_global_var.url,type:"post",datatype:"json",data:c,beforeSend:function(){n=!0,o+=1,z=G.data("loading")&&!G.hasClass("tg-no-more")&&G.find("span").text(G.data("loading")),z=a(H).length>0&&0===G.length&&a(H).addClass("tg-loading")},success:function(c){var d=c.success,e=c.message,f=c.content,g=c.ajax_data,h=!0;try{g=a.parseJSON(g)}catch(i){h=!1}if(b.data("ajax",g),!d)return G.add(a(H)).add(V).removeClass("tg-loading"),F.find("> div").html(e),G.find("span").text(e),a(H).children("div").text(e),o-=1,!1;if(!f)return G.data("item-tt",-1),la(),a(H).children("div").text(a(H).children("div").data("no-more")),setTimeout(function(){a(H).fadeOut(400)},1e3),o-=1,!1;var j=a(f);z=0===V.length&&j.addClass("tg-item-index"),j.find(The_Grid.grid).length>0&&(j=j.find(The_Grid.item).removeClass("tg-item-reveal")),b.append(j),K=b.find(The_Grid.item),j.hide(),pa(),a.TG_media_init(),ka(),ja(),ha(),va(),j=a(a.grep(j,function(a){return"undefined"!=typeof a.id}));var k=j.length-1;j.the_grid_images_loaded({complete:function(){var e,d=0;F.hide(),z=c&&a(H).removeClass("tg-loading"),z="horizontal"===Y.layout&&b.css("min-height",""),z="masonry"===Y.style&&"horizontal"===Y.layout&&qa(),e=window.tgInterval(function(){if(b.closest("body").length>0){if(z=Y.ajaxDelay&&b.TG_Layout("appended",j.eq(d)),z="horizontal"===Y.layout&&p.reload(),k===d||!Y.ajaxDelay)return ka(),la(),z=!Y.ajaxDelay&&b.TG_Layout("appended",j),z="horizontal"===Y.layout&&p.reload(),V.removeClass("tg-loading"),n=!1,e.clear(),z="undefined"!=typeof FOOBOX&&a.isFunction(FOOBOX.init)&&FOOBOX.init(),z=a().fancybox&&a(".tg-item a.fancybox").fancybox(),z=a().prettyPhoto&&a('.tg-item  a[rel^="prettyPhoto"]').prettyPhoto(),aa(K),!1;d++}},Y.ajaxDelay)}})},error:function(a,b,c){o-=1,console.error(a),console.error(b+" :: "+c)}})}function ua(){return D.length>0?new TG_metaData(a("#the_grid_metabox .tomb-row")):void 0}function va(){D.length>0&&TG_excludeItem()}var c,d,e,f,g,h,i,p,q,r,s,t,u,v,w,x,y,z,b=a(this),j=[],k=!0,l=!0,m=!1,n=!1,o=1,A=null,B=b.closest(The_Grid.wrapper).attr("id"),C=a('[id="'+B+'"]').length>1?b.closest(The_Grid.wrapper):a("#"+B),D=C.closest(The_Grid.preview),E=C.find(The_Grid.slider),F=C.find(The_Grid.loader),G=C.find(The_Grid.ajax),H=C.find(The_Grid.ajaxMsg),I=C.find(The_Grid.sizer),J=C.find(The_Grid.gutter),K=C.find(The_Grid.item),L=C.find(The_Grid.filterH),M=C.find(The_Grid.filter),N=C.find(The_Grid.search),O=C.find(The_Grid.clear),P=C.find(The_Grid.sorter),Q=C.find(The_Grid.sorterBy),R=C.find(The_Grid.sortASC),S=C.find(The_Grid.arrLeft),T=C.find(The_Grid.arrRight),U=C.find(The_Grid.bullets),V=C.find(The_Grid.pages),W=b.data(),X={style:W.style&&W.style,layout:W.layout&&W.layout,fullWidth:W.fullwidth&&W.fullwidth,fullHeight:W.fullheight&&W.fullheight,rtl:W.rtl&&W.rtl,filterComb:W.filtercomb&&W.filtercomb,filterLogic:W.filterlogic&&W.filterlogic,filterLoad:W.filterload&&W.filterload,sortByLoad:W.sortbyload&&W.sortbyload,orderLoad:W.orderload&&W.orderload,row:W.row&&W.row,ratio:W.ratio&&W.ratio,gutters:W.gutters&&W.gutters,cols:W.cols&&W.cols,rows:W.rows&&W.rows,animation:W.animation&&W.animation,transition:W.transition&&W.transition,itemNav:W.slider&&W.slider.itemNav,swingSpeed:W.slider&&W.slider.swingSpeed,cycleBy:W.slider&&W.slider.cycleBy,cycle:W.slider&&W.slider.cycle,startAt:W.slider&&W.slider.startAt,ajaxMethod:W.ajaxmethod&&W.ajaxmethod,ajaxDelay:W.ajaxdelay&&W.ajaxdelay,preloader:W.preloader&&W.preloader,itemDelay:W.itemdelay&&W.itemdelay,gallery:W.gallery&&W.gallery},Y=a.extend({},The_Grid.defaults,X);Y.cols.sort(function(a,b){return b[0]-a[0]}),Y.gutters.sort(function(a,b){return b[0]-a[0]}),Y.rows.sort(function(a,b){return b[0]-a[0]}),Y.rtl=Y.rtl?!1:!0,Y.ajaxDelay=V.length>0?Y.itemDelay:Y.ajaxDelay;for(var Z=a.map(W,function(a,b){return b}),$=0;$<Z.length;$++)b.removeAttr("data-"+Z[$]);ga(),na(b),pa(),ha(),ka(),"masonry"===Y.style||"justified"===Y.style||Y.preloader||"horizontal"===Y.layout?K.the_grid_images_loaded({complete:function(){qa(),ra(),sa(),z=Y.preloader&&ma(),z="horizontal"===Y.layout&&b.TG_Layout("on","arrangeComplete",function(a){_(a)})}}):(ra(),sa(),z="horizontal"===Y.layout&&b.TG_Layout("on","arrangeComplete",function(a){_(a)})),m=!Y.preloader&&!0,z=m&&C.addClass("tg-grid-loaded"),M.on("click",function(b){var c=a(this);c.is("select")?M.one("change",function(){ba(c.find("option:selected"))}):ba(c)}),tg_is_mobile?Q.on("change",function(){ea(a(this).find("option:selected"))}):Q.on("click",function(){ea(a(this))}),R.on("click",function(){if(!m)return!1;var c=a(this);k=c.data("asc")===!0?!1:!0,c.data("asc",k).attr("data-asc",k),K.removeClass("tg-item-index"),b.TG_Layout({sortAscending:k})});var fa=N.keyup(debounce(function(){if(!m)return!1;var c=new RegExp(fa.val(),"gi");K.removeClass("tg-item-index"),M.removeClass("tg-filter-active"),b.TG_Layout({filter:function(){var b=a(this),e=c?b.text().match(c):!0,f=d?b.is(d):!0;return a('.tg-filter[data-filter="*"]').addClass("tg-filter-active"),e&&f}}),a.TG_Pause_Players()},200));O.on("click",function(){N.val("").trigger("keyup")}),a(window).on(tg_debounce_resize,function(){ga(),na(),pa(),qa(),z=m&&b.closest("body").length>0&&b.TG_Layout("layout"),z="horizontal"===Y.layout&&b.TG_Layout("once","layoutComplete",function(a){_(a)})}),V.on("click",function(c){c.preventDefault();var d=a(this);o=d.data("page"),d.is(".tg-page-current")||A&&(!A||4!=A.readyState)||n||!m||(P.find(".tg-dropdown-value").text(""),N.val(""),M.removeClass("tg-filter-active"),a('.tg-filter[data-filter="*"]').addClass("tg-filter-active"),V.removeClass("tg-page-current").addClass("tg-loading"),d.addClass("tg-page-current"),a(".tg-item-hidden").addClass("tg-item-removed"),a.TG_media_destroy(b),b.css("min-height",250).TG_Layout("remove",K).TG_Layout({filter:"*"}),b.contents().each(function(){z=8==this.nodeType?a(this).remove():null}),F.show(),ta(b))}),G.on("click",function(a){l&&(a.preventDefault(),ta(b))}),"on_scroll"==Y.ajaxMethod&&a(window).on("mousewheel resize scroll",function(){var a=C.the_grid_visible();z=a===!0&&m===!0&&ta(b)})})};var b=[];a.fn.the_grid_images_loaded=function(){function j(){return e++,e>=f.length?(d.complete.call(c),!1):void 0}var g,c=a(this),d=a.extend({complete:function(){}},arguments[0]||{}),e=0,f=[];c.find("*").filter(function(){g=a(this).css("background-image"),g=/^url\((['"]?)(.*)\1\)$/.exec(g),g=g?g[2]:null,g=!g&&a(this).is("img")?a(this).attr("src"):g,g=g&&g.match(/\.(jpg|jpeg|png|bmp|gif|tif|tiff|jif|jfif)/g)?g:null,g&&-1==a.inArray(g,b)&&(f.push(g),b.push(g))});for(var h=[],i=0;i<f.length;i++)h[i]=new Image,h[i].onload=j,h[i].onerror=j,h[i].onabort=j,h[i].src=f[i];return f.length?void 0:(d.complete.call(c),!1)};var c=a(window);a.fn.the_grid_visible=function(){if(!(this.length<1)){var a=this.length>1?this.eq(0):this,b=a.get(0),d=c.height(),e=!1;if("function"==typeof b.getBoundingClientRect){var f=b.getBoundingClientRect();e=f.bottom<d}else{var g=c.scrollTop(),h=g+d,i=a.offset(),j=i.top,k=j+a.height();e=h>k}return e}},a(document).ready(function(){function d(b){if(b.data("list-DOM")){var d=b.data("list-DOM").removeClass(c),e=setTimeout(function(){d.remove(),d=null,b.data("list-DOM",d)},400);a(b.data("list-DOM")).data("list-timer",e)}return!1}function e(b){var c=b.parent().offset(),d=b.parent().height(),e="relative"===a("body").css("position")?a(window).scrollTop()+a("body")[0].getBoundingClientRect().top:null,f=parseInt(b.css("margin-bottom")),g=b.outerWidth(),h=c.left,i=c.top+d-e-f,j=[];return j.top=i,j.left=h,j.width=g,j}var b,c="tg-dropdown-holder-animation";tg_is_mobile||(a(document).on("mouseenter",".tg-dropdown-holder",function(d){d.preventDefault(),d.stopPropagation();var f=a(this),g=a(f.data("list-DOM")).data("list-timer");if(g)return clearTimeout(g),f.data("list-DOM").addClass(c),!1;b=f.find("ul");var h=b.clone(!0).addClass("tg-list-appended").attr("style","").appendTo("body");f.add(h).data("list-DOM",h),h.data("filter-DOM",f);var i=e(f);b.hide(),h.css({position:"absolute","z-index":99999,width:i.width,top:i.top,left:i.left}).addClass(c)}).on("mouseleave",".tg-dropdown-holder",function(b){d(a(this))}),a(document).on("mouseenter touchstart",".tg-list-appended",function(b){var d=a(this);return d.data("list-DOM")?(clearTimeout(d.data("list-timer")),d.data("list-DOM").addClass(c),!1):void 0}).on("mouseleave touchend",".tg-list-appended",function(b){d(a(this))}),a(document).on("click touchstart",".tg-list-appended li",function(){var b=a(this).closest("ul"),c=b.data("filter-DOM");c.find('[data-filter="'+a(this).data("filter")+'"]').trigger("click"),c.find('[data-value="'+a(this).data("value")+'"]').trigger("click"),b.width(c.outerWidth()),b.css("left",c.offset().left);var d=e(c);d.top!==b.position().top?b.css("top",d.top):(b.find("li").removeClass("tg-filter-active"),c.find(".tg-filter-active").each(function(c){b.find("li").eq(a(this).index()).addClass("tg-filter-active")}))}))}),a.fn.TG_ToolTip=function(b){var c="tooltip-DOM",d="tooltip-timer";a(document).on("mouseenter",a(this).selector,function(){var e=a(this);if(!e.data(b.data))return!1;if(e.data(c))return clearTimeout(e.data(d)),e.data(c).addClass(b.hoverClass.split(".").join("")),!1;var f=a('<div class="'+b.appendClass.split(".").join("")+'"></div>').appendTo("body");e.data(c,f);var g=e.data(b.data),h=e.offset(),i="relative"===a("body").css("position")?a(window).scrollTop()+a("body")[0].getBoundingClientRect().top:null,j=h.top-i,k=h.left,l=e.outerWidth(!0);f.html(g).css({position:"absolute","z-index":b.zindex,width:l,top:j+b.spacing-f.outerHeight(!0),left:k+l/2}).addClass(b.hoverClass.split(".").join(""))}).on("mouseleave",a(this).selector,function(){var e=a(this);if(!e.data(b.data)||!e.data(c))return!1;var f=e.data(c).removeClass(b.hoverClass.split(".").join("")),g=setTimeout(function(){f.remove(),f=null,e.data(c,f)},400);e.data(d,g)})},a(document).ready(function(){a(".tg-filter-name").TG_ToolTip({data:"tooltip",zindex:99999,place:"top",appendClass:".tg-filter-tooltip",hoverClass:".tg-tooltip-hover",spacing:-2})});var d="tg-media-init",e=".tg-item",f=function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");do b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->";while(c[0]);return a>4?a:document.documentMode}();f&&a("body").addClass("is-ie"),a.fn.TG_SoundCloud=function(){return this.each(function(){var b=a(this).closest(e),c=a(this).attr("src");if(!b.hasClass(d)&&"about:blank"!==c){var f=SC.Widget(a(this).attr("id"));f.bind(SC.Widget.Events.READY,function(){(!f.getCurrentSound&&tg_is_mobile||!tg_is_mobile)&&f.play(),a.TG_Media_Ready(b,f,"STD"),f.bind(SC.Widget.Events.PLAY,function(){a.TG_Media_Play(b)}),f.bind(SC.Widget.Events.PAUSE,function(){a.TG_Media_Pause(b)}),f.bind(SC.Widget.Events.FINISH,function(){a.TG_Media_Pause(b)})})}})};var g={};a.fn.TG_Youtube=function(){return this.each(function(){var b=a(this).closest(e),c=a(this).attr("src");if(!b.hasClass(d)&&"about:blank"!==c){var f=this.id;g[f]=new YT.Player(f,{events:{onReady:function(c){tg_is_mobile||c.target.playVideo(),a.TG_Media_Ready(b,c.target,"YT")},onStateChange:function(c){1===c.data&&a.TG_Media_Play(b),(2===c.data||0===c.data)&&a.TG_Media_Pause(b)}}})}})},a.fn.TG_Vimeo=function(){return this.each(function(){var b=a(this).closest(e),c=a(this).attr("src");if(9>=f&&(a(this).remove(),b.find(".tg-media-button").remove()),!b.hasClass(d)&&"about:blank"!==c){a(this).attr("src",a(this).attr("src"));var g=$f(this);g.addEvent("ready",function(){g.api("play"),a.TG_Media_Ready(b,g,"VM"),g.addEvent("play",function(){a.TG_Media_Play(b)}),g.addEvent("pause",function(){a.TG_Media_Pause(b)}),g.addEvent("finish",function(){a.TG_Media_Pause(b)})})}})},a.fn.TG_Wistia=function(){return this.each(function(){var b=a(this).closest(e),c=a(this).attr("src");b.hasClass(d)||"about:blank"===c||a(this).load(function(){var c=a(this)[0].wistiaApi,d=!1,e=!1,f=!1;a.TG_Media_Ready(b,c,"STD"),c&&(c.play(),c.bind("seek",function(){e=!0}),c.bind("heightchange",function(){f=!0}),c.bind("play",function(){e===!1&&f===!1&&d&&a.TG_Media_Play(b),e=f=!1}),c.bind("pause",function(){e===!1&&f===!1&&a.TG_Media_Pause(b),f=d=!0}),c.bind("finish",function(){a.TG_Media_Pause(b)}))})})},a.fn.TG_HTML_Player=function(){return this.each(function(){var b=a(this).closest(e);if(!b.hasClass(d)){var c=a(this)[0];c.addEventListener&&(a.TG_Media_Ready(b,c,"STD"),c.addEventListener("play",function(){a.TG_Media_Play(b)}),c.addEventListener("pause",function(){a.TG_Media_Pause(b)}),c.addEventListener("ended",function(){a.TG_Media_Pause(b)}))}})},a.TG_Media_Ready=function(a,b,c){a.data("pause-method",c).data("media-player",b).addClass(d)},a.TG_Media_Play=function(b){b.hasClass("tg-force-play")||a.TG_Pause_Players(),b.addClass("tg-is-playing"),a(e).removeClass("tg-force-play")},a.TG_Media_Pause=function(a){a.removeClass("tg-is-playing tg-force-play")},a(document).on("click",".tg-item:not(.tg-media-init) .tg-item-button-play",function(b){b.preventDefault();var c=a(this).closest(".tg-item"),d=c.find("iframe");d.attr("src",d.data("src")),a.TG_Pause_Players(),a.TG_media_init(),c.addClass("tg-force-play")}),a(document).on("click",".tg-item.tg-media-init .tg-item-button-play",function(b){b.preventDefault();var c=a(this).closest(".tg-item"),f=c.data("pause-method"),g=c.data("media-player");if(g&&c.hasClass(d))switch(c.find(".tg-item-media").show(),a.TG_Pause_Players(),a(e).removeClass("tg-force-play tg-play-error"),c.addClass("tg-force-play"),f){case"STD":(!g.getCurrentSound&&tg_is_mobile||!tg_is_mobile)&&g.play();break;case"YT":g.playVideo();break;case"VM":g.api("play")}}),a.TG_Pause_Players=function(){a(".tg-item.tg-is-playing, .tg-item.tg-force-play").each(function(){var b=a(this),c=b.data("pause-method"),f=b.data("media-player");if(f&&b.hasClass(d)){switch(c){case"STD":f.pause();break;case"YT":f.pauseVideo();break;case"VM":f.api("pause")}b.closest(e).removeClass("tg-is-playing tg-force-play")}})},a.TG_media_init=function(){var b,c,d,e,f,g=[{ID:"youtube",url:"//www.youtube.com/iframe_api"},{ID:"vimeo",url:"//f.vimeocdn.com/js/froogaloop2.min.js"},{ID:"soundcloud",url:"//w.soundcloud.com/player/api.js"},{ID:"wistia",url:"//fast.wistia.com/assets/external/E-v1.js"}];if(a(".g-ytsubscribe").length&&(b=document.createElement("script"),b.src="https://apis.google.com/js/platform.js",b.id="tg-youtube-subscribe-api",f=document.getElementsByTagName("script")[0],f.parentNode.insertBefore(b,f)),0===a(".tg-item-media").length)return!1;c={youtube:function(){"undefined"==typeof YT||0===YT.loaded?window.onYouTubeIframeAPIReady=function(){a('[data-api="1"].tg-item-youtube').TG_Youtube()}:a('[data-api="1"].tg-item-youtube').TG_Youtube()},vimeo:function(){a('[data-api="1"].tg-item-vimeo').TG_Vimeo()},soundcloud:function(){a('[data-api="1"].tg-item-soundcloud').TG_SoundCloud()},wistia:function(){a('[data-api="1"].tg-item-wistia').TG_Wistia()}};for(var h=0;h<g.length;h++)e=g[h].ID,a('[data-api="1"].tg-item-'+e).length>0&&(d=g[h].url,0===a("#tg-"+e+"-api").length?(b=document.createElement("script"),b.src=g[h].url,b.id="tg-"+e+"-api",f=document.getElementsByTagName("script")[0],f.parentNode.insertBefore(b,f),function(a,b){a.onload=function(){c[b]()}}(b,e)):c[e]());a(document).ready(function(){a(".tg-item .tg-item-audio-player").attr("width","100%"),a(".tg-item-video-player,.tg-item-audio-player").TG_HTML_Player(),tg_global_var.mediaelement&&(a(".tg-item-video-player:not(.tg-mediaelement-init), .tg-item-audio-player:not(.tg-mediaelement-init)").mediaelementplayer({audioVolume:"vertical",videoVolume:"vertical",features:["playpause","current","progress","fullscreen","volume","duration"],startVolume:.8}),a(".tg-item-video-player, .tg-item-audio-player").addClass("tg-mediaelement-init"))})},a.TG_media_destroy=function(b){var c=b?b:a(".tg-item");c.find(".tg-item-vimeo").each(function(){var b=a(this),c=b.closest(e).data("media-player");c&&(c.api("pause"),b.attr("src","about:blank"))}),b=b?b.find(".tg-item video, .tg-item audio"):a(".tg-item video, .tg-item audio"),b.each(function(){var b=a(this),c=b.data("mediaelementplayer");b.closest(e).removeClass("tg-force-play tg-is-playing"),b.length&&(c?(c=b.data("mediaelementplayer"),c.pause(),c.setSrc("about:blank"),b.children("source").prop("src",""),c.remove()):(b[0].pause(),b[0].src="about:blank",b.children("source").prop("src",""),b.remove().length=0))}),tg_global_var.mediaelement&&(mejs.players=[])},a.TO_Lightbox=function(){function F(){var b=a(o).filter(":visible");for(m=b.length,i=0;m>i;i++){var c=b.eq(i);n[i]={},n[i].type=c.data("tolb-type"),n[i].src=c.data("tolb-src"),n[i].alt=c.data("tolb-alt"),n[i].poster=c.data("tolb-poster"),c.data(z,i)}m>1?a(w+","+x).show():a(w+","+x).hide()}function G(b){switch(a(p).addClass(A+" "+C),e=b.data(z),k=n[e].type,g=n[e].src,h=n[e].alt,P(),k){case"image":j=a('<img class="tolb-img" src="'+g+'" alt="'+h+'"></img>'),f=new Image,f.onload=J,f.onerror=J,f.src=g;break;case"youtube":g="//www.youtube.com/embed/"+g+"?html5=1&controls=1&autohide=1&rel=0&showinfo=0&autoplay="+E,j=a('<iframe class="tolb-video" src="'+g+'" allowfullscreen></iframe>'),L();break;case"vimeo":g="//player.vimeo.com/video/"+g+"?title=0&amp;byline=0&amp;portrait=0&amp;autoplay="+E,j=a('<iframe class="tolb-video" src="'+g+'" allowfullscreen></iframe>'),L();break;case"wistia":g="//fast.wistia.net/embed/iframe/"+g+"?title=0&amp;byline=0&amp;portrait=0&amp;autoPlay="+E,j=a('<iframe class="tolb-video" src="'+g+'" allowfullscreen></iframe>'),L();break;case"video":for(var c="",d=0;d<g.length;d++)c+='<source src="'+g[d][0].source+'" type="video/'+g[d][0].type+'" width="100%" height="100%"></source>';l=n[e].poster,l=l?' poster="'+l+'"':"";var i=E?" autoplay":"";j=a('<video class="tolb-video" controls'+l+i+">"+c+"</video>"),K()}}function H(){var b=a(p).find("iframe").not(j);b.length>0?b.attr("src","about:blank").one("load",function(){I()}):I()}function I(){a(p).addClass(B),c="iframe"!==k?a(r).html(""):a(r).find("*").not(j).remove(),c="image"!==k?a(p).addClass(D):a(p).removeClass(D),c="iframe"!==k&&a(r).append(j),N(),O(),j.show(),a(p).removeClass(C)}function J(){H()}function K(){tg_is_mobile?(c=d&&d.setSrc("about:blank"),H()):(j.one("loadeddata",function(){c=d&&d.setSrc("about:blank"),tg_global_var.mediaelement?M():H()}),j[0].addEventListener("error",function(){O(),a(p).removeClass(C)}))}function L(){k="iframe",a(r).append(j.hide()),j.one("load",function(){H()})}function M(){j.mediaelementplayer({features:["playpause","stop","loop","current","progress","duration","volume","sourcechooser","fullscreen"],videoVolume:"horizontal",startVolume:.8,success:function(b,c){d=b,j=a(c).closest(".mejs-container"),H(),d.addEventListener("ended",function(){j.find(".mejs-poster").show()})}})}function N(){a(t).css("max-height",a(window).height()-80-a("#wpadminbar").height())}function O(){a(u).text(h),a(v).text(e+1+"/"+m)}function P(){a(x).data(z,Q(e-1)),a(w).data(z,Q(e+1))}function Q(a){return(m+a%m)%m}function R(){a(p).removeClass(A+" "+C+" "+B),setTimeout(function(){a(p).find("iframe").length>0?a(p).find("iframe").attr("src","about:blank").one("load",function(){a(r).html("")}):a(r).html("")},300)}var c,d,e,f,g,h,j,k,l,m,b='<div class="tolb-holder"><div class="tolb-loader"></div><div class="tolb-inner"><figure><div class="tolb-close tg-icon-close"></div><div class="tolb-content"></div><figcaption><div class="tolb-title"></div><div class="tolb-counter"></div></figcaption></figure></div><div class="tolb-prev"><i class="tg-icon-arrow-prev-thin"></i></div><div class="tolb-next"><i class="tg-icon-arrow-next-thin"></i></div></div>',n=[],o="[data-tolb-src]:not(.tolb-disabled)",p=".tolb-holder",q=".tolb-inner",r=".tolb-content",s=".tolb-video",t=".tolb-img",u=".tolb-title",v=".tolb-counter",w=".tolb-next",x=".tolb-prev",y=".tolb-close",z="tolb-index",A="tolb-open",B="tolb-ready",C="tolb-loading",D="tolb-iframe",E=tg_global_var.lightbox_autoplay;
a(window).on("resize",function(){N()}),a(document).on("click",o,function(){return a.TG_Pause_Players(),a(s+","+t).remove(),F(),G(a(this)),!1}),a(document).on("click touchend",w+","+x,function(){return G(a(this)),!1}),a(document).on("keydown",throttle(function(b){a(p).hasClass(A)&&(37==b.keyCode?a(x).trigger("click"):39==b.keyCode?a(w).trigger("click"):27==b.keyCode&&R())},300)),a(document).on("click touchend",q+","+y,function(b){return b.stopPropagation(),(a(b.target).is(q)||a(b.target).is(y))&&R(),!1}),a("body").append(a(b))},h(),j(),a(document).on("click",".tg-facebook",function(b){b.preventDefault();var c=k(a(this));return window.open("http://www.facebook.com/share.php?u="+c.url+"&t="+c.text,"fbShareWin",c.props),!1}),a(document).on("click",".tg-twitter",function(b){b.preventDefault();var c=k(a(this));return window.open("http://twitter.com/share?url="+c.url+"&text="+c.title,"ttShareWin",c.props),!1}),a(document).on("click",".tg-pinterest",function(b){b.preventDefault();var c=k(a(this));return window.open("http://pinterest.com/pin/create/button/?url="+c.url+"&description="+c.title+"&media="+c.img,"ptShareWin",c.props),!1}),a(document).on("click",".tg-google1",function(b){b.preventDefault();var c=k(a(this));return window.open("https://plus.google.com/share?url="+c.url,"g1ShareWin",c.props),!1}),a.TG_media_init(),a(document).ready(function(){a(".tg-grid-preloader-styles, .tg-grid-styles").removeAttr("scoped"),a(".tg-grid-holder").The_Grid(),a.TO_Lightbox()});var m,n,o,l=a.event;m=l.special.debouncedresize={setup:function(){a(this).on("resize",m.handler)},teardown:function(){a(this).off("resize",m.handler)},handler:function(a,b){var c=this,d=arguments,e=function(){a.type="debouncedresize",l.dispatch.apply(c,d)};o&&clearTimeout(o),n=b?e():o=setTimeout(e,m.threshold)},threshold:100}}(jQuery),function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),window.tgInterval=function(a,b){var f,c=Date.now,d=window.requestAnimationFrame,e=c(),g=function(){c()-e<b||(e+=b,a()),f||d(g)};return d(g),{clear:function(){f=1}}},tg_global_var.mediaelement_ex&&(!function(a){a.extend(mejs.MepDefaults,{sourcechooserText:"Source Chooser"}),a.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(b,c,d,e){var f=this;b.sourcechooserButton=a('<div class="mejs-button mejs-sourcechooser-button"><button type="button" aria-controls="'+f.id+'" title="'+f.options.sourcechooserText+'" aria-label="'+f.options.sourcechooserText+'"></button><div class="mejs-sourcechooser-selector"><ul></ul></div></div>').appendTo(c).delegate("input[type=checkbox]","click",function(){var b=this.value;a(this).closest(".mejs-sourcechooser-selector").find("input").removeAttr("checked"),a(this).closest(".mejs-sourcechooser-selector").find("label").removeClass("active"),a(this).next("label").addClass("active"),e.currentSrc!=b&&(currentTime=e.currentTime,paused=e.paused,e.setSrc(b),e.load(),e.addEventListener("loadedmetadata",function(){this.currentTime=currentTime},!0),e.addEventListener("canplay",function(){paused||this.play()},!0))});for(var g in e.children){var h=e.children[g];"SOURCE"!==h.nodeName||"probably"!=e.canPlayType(h.type)&&"maybe"!=e.canPlayType(h.type)||b.addSourceButton(h.src,h.title,h.type,e.src==h.src)}},addSourceButton:function(b,c,d,e){var f=this;(""===c||void 0==c)&&(c=b),d=d.split("/")[1],f.sourcechooserButton.find("ul").append(a('<li><input type="checkbox" name="'+f.id+'_sourcechooser" id="'+f.id+"_sourcechooser_"+d+'" value="'+b+'" '+(e?'checked="checked"':"")+' /><label for="'+f.id+"_sourcechooser_"+d+'">'+d+"</label></li>")),f.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var a=this;a.sourcechooserButton.find(".mejs-sourcechooser-selector").height(a.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(!0))}})}(mejs.$),function(a){a.extend(MediaElementPlayer.prototype,{buildloop:function(b,c){var d=this,e=a('<div class="mejs-button mejs-loop-button '+(b.options.loop?"mejs-loop-on":"mejs-loop-off")+'"><button type="button" aria-controls="'+d.id+'" title="Toggle Loop" aria-label="Toggle Loop"></button></div>').appendTo(c).click(function(){b.options.loop=!b.options.loop,b.options.loop?e.removeClass("mejs-loop-off").addClass("mejs-loop-on"):e.removeClass("mejs-loop-on").addClass("mejs-loop-off")})}})}(mejs.$));